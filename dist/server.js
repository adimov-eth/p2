var{defineProperty:PU,getOwnPropertyNames:hq,getOwnPropertyDescriptor:bq}=Object,pq=Object.prototype.hasOwnProperty;var X4=new WeakMap,$$=($)=>{var Q=X4.get($),X;if(Q)return Q;if(Q=PU({},"__esModule",{value:!0}),$&&typeof $==="object"||typeof $==="function")hq($).map((Z)=>!pq.call(Q,Z)&&PU(Q,Z,{get:()=>$[Z],enumerable:!(X=bq($,Z))||X.enumerable}));return X4.set($,Q),Q},L$=($,Q)=>()=>(Q||$((Q={exports:{}}).exports,Q),Q.exports);var _Z=($,Q)=>{for(var X in Q)PU($,X,{get:Q[X],enumerable:!0,configurable:!0,set:(Z)=>Q[X]=()=>Z})};var K0=($,Q)=>()=>($&&(Q=$($=0)),Q);var Z4=(($)=>typeof require!=="undefined"?require:typeof Proxy!=="undefined"?new Proxy($,{get:(Q,X)=>(typeof require!=="undefined"?require:Q)[X]}):$)(function($){if(typeof require!=="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+$+'" is not supported')});var Y4=L$((cq)=>{cq.supports=function $(...Q){let X=Q.reduce((Z,Y)=>Object.assign(Z,Y),{});return Object.assign(X,{snapshots:X.snapshots||!1,permanence:X.permanence||!1,seek:X.seek||!1,clear:X.clear||!1,getMany:X.getMany||!1,keyIterator:X.keyIterator||!1,valueIterator:X.valueIterator||!1,iteratorNextv:X.iteratorNextv||!1,iteratorAll:X.iteratorAll||!1,status:X.status||!1,createIfMissing:X.createIfMissing||!1,errorIfExists:X.errorIfExists||!1,deferredOpen:X.deferredOpen||!1,promises:X.promises||!1,streams:X.streams||!1,encodings:Object.assign({},X.encodings),events:Object.assign({},X.events),additionalMethods:Object.assign({},X.additionalMethods)})}});var bX=L$((JB,J4)=>{J4.exports=class $ extends Error{constructor(Q,X){super(Q||"");if(typeof X==="object"&&X!==null){if(X.code)this.code=String(X.code);if(X.expected)this.expected=!0;if(X.transient)this.transient=!0;if(X.cause)this.cause=X.cause}if(Error.captureStackTrace)Error.captureStackTrace(this,this.constructor)}}});var g$={};_Z(g$,{transcode:()=>BM,resolveObjectURL:()=>IM,kStringMaxLength:()=>L4,kMaxLength:()=>SG,isUtf8:()=>PM,isAscii:()=>SM,default:()=>jM,constants:()=>tq,btoa:()=>sq,atob:()=>iq,INSPECT_MAX_BYTES:()=>H4,File:()=>rq,Buffer:()=>L0,Blob:()=>aq});function uq($){var Q=$.length;if(Q%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var X=$.indexOf("=");if(X===-1)X=Q;var Z=X===Q?0:4-X%4;return[X,Z]}function dq($,Q){return($+Q)*3/4-Q}function lq($){var Q,X=uq($),Z=X[0],Y=X[1],V=new Uint8Array(dq(Z,Y)),G=0,H=Y>0?Z-4:Z,D;for(D=0;D<H;D+=4)Q=RX[$.charCodeAt(D)]<<18|RX[$.charCodeAt(D+1)]<<12|RX[$.charCodeAt(D+2)]<<6|RX[$.charCodeAt(D+3)],V[G++]=Q>>16&255,V[G++]=Q>>8&255,V[G++]=Q&255;if(Y===2)Q=RX[$.charCodeAt(D)]<<2|RX[$.charCodeAt(D+1)]>>4,V[G++]=Q&255;if(Y===1)Q=RX[$.charCodeAt(D)]<<10|RX[$.charCodeAt(D+1)]<<4|RX[$.charCodeAt(D+2)]>>2,V[G++]=Q>>8&255,V[G++]=Q&255;return V}function oq($){return OZ[$>>18&63]+OZ[$>>12&63]+OZ[$>>6&63]+OZ[$&63]}function nq($,Q,X){var Z,Y=[];for(var V=Q;V<X;V+=3)Z=($[V]<<16&16711680)+($[V+1]<<8&65280)+($[V+2]&255),Y.push(oq(Z));return Y.join("")}function W4($){var Q,X=$.length,Z=X%3,Y=[],V=16383;for(var G=0,H=X-Z;G<H;G+=V)Y.push(nq($,G,G+V>H?H:G+V));if(Z===1)Q=$[X-1],Y.push(OZ[Q>>2]+OZ[Q<<4&63]+"==");else if(Z===2)Q=($[X-2]<<8)+$[X-1],Y.push(OZ[Q>>10]+OZ[Q>>4&63]+OZ[Q<<2&63]+"=");return Y.join("")}function GV($,Q,X,Z,Y){var V,G,H=Y*8-Z-1,D=(1<<H)-1,A=D>>1,T=-7,F=X?Y-1:0,M=X?-1:1,I=$[Q+F];F+=M,V=I&(1<<-T)-1,I>>=-T,T+=H;for(;T>0;V=V*256+$[Q+F],F+=M,T-=8);G=V&(1<<-T)-1,V>>=-T,T+=Z;for(;T>0;G=G*256+$[Q+F],F+=M,T-=8);if(V===0)V=1-A;else if(V===D)return G?NaN:(I?-1:1)*(1/0);else G=G+Math.pow(2,Z),V=V-A;return(I?-1:1)*G*Math.pow(2,V-Z)}function z4($,Q,X,Z,Y,V){var G,H,D,A=V*8-Y-1,T=(1<<A)-1,F=T>>1,M=Y===23?Math.pow(2,-24)-Math.pow(2,-77):0,I=Z?0:V-1,P=Z?1:-1,S=Q<0||Q===0&&1/Q<0?1:0;if(Q=Math.abs(Q),isNaN(Q)||Q===1/0)H=isNaN(Q)?1:0,G=T;else{if(G=Math.floor(Math.log(Q)/Math.LN2),Q*(D=Math.pow(2,-G))<1)G--,D*=2;if(G+F>=1)Q+=M/D;else Q+=M*Math.pow(2,1-F);if(Q*D>=2)G++,D/=2;if(G+F>=T)H=0,G=T;else if(G+F>=1)H=(Q*D-1)*Math.pow(2,Y),G=G+F;else H=Q*Math.pow(2,F-1)*Math.pow(2,Y),G=0}for(;Y>=8;$[X+I]=H&255,I+=P,H/=256,Y-=8);G=G<<Y|H,A+=Y;for(;A>0;$[X+I]=G&255,I+=P,G/=256,A-=8);$[X+I-P]|=S*128}function xZ($){if($>SG)throw new RangeError('The value "'+$+'" is invalid for option "size"');let Q=new Uint8Array($);return Object.setPrototypeOf(Q,L0.prototype),Q}function _U($,Q,X){return class Z extends X{constructor(){super();Object.defineProperty(this,"message",{value:Q.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${$}]`,this.stack,delete this.name}get code(){return $}set code(Y){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Y,writable:!0})}toString(){return`${this.name} [${$}]: ${this.message}`}}}function L0($,Q,X){if(typeof $==="number"){if(typeof Q==="string")throw new TypeError('The "string" argument must be of type string. Received type number');return xU($)}return D4($,Q,X)}function D4($,Q,X){if(typeof $==="string")return XM($,Q);if(ArrayBuffer.isView($))return ZM($);if($==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $);if(zZ($,ArrayBuffer)||$&&zZ($.buffer,ArrayBuffer))return NU($,Q,X);if(typeof SharedArrayBuffer!=="undefined"&&(zZ($,SharedArrayBuffer)||$&&zZ($.buffer,SharedArrayBuffer)))return NU($,Q,X);if(typeof $==="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let Z=$.valueOf&&$.valueOf();if(Z!=null&&Z!==$)return L0.from(Z,Q,X);let Y=YM($);if(Y)return Y;if(typeof Symbol!=="undefined"&&Symbol.toPrimitive!=null&&typeof $[Symbol.toPrimitive]==="function")return L0.from($[Symbol.toPrimitive]("string"),Q,X);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $)}function q4($){if(typeof $!=="number")throw new TypeError('"size" argument must be of type number');else if($<0)throw new RangeError('The value "'+$+'" is invalid for option "size"')}function QM($,Q,X){if(q4($),$<=0)return xZ($);if(Q!==void 0)return typeof X==="string"?xZ($).fill(Q,X):xZ($).fill(Q);return xZ($)}function xU($){return q4($),xZ($<0?0:kU($)|0)}function XM($,Q){if(typeof Q!=="string"||Q==="")Q="utf8";if(!L0.isEncoding(Q))throw new TypeError("Unknown encoding: "+Q);let X=M4($,Q)|0,Z=xZ(X),Y=Z.write($,Q);if(Y!==X)Z=Z.slice(0,Y);return Z}function jU($){let Q=$.length<0?0:kU($.length)|0,X=xZ(Q);for(let Z=0;Z<Q;Z+=1)X[Z]=$[Z]&255;return X}function ZM($){if(zZ($,Uint8Array)){let Q=new Uint8Array($);return NU(Q.buffer,Q.byteOffset,Q.byteLength)}return jU($)}function NU($,Q,X){if(Q<0||$.byteLength<Q)throw new RangeError('"offset" is outside of buffer bounds');if($.byteLength<Q+(X||0))throw new RangeError('"length" is outside of buffer bounds');let Z;if(Q===void 0&&X===void 0)Z=new Uint8Array($);else if(X===void 0)Z=new Uint8Array($,Q);else Z=new Uint8Array($,Q,X);return Object.setPrototypeOf(Z,L0.prototype),Z}function YM($){if(L0.isBuffer($)){let Q=kU($.length)|0,X=xZ(Q);if(X.length===0)return X;return $.copy(X,0,0,Q),X}if($.length!==void 0){if(typeof $.length!=="number"||Number.isNaN($.length))return xZ(0);return jU($)}if($.type==="Buffer"&&Array.isArray($.data))return jU($.data)}function kU($){if($>=SG)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+SG.toString(16)+" bytes");return $|0}function M4($,Q){if(L0.isBuffer($))return $.length;if(ArrayBuffer.isView($)||zZ($,ArrayBuffer))return $.byteLength;if(typeof $!=="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof $);let X=$.length,Z=arguments.length>2&&arguments[2]===!0;if(!Z&&X===0)return 0;let Y=!1;for(;;)switch(Q){case"ascii":case"latin1":case"binary":return X;case"utf8":case"utf-8":return wU($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X*2;case"hex":return X>>>1;case"base64":return S4($).length;default:if(Y)return Z?-1:wU($).length;Q=(""+Q).toLowerCase(),Y=!0}}function JM($,Q,X){let Z=!1;if(Q===void 0||Q<0)Q=0;if(Q>this.length)return"";if(X===void 0||X>this.length)X=this.length;if(X<=0)return"";if(X>>>=0,Q>>>=0,X<=Q)return"";if(!$)$="utf8";while(!0)switch($){case"hex":return DM(this,Q,X);case"utf8":case"utf-8":return C4(this,Q,X);case"ascii":return HM(this,Q,X);case"latin1":case"binary":return LM(this,Q,X);case"base64":return OM(this,Q,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return qM(this,Q,X);default:if(Z)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),Z=!0}}function oY($,Q,X){let Z=$[Q];$[Q]=$[X],$[X]=Z}function A4($,Q,X,Z,Y){if($.length===0)return-1;if(typeof X==="string")Z=X,X=0;else if(X>2147483647)X=2147483647;else if(X<-2147483648)X=-2147483648;if(X=+X,Number.isNaN(X))X=Y?0:$.length-1;if(X<0)X=$.length+X;if(X>=$.length)if(Y)return-1;else X=$.length-1;else if(X<0)if(Y)X=0;else return-1;if(typeof Q==="string")Q=L0.from(Q,Z);if(L0.isBuffer(Q)){if(Q.length===0)return-1;return U4($,Q,X,Z,Y)}else if(typeof Q==="number"){if(Q=Q&255,typeof Uint8Array.prototype.indexOf==="function")if(Y)return Uint8Array.prototype.indexOf.call($,Q,X);else return Uint8Array.prototype.lastIndexOf.call($,Q,X);return U4($,[Q],X,Z,Y)}throw new TypeError("val must be string, number or Buffer")}function U4($,Q,X,Z,Y){let V=1,G=$.length,H=Q.length;if(Z!==void 0){if(Z=String(Z).toLowerCase(),Z==="ucs2"||Z==="ucs-2"||Z==="utf16le"||Z==="utf-16le"){if($.length<2||Q.length<2)return-1;V=2,G/=2,H/=2,X/=2}}function D(T,F){if(V===1)return T[F];else return T.readUInt16BE(F*V)}let A;if(Y){let T=-1;for(A=X;A<G;A++)if(D($,A)===D(Q,T===-1?0:A-T)){if(T===-1)T=A;if(A-T+1===H)return T*V}else{if(T!==-1)A-=A-T;T=-1}}else{if(X+H>G)X=G-H;for(A=X;A>=0;A--){let T=!0;for(let F=0;F<H;F++)if(D($,A+F)!==D(Q,F)){T=!1;break}if(T)return A}}return-1}function GM($,Q,X,Z){X=Number(X)||0;let Y=$.length-X;if(!Z)Z=Y;else if(Z=Number(Z),Z>Y)Z=Y;let V=Q.length;if(Z>V/2)Z=V/2;let G;for(G=0;G<Z;++G){let H=parseInt(Q.substr(G*2,2),16);if(Number.isNaN(H))return G;$[X+G]=H}return G}function WM($,Q,X,Z){return WV(wU(Q,$.length-X),$,X,Z)}function VM($,Q,X,Z){return WV(TM(Q),$,X,Z)}function UM($,Q,X,Z){return WV(S4(Q),$,X,Z)}function KM($,Q,X,Z){return WV(FM(Q,$.length-X),$,X,Z)}function OM($,Q,X){if(Q===0&&X===$.length)return W4($);else return W4($.slice(Q,X))}function C4($,Q,X){X=Math.min($.length,X);let Z=[],Y=Q;while(Y<X){let V=$[Y],G=null,H=V>239?4:V>223?3:V>191?2:1;if(Y+H<=X){let D,A,T,F;switch(H){case 1:if(V<128)G=V;break;case 2:if(D=$[Y+1],(D&192)===128){if(F=(V&31)<<6|D&63,F>127)G=F}break;case 3:if(D=$[Y+1],A=$[Y+2],(D&192)===128&&(A&192)===128){if(F=(V&15)<<12|(D&63)<<6|A&63,F>2047&&(F<55296||F>57343))G=F}break;case 4:if(D=$[Y+1],A=$[Y+2],T=$[Y+3],(D&192)===128&&(A&192)===128&&(T&192)===128){if(F=(V&15)<<18|(D&63)<<12|(A&63)<<6|T&63,F>65535&&F<1114112)G=F}}}if(G===null)G=65533,H=1;else if(G>65535)G-=65536,Z.push(G>>>10&1023|55296),G=56320|G&1023;Z.push(G),Y+=H}return zM(Z)}function zM($){let Q=$.length;if(Q<=K4)return String.fromCharCode.apply(String,$);let X="",Z=0;while(Z<Q)X+=String.fromCharCode.apply(String,$.slice(Z,Z+=K4));return X}function HM($,Q,X){let Z="";X=Math.min($.length,X);for(let Y=Q;Y<X;++Y)Z+=String.fromCharCode($[Y]&127);return Z}function LM($,Q,X){let Z="";X=Math.min($.length,X);for(let Y=Q;Y<X;++Y)Z+=String.fromCharCode($[Y]);return Z}function DM($,Q,X){let Z=$.length;if(!Q||Q<0)Q=0;if(!X||X<0||X>Z)X=Z;let Y="";for(let V=Q;V<X;++V)Y+=RM[$[V]];return Y}function qM($,Q,X){let Z=$.slice(Q,X),Y="";for(let V=0;V<Z.length-1;V+=2)Y+=String.fromCharCode(Z[V]+Z[V+1]*256);return Y}function DQ($,Q,X){if($%1!==0||$<0)throw new RangeError("offset is not uint");if($+Q>X)throw new RangeError("Trying to access beyond buffer length")}function iQ($,Q,X,Z,Y,V){if(!L0.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(Q>Y||Q<V)throw new RangeError('"value" argument is out of bounds');if(X+Z>$.length)throw new RangeError("Index out of range")}function T4($,Q,X,Z,Y){P4(Q,Z,Y,$,X,7);let V=Number(Q&BigInt(4294967295));$[X++]=V,V=V>>8,$[X++]=V,V=V>>8,$[X++]=V,V=V>>8,$[X++]=V;let G=Number(Q>>BigInt(32)&BigInt(4294967295));return $[X++]=G,G=G>>8,$[X++]=G,G=G>>8,$[X++]=G,G=G>>8,$[X++]=G,X}function F4($,Q,X,Z,Y){P4(Q,Z,Y,$,X,7);let V=Number(Q&BigInt(4294967295));$[X+7]=V,V=V>>8,$[X+6]=V,V=V>>8,$[X+5]=V,V=V>>8,$[X+4]=V;let G=Number(Q>>BigInt(32)&BigInt(4294967295));return $[X+3]=G,G=G>>8,$[X+2]=G,G=G>>8,$[X+1]=G,G=G>>8,$[X]=G,X+8}function R4($,Q,X,Z,Y,V){if(X+Z>$.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("Index out of range")}function E4($,Q,X,Z,Y){if(Q=+Q,X=X>>>0,!Y)R4($,Q,X,4,340282346638528860000000000000000000000,-340282346638528860000000000000000000000);return z4($,Q,X,Z,23,4),X+4}function I4($,Q,X,Z,Y){if(Q=+Q,X=X>>>0,!Y)R4($,Q,X,8,179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,-179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000);return z4($,Q,X,Z,52,8),X+8}function O4($){let Q="",X=$.length,Z=$[0]==="-"?1:0;for(;X>=Z+4;X-=3)Q=`_${$.slice(X-3,X)}${Q}`;return`${$.slice(0,X)}${Q}`}function MM($,Q,X){if(rJ(Q,"offset"),$[Q]===void 0||$[Q+X]===void 0)BG(Q,$.length-(X+1))}function P4($,Q,X,Z,Y,V){if($>X||$<Q){let G=typeof Q==="bigint"?"n":"",H;if(V>3)if(Q===0||Q===BigInt(0))H=`>= 0${G} and < 2${G} ** ${(V+1)*8}${G}`;else H=`>= -(2${G} ** ${(V+1)*8-1}${G}) and < 2 ** ${(V+1)*8-1}${G}`;else H=`>= ${Q}${G} and <= ${X}${G}`;throw new BU("value",H,$)}MM(Z,Y,V)}function rJ($,Q){if(typeof $!=="number")throw new $M(Q,"number",$)}function BG($,Q,X){if(Math.floor($)!==$)throw rJ($,X),new BU(X||"offset","an integer",$);if(Q<0)throw new eq;throw new BU(X||"offset",`>= ${X?1:0} and <= ${Q}`,$)}function CM($){if($=$.split("=")[0],$=$.trim().replace(AM,""),$.length<2)return"";while($.length%4!==0)$=$+"=";return $}function wU($,Q){Q=Q||1/0;let X,Z=$.length,Y=null,V=[];for(let G=0;G<Z;++G){if(X=$.charCodeAt(G),X>55295&&X<57344){if(!Y){if(X>56319){if((Q-=3)>-1)V.push(239,191,189);continue}else if(G+1===Z){if((Q-=3)>-1)V.push(239,191,189);continue}Y=X;continue}if(X<56320){if((Q-=3)>-1)V.push(239,191,189);Y=X;continue}X=(Y-55296<<10|X-56320)+65536}else if(Y){if((Q-=3)>-1)V.push(239,191,189)}if(Y=null,X<128){if((Q-=1)<0)break;V.push(X)}else if(X<2048){if((Q-=2)<0)break;V.push(X>>6|192,X&63|128)}else if(X<65536){if((Q-=3)<0)break;V.push(X>>12|224,X>>6&63|128,X&63|128)}else if(X<1114112){if((Q-=4)<0)break;V.push(X>>18|240,X>>12&63|128,X>>6&63|128,X&63|128)}else throw new Error("Invalid code point")}return V}function TM($){let Q=[];for(let X=0;X<$.length;++X)Q.push($.charCodeAt(X)&255);return Q}function FM($,Q){let X,Z,Y,V=[];for(let G=0;G<$.length;++G){if((Q-=2)<0)break;X=$.charCodeAt(G),Z=X>>8,Y=X%256,V.push(Y),V.push(Z)}return V}function S4($){return lq(CM($))}function WV($,Q,X,Z){let Y;for(Y=0;Y<Z;++Y){if(Y+X>=Q.length||Y>=$.length)break;Q[Y+X]=$[Y]}return Y}function zZ($,Q){return $ instanceof Q||$!=null&&$.constructor!=null&&$.constructor.name!=null&&$.constructor.name===Q.name}function WY($){return typeof BigInt==="undefined"?EM:$}function EM(){throw new Error("BigInt not supported")}function fU($){return()=>{throw new Error($+" is not implemented for node:buffer browser polyfill")}}var OZ,RX,SU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lY,G4,V4,H4=50,SG=2147483647,L4=536870888,sq,iq,rq,aq,tq,eq,$M,BU,K4=4096,AM,RM,IM,PM,SM=($)=>{for(let Q of $)if(Q.charCodeAt(0)>127)return!1;return!0},BM,jM;var y$=K0(()=>{OZ=[],RX=[];for(lY=0,G4=SU.length;lY<G4;++lY)OZ[lY]=SU[lY],RX[SU.charCodeAt(lY)]=lY;RX[45]=62;RX[95]=63;V4=typeof Symbol==="function"&&typeof Symbol.for==="function"?Symbol.for("nodejs.util.inspect.custom"):null,sq=globalThis.btoa,iq=globalThis.atob,rq=globalThis.File,aq=globalThis.Blob,tq={MAX_LENGTH:SG,MAX_STRING_LENGTH:L4};eq=_U("ERR_BUFFER_OUT_OF_BOUNDS",function($){if($)return`${$} is outside of buffer bounds`;return"Attempt to access memory outside buffer bounds"},RangeError),$M=_U("ERR_INVALID_ARG_TYPE",function($,Q){return`The "${$}" argument must be of type number. Received type ${typeof Q}`},TypeError),BU=_U("ERR_OUT_OF_RANGE",function($,Q,X){let Z=`The value of "${$}" is out of range.`,Y=X;if(Number.isInteger(X)&&Math.abs(X)>4294967296)Y=O4(String(X));else if(typeof X==="bigint"){if(Y=String(X),X>BigInt(2)**BigInt(32)||X<-(BigInt(2)**BigInt(32)))Y=O4(Y);Y+="n"}return Z+=` It must be ${Q}. Received ${Y}`,Z},RangeError);Object.defineProperty(L0.prototype,"parent",{enumerable:!0,get:function(){if(!L0.isBuffer(this))return;return this.buffer}});Object.defineProperty(L0.prototype,"offset",{enumerable:!0,get:function(){if(!L0.isBuffer(this))return;return this.byteOffset}});L0.poolSize=8192;L0.from=function($,Q,X){return D4($,Q,X)};Object.setPrototypeOf(L0.prototype,Uint8Array.prototype);Object.setPrototypeOf(L0,Uint8Array);L0.alloc=function($,Q,X){return QM($,Q,X)};L0.allocUnsafe=function($){return xU($)};L0.allocUnsafeSlow=function($){return xU($)};L0.isBuffer=function $(Q){return Q!=null&&Q._isBuffer===!0&&Q!==L0.prototype};L0.compare=function $(Q,X){if(zZ(Q,Uint8Array))Q=L0.from(Q,Q.offset,Q.byteLength);if(zZ(X,Uint8Array))X=L0.from(X,X.offset,X.byteLength);if(!L0.isBuffer(Q)||!L0.isBuffer(X))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Q===X)return 0;let Z=Q.length,Y=X.length;for(let V=0,G=Math.min(Z,Y);V<G;++V)if(Q[V]!==X[V]){Z=Q[V],Y=X[V];break}if(Z<Y)return-1;if(Y<Z)return 1;return 0};L0.isEncoding=function $(Q){switch(String(Q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};L0.concat=function $(Q,X){if(!Array.isArray(Q))throw new TypeError('"list" argument must be an Array of Buffers');if(Q.length===0)return L0.alloc(0);let Z;if(X===void 0){X=0;for(Z=0;Z<Q.length;++Z)X+=Q[Z].length}let Y=L0.allocUnsafe(X),V=0;for(Z=0;Z<Q.length;++Z){let G=Q[Z];if(zZ(G,Uint8Array))if(V+G.length>Y.length){if(!L0.isBuffer(G))G=L0.from(G);G.copy(Y,V)}else Uint8Array.prototype.set.call(Y,G,V);else if(!L0.isBuffer(G))throw new TypeError('"list" argument must be an Array of Buffers');else G.copy(Y,V);V+=G.length}return Y};L0.byteLength=M4;L0.prototype._isBuffer=!0;L0.prototype.swap16=function $(){let Q=this.length;if(Q%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let X=0;X<Q;X+=2)oY(this,X,X+1);return this};L0.prototype.swap32=function $(){let Q=this.length;if(Q%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let X=0;X<Q;X+=4)oY(this,X,X+3),oY(this,X+1,X+2);return this};L0.prototype.swap64=function $(){let Q=this.length;if(Q%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let X=0;X<Q;X+=8)oY(this,X,X+7),oY(this,X+1,X+6),oY(this,X+2,X+5),oY(this,X+3,X+4);return this};L0.prototype.toString=function $(){let Q=this.length;if(Q===0)return"";if(arguments.length===0)return C4(this,0,Q);return JM.apply(this,arguments)};L0.prototype.toLocaleString=L0.prototype.toString;L0.prototype.equals=function $(Q){if(!L0.isBuffer(Q))throw new TypeError("Argument must be a Buffer");if(this===Q)return!0;return L0.compare(this,Q)===0};L0.prototype.inspect=function $(){let Q="",X=H4;if(Q=this.toString("hex",0,X).replace(/(.{2})/g,"$1 ").trim(),this.length>X)Q+=" ... ";return"<Buffer "+Q+">"};if(V4)L0.prototype[V4]=L0.prototype.inspect;L0.prototype.compare=function $(Q,X,Z,Y,V){if(zZ(Q,Uint8Array))Q=L0.from(Q,Q.offset,Q.byteLength);if(!L0.isBuffer(Q))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Q);if(X===void 0)X=0;if(Z===void 0)Z=Q?Q.length:0;if(Y===void 0)Y=0;if(V===void 0)V=this.length;if(X<0||Z>Q.length||Y<0||V>this.length)throw new RangeError("out of range index");if(Y>=V&&X>=Z)return 0;if(Y>=V)return-1;if(X>=Z)return 1;if(X>>>=0,Z>>>=0,Y>>>=0,V>>>=0,this===Q)return 0;let G=V-Y,H=Z-X,D=Math.min(G,H),A=this.slice(Y,V),T=Q.slice(X,Z);for(let F=0;F<D;++F)if(A[F]!==T[F]){G=A[F],H=T[F];break}if(G<H)return-1;if(H<G)return 1;return 0};L0.prototype.includes=function $(Q,X,Z){return this.indexOf(Q,X,Z)!==-1};L0.prototype.indexOf=function $(Q,X,Z){return A4(this,Q,X,Z,!0)};L0.prototype.lastIndexOf=function $(Q,X,Z){return A4(this,Q,X,Z,!1)};L0.prototype.write=function $(Q,X,Z,Y){if(X===void 0)Y="utf8",Z=this.length,X=0;else if(Z===void 0&&typeof X==="string")Y=X,Z=this.length,X=0;else if(isFinite(X))if(X=X>>>0,isFinite(Z)){if(Z=Z>>>0,Y===void 0)Y="utf8"}else Y=Z,Z=void 0;else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let V=this.length-X;if(Z===void 0||Z>V)Z=V;if(Q.length>0&&(Z<0||X<0)||X>this.length)throw new RangeError("Attempt to write outside buffer bounds");if(!Y)Y="utf8";let G=!1;for(;;)switch(Y){case"hex":return GM(this,Q,X,Z);case"utf8":case"utf-8":return WM(this,Q,X,Z);case"ascii":case"latin1":case"binary":return VM(this,Q,X,Z);case"base64":return UM(this,Q,X,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return KM(this,Q,X,Z);default:if(G)throw new TypeError("Unknown encoding: "+Y);Y=(""+Y).toLowerCase(),G=!0}};L0.prototype.toJSON=function $(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};L0.prototype.slice=function $(Q,X){let Z=this.length;if(Q=~~Q,X=X===void 0?Z:~~X,Q<0){if(Q+=Z,Q<0)Q=0}else if(Q>Z)Q=Z;if(X<0){if(X+=Z,X<0)X=0}else if(X>Z)X=Z;if(X<Q)X=Q;let Y=this.subarray(Q,X);return Object.setPrototypeOf(Y,L0.prototype),Y};L0.prototype.readUintLE=L0.prototype.readUIntLE=function $(Q,X,Z){if(Q=Q>>>0,X=X>>>0,!Z)DQ(Q,X,this.length);let Y=this[Q],V=1,G=0;while(++G<X&&(V*=256))Y+=this[Q+G]*V;return Y};L0.prototype.readUintBE=L0.prototype.readUIntBE=function $(Q,X,Z){if(Q=Q>>>0,X=X>>>0,!Z)DQ(Q,X,this.length);let Y=this[Q+--X],V=1;while(X>0&&(V*=256))Y+=this[Q+--X]*V;return Y};L0.prototype.readUint8=L0.prototype.readUInt8=function $(Q,X){if(Q=Q>>>0,!X)DQ(Q,1,this.length);return this[Q]};L0.prototype.readUint16LE=L0.prototype.readUInt16LE=function $(Q,X){if(Q=Q>>>0,!X)DQ(Q,2,this.length);return this[Q]|this[Q+1]<<8};L0.prototype.readUint16BE=L0.prototype.readUInt16BE=function $(Q,X){if(Q=Q>>>0,!X)DQ(Q,2,this.length);return this[Q]<<8|this[Q+1]};L0.prototype.readUint32LE=L0.prototype.readUInt32LE=function $(Q,X){if(Q=Q>>>0,!X)DQ(Q,4,this.length);return(this[Q]|this[Q+1]<<8|this[Q+2]<<16)+this[Q+3]*16777216};L0.prototype.readUint32BE=L0.prototype.readUInt32BE=function $(Q,X){if(Q=Q>>>0,!X)DQ(Q,4,this.length);return this[Q]*16777216+(this[Q+1]<<16|this[Q+2]<<8|this[Q+3])};L0.prototype.readBigUInt64LE=WY(function $(Q){Q=Q>>>0,rJ(Q,"offset");let X=this[Q],Z=this[Q+7];if(X===void 0||Z===void 0)BG(Q,this.length-8);let Y=X+this[++Q]*256+this[++Q]*65536+this[++Q]*16777216,V=this[++Q]+this[++Q]*256+this[++Q]*65536+Z*16777216;return BigInt(Y)+(BigInt(V)<<BigInt(32))});L0.prototype.readBigUInt64BE=WY(function $(Q){Q=Q>>>0,rJ(Q,"offset");let X=this[Q],Z=this[Q+7];if(X===void 0||Z===void 0)BG(Q,this.length-8);let Y=X*16777216+this[++Q]*65536+this[++Q]*256+this[++Q],V=this[++Q]*16777216+this[++Q]*65536+this[++Q]*256+Z;return(BigInt(Y)<<BigInt(32))+BigInt(V)});L0.prototype.readIntLE=function $(Q,X,Z){if(Q=Q>>>0,X=X>>>0,!Z)DQ(Q,X,this.length);let Y=this[Q],V=1,G=0;while(++G<X&&(V*=256))Y+=this[Q+G]*V;if(V*=128,Y>=V)Y-=Math.pow(2,8*X);return Y};L0.prototype.readIntBE=function $(Q,X,Z){if(Q=Q>>>0,X=X>>>0,!Z)DQ(Q,X,this.length);let Y=X,V=1,G=this[Q+--Y];while(Y>0&&(V*=256))G+=this[Q+--Y]*V;if(V*=128,G>=V)G-=Math.pow(2,8*X);return G};L0.prototype.readInt8=function $(Q,X){if(Q=Q>>>0,!X)DQ(Q,1,this.length);if(!(this[Q]&128))return this[Q];return(255-this[Q]+1)*-1};L0.prototype.readInt16LE=function $(Q,X){if(Q=Q>>>0,!X)DQ(Q,2,this.length);let Z=this[Q]|this[Q+1]<<8;return Z&32768?Z|4294901760:Z};L0.prototype.readInt16BE=function $(Q,X){if(Q=Q>>>0,!X)DQ(Q,2,this.length);let Z=this[Q+1]|this[Q]<<8;return Z&32768?Z|4294901760:Z};L0.prototype.readInt32LE=function $(Q,X){if(Q=Q>>>0,!X)DQ(Q,4,this.length);return this[Q]|this[Q+1]<<8|this[Q+2]<<16|this[Q+3]<<24};L0.prototype.readInt32BE=function $(Q,X){if(Q=Q>>>0,!X)DQ(Q,4,this.length);return this[Q]<<24|this[Q+1]<<16|this[Q+2]<<8|this[Q+3]};L0.prototype.readBigInt64LE=WY(function $(Q){Q=Q>>>0,rJ(Q,"offset");let X=this[Q],Z=this[Q+7];if(X===void 0||Z===void 0)BG(Q,this.length-8);let Y=this[Q+4]+this[Q+5]*256+this[Q+6]*65536+(Z<<24);return(BigInt(Y)<<BigInt(32))+BigInt(X+this[++Q]*256+this[++Q]*65536+this[++Q]*16777216)});L0.prototype.readBigInt64BE=WY(function $(Q){Q=Q>>>0,rJ(Q,"offset");let X=this[Q],Z=this[Q+7];if(X===void 0||Z===void 0)BG(Q,this.length-8);let Y=(X<<24)+this[++Q]*65536+this[++Q]*256+this[++Q];return(BigInt(Y)<<BigInt(32))+BigInt(this[++Q]*16777216+this[++Q]*65536+this[++Q]*256+Z)});L0.prototype.readFloatLE=function $(Q,X){if(Q=Q>>>0,!X)DQ(Q,4,this.length);return GV(this,Q,!0,23,4)};L0.prototype.readFloatBE=function $(Q,X){if(Q=Q>>>0,!X)DQ(Q,4,this.length);return GV(this,Q,!1,23,4)};L0.prototype.readDoubleLE=function $(Q,X){if(Q=Q>>>0,!X)DQ(Q,8,this.length);return GV(this,Q,!0,52,8)};L0.prototype.readDoubleBE=function $(Q,X){if(Q=Q>>>0,!X)DQ(Q,8,this.length);return GV(this,Q,!1,52,8)};L0.prototype.writeUintLE=L0.prototype.writeUIntLE=function $(Q,X,Z,Y){if(Q=+Q,X=X>>>0,Z=Z>>>0,!Y){let H=Math.pow(2,8*Z)-1;iQ(this,Q,X,Z,H,0)}let V=1,G=0;this[X]=Q&255;while(++G<Z&&(V*=256))this[X+G]=Q/V&255;return X+Z};L0.prototype.writeUintBE=L0.prototype.writeUIntBE=function $(Q,X,Z,Y){if(Q=+Q,X=X>>>0,Z=Z>>>0,!Y){let H=Math.pow(2,8*Z)-1;iQ(this,Q,X,Z,H,0)}let V=Z-1,G=1;this[X+V]=Q&255;while(--V>=0&&(G*=256))this[X+V]=Q/G&255;return X+Z};L0.prototype.writeUint8=L0.prototype.writeUInt8=function $(Q,X,Z){if(Q=+Q,X=X>>>0,!Z)iQ(this,Q,X,1,255,0);return this[X]=Q&255,X+1};L0.prototype.writeUint16LE=L0.prototype.writeUInt16LE=function $(Q,X,Z){if(Q=+Q,X=X>>>0,!Z)iQ(this,Q,X,2,65535,0);return this[X]=Q&255,this[X+1]=Q>>>8,X+2};L0.prototype.writeUint16BE=L0.prototype.writeUInt16BE=function $(Q,X,Z){if(Q=+Q,X=X>>>0,!Z)iQ(this,Q,X,2,65535,0);return this[X]=Q>>>8,this[X+1]=Q&255,X+2};L0.prototype.writeUint32LE=L0.prototype.writeUInt32LE=function $(Q,X,Z){if(Q=+Q,X=X>>>0,!Z)iQ(this,Q,X,4,4294967295,0);return this[X+3]=Q>>>24,this[X+2]=Q>>>16,this[X+1]=Q>>>8,this[X]=Q&255,X+4};L0.prototype.writeUint32BE=L0.prototype.writeUInt32BE=function $(Q,X,Z){if(Q=+Q,X=X>>>0,!Z)iQ(this,Q,X,4,4294967295,0);return this[X]=Q>>>24,this[X+1]=Q>>>16,this[X+2]=Q>>>8,this[X+3]=Q&255,X+4};L0.prototype.writeBigUInt64LE=WY(function $(Q,X=0){return T4(this,Q,X,BigInt(0),BigInt("0xffffffffffffffff"))});L0.prototype.writeBigUInt64BE=WY(function $(Q,X=0){return F4(this,Q,X,BigInt(0),BigInt("0xffffffffffffffff"))});L0.prototype.writeIntLE=function $(Q,X,Z,Y){if(Q=+Q,X=X>>>0,!Y){let D=Math.pow(2,8*Z-1);iQ(this,Q,X,Z,D-1,-D)}let V=0,G=1,H=0;this[X]=Q&255;while(++V<Z&&(G*=256)){if(Q<0&&H===0&&this[X+V-1]!==0)H=1;this[X+V]=(Q/G>>0)-H&255}return X+Z};L0.prototype.writeIntBE=function $(Q,X,Z,Y){if(Q=+Q,X=X>>>0,!Y){let D=Math.pow(2,8*Z-1);iQ(this,Q,X,Z,D-1,-D)}let V=Z-1,G=1,H=0;this[X+V]=Q&255;while(--V>=0&&(G*=256)){if(Q<0&&H===0&&this[X+V+1]!==0)H=1;this[X+V]=(Q/G>>0)-H&255}return X+Z};L0.prototype.writeInt8=function $(Q,X,Z){if(Q=+Q,X=X>>>0,!Z)iQ(this,Q,X,1,127,-128);if(Q<0)Q=255+Q+1;return this[X]=Q&255,X+1};L0.prototype.writeInt16LE=function $(Q,X,Z){if(Q=+Q,X=X>>>0,!Z)iQ(this,Q,X,2,32767,-32768);return this[X]=Q&255,this[X+1]=Q>>>8,X+2};L0.prototype.writeInt16BE=function $(Q,X,Z){if(Q=+Q,X=X>>>0,!Z)iQ(this,Q,X,2,32767,-32768);return this[X]=Q>>>8,this[X+1]=Q&255,X+2};L0.prototype.writeInt32LE=function $(Q,X,Z){if(Q=+Q,X=X>>>0,!Z)iQ(this,Q,X,4,2147483647,-2147483648);return this[X]=Q&255,this[X+1]=Q>>>8,this[X+2]=Q>>>16,this[X+3]=Q>>>24,X+4};L0.prototype.writeInt32BE=function $(Q,X,Z){if(Q=+Q,X=X>>>0,!Z)iQ(this,Q,X,4,2147483647,-2147483648);if(Q<0)Q=4294967295+Q+1;return this[X]=Q>>>24,this[X+1]=Q>>>16,this[X+2]=Q>>>8,this[X+3]=Q&255,X+4};L0.prototype.writeBigInt64LE=WY(function $(Q,X=0){return T4(this,Q,X,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});L0.prototype.writeBigInt64BE=WY(function $(Q,X=0){return F4(this,Q,X,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});L0.prototype.writeFloatLE=function $(Q,X,Z){return E4(this,Q,X,!0,Z)};L0.prototype.writeFloatBE=function $(Q,X,Z){return E4(this,Q,X,!1,Z)};L0.prototype.writeDoubleLE=function $(Q,X,Z){return I4(this,Q,X,!0,Z)};L0.prototype.writeDoubleBE=function $(Q,X,Z){return I4(this,Q,X,!1,Z)};L0.prototype.copy=function $(Q,X,Z,Y){if(!L0.isBuffer(Q))throw new TypeError("argument should be a Buffer");if(!Z)Z=0;if(!Y&&Y!==0)Y=this.length;if(X>=Q.length)X=Q.length;if(!X)X=0;if(Y>0&&Y<Z)Y=Z;if(Y===Z)return 0;if(Q.length===0||this.length===0)return 0;if(X<0)throw new RangeError("targetStart out of bounds");if(Z<0||Z>=this.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("sourceEnd out of bounds");if(Y>this.length)Y=this.length;if(Q.length-X<Y-Z)Y=Q.length-X+Z;let V=Y-Z;if(this===Q&&typeof Uint8Array.prototype.copyWithin==="function")this.copyWithin(X,Z,Y);else Uint8Array.prototype.set.call(Q,this.subarray(Z,Y),X);return V};L0.prototype.fill=function $(Q,X,Z,Y){if(typeof Q==="string"){if(typeof X==="string")Y=X,X=0,Z=this.length;else if(typeof Z==="string")Y=Z,Z=this.length;if(Y!==void 0&&typeof Y!=="string")throw new TypeError("encoding must be a string");if(typeof Y==="string"&&!L0.isEncoding(Y))throw new TypeError("Unknown encoding: "+Y);if(Q.length===1){let G=Q.charCodeAt(0);if(Y==="utf8"&&G<128||Y==="latin1")Q=G}}else if(typeof Q==="number")Q=Q&255;else if(typeof Q==="boolean")Q=Number(Q);if(X<0||this.length<X||this.length<Z)throw new RangeError("Out of range index");if(Z<=X)return this;if(X=X>>>0,Z=Z===void 0?this.length:Z>>>0,!Q)Q=0;let V;if(typeof Q==="number")for(V=X;V<Z;++V)this[V]=Q;else{let G=L0.isBuffer(Q)?Q:L0.from(Q,Y),H=G.length;if(H===0)throw new TypeError('The value "'+Q+'" is invalid for argument "value"');for(V=0;V<Z-X;++V)this[V+X]=G[V%H]}return this};AM=/[^+/0-9A-Za-z-_]/g;RM=function(){let $=new Array(256);for(let Q=0;Q<16;++Q){let X=Q*16;for(let Z=0;Z<16;++Z)$[X+Z]="0123456789abcdef"[Q]+"0123456789abcdef"[Z]}return $}();IM=fU("resolveObjectURL"),PM=fU("isUtf8"),BM=fU("transcode"),jM=L0});var gU=L$((GB,B4)=>{var vU=null;B4.exports=function(){if(vU===null)vU={textEncoder:new TextEncoder,textDecoder:new TextDecoder};return vU}});var hU=L$((wM)=>{var yU=bX(),NM=new Set(["buffer","view","utf8"]);class j4{constructor($){if(this.encode=$.encode||this.encode,this.decode=$.decode||this.decode,this.name=$.name||this.name,this.format=$.format||this.format,typeof this.encode!=="function")throw new TypeError("The 'encode' property must be a function");if(typeof this.decode!=="function")throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),typeof this.name!=="string"||this.name==="")throw new TypeError("The 'name' property must be a string");if(typeof this.format!=="string"||!NM.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");if($.createViewTranscoder)this.createViewTranscoder=$.createViewTranscoder;if($.createBufferTranscoder)this.createBufferTranscoder=$.createBufferTranscoder;if($.createUTF8Transcoder)this.createUTF8Transcoder=$.createUTF8Transcoder}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new yU(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new yU(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new yU(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}}wM.Encoding=j4});var cU=L$((kM)=>{var{Buffer:bU}=(y$(),$$(g$))||{},{Encoding:pU}=hU(),xM=gU();class VV extends pU{constructor($){super({...$,format:"buffer"})}createViewTranscoder(){return new UV({encode:this.encode,decode:($)=>this.decode(bU.from($.buffer,$.byteOffset,$.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}}class UV extends pU{constructor($){super({...$,format:"view"})}createBufferTranscoder(){return new VV({encode:($)=>{let Q=this.encode($);return bU.from(Q.buffer,Q.byteOffset,Q.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}}class N4 extends pU{constructor($){super({...$,format:"utf8"})}createBufferTranscoder(){return new VV({encode:($)=>bU.from(this.encode($),"utf8"),decode:($)=>this.decode($.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){let{textEncoder:$,textDecoder:Q}=xM();return new UV({encode:(X)=>$.encode(this.encode(X)),decode:(X)=>this.decode(Q.decode(X)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}}kM.BufferFormat=VV;kM.ViewFormat=UV;kM.UTF8Format=N4});var k4=L$((yM)=>{var{Buffer:fQ}=(y$(),$$(g$))||{Buffer:{isBuffer:()=>!1}},{textEncoder:_4,textDecoder:w4}=gU()(),{BufferFormat:jG,ViewFormat:mU,UTF8Format:x4}=cU(),KV=($)=>$;yM.utf8=new x4({encode:function($){return fQ.isBuffer($)?$.toString("utf8"):ArrayBuffer.isView($)?w4.decode($):String($)},decode:KV,name:"utf8",createViewTranscoder(){return new mU({encode:function($){return ArrayBuffer.isView($)?$:_4.encode($)},decode:function($){return w4.decode($)},name:`${this.name}+view`})},createBufferTranscoder(){return new jG({encode:function($){return fQ.isBuffer($)?$:ArrayBuffer.isView($)?fQ.from($.buffer,$.byteOffset,$.byteLength):fQ.from(String($),"utf8")},decode:function($){return $.toString("utf8")},name:`${this.name}+buffer`})}});yM.json=new x4({encode:JSON.stringify,decode:JSON.parse,name:"json"});yM.buffer=new jG({encode:function($){return fQ.isBuffer($)?$:ArrayBuffer.isView($)?fQ.from($.buffer,$.byteOffset,$.byteLength):fQ.from(String($),"utf8")},decode:KV,name:"buffer",createViewTranscoder(){return new mU({encode:function($){return ArrayBuffer.isView($)?$:fQ.from(String($),"utf8")},decode:function($){return fQ.from($.buffer,$.byteOffset,$.byteLength)},name:`${this.name}+view`})}});yM.view=new mU({encode:function($){return ArrayBuffer.isView($)?$:_4.encode($)},decode:KV,name:"view",createBufferTranscoder(){return new jG({encode:function($){return fQ.isBuffer($)?$:ArrayBuffer.isView($)?fQ.from($.buffer,$.byteOffset,$.byteLength):fQ.from(String($),"utf8")},decode:KV,name:`${this.name}+buffer`})}});yM.hex=new jG({encode:function($){return fQ.isBuffer($)?$:fQ.from(String($),"hex")},decode:function($){return $.toString("hex")},name:"hex"});yM.base64=new jG({encode:function($){return fQ.isBuffer($)?$:fQ.from(String($),"base64")},decode:function($){return $.toString("base64")},name:"base64"})});var g4=L$(($A)=>{var f4=bX(),zV=k4(),{Encoding:dM}=hU(),{BufferFormat:lM,ViewFormat:oM,UTF8Format:nM}=cU(),NG=Symbol("formats"),OV=Symbol("encodings"),sM=new Set(["buffer","view","utf8"]);class v4{constructor($){if(!Array.isArray($))throw new TypeError("The first argument 'formats' must be an array");else if(!$.every((Q)=>sM.has(Q)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'");this[OV]=new Map,this[NG]=new Set($);for(let Q in zV)try{this.encoding(Q)}catch(X){if(X.code!=="LEVEL_ENCODING_NOT_SUPPORTED")throw X}}encodings(){return Array.from(new Set(this[OV].values()))}encoding($){let Q=this[OV].get($);if(Q===void 0){if(typeof $==="string"&&$!==""){if(Q=tM[$],!Q)throw new f4(`Encoding '${$}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else if(typeof $!=="object"||$===null)throw new TypeError("First argument 'encoding' must be a string or object");else Q=iM($);let{name:X,format:Z}=Q;if(!this[NG].has(Z))if(this[NG].has("view"))Q=Q.createViewTranscoder();else if(this[NG].has("buffer"))Q=Q.createBufferTranscoder();else if(this[NG].has("utf8"))Q=Q.createUTF8Transcoder();else throw new f4(`Encoding '${X}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});for(let Y of[$,X,Q.name,Q.commonName])this[OV].set(Y,Q)}return Q}}$A.Transcoder=v4;function iM($){if($ instanceof dM)return $;let Q="type"in $&&typeof $.type==="string"?$.type:void 0,X=$.name||Q||`anonymous-${eM++}`;switch(rM($)){case"view":return new oM({...$,name:X});case"utf8":return new nM({...$,name:X});case"buffer":return new lM({...$,name:X});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}function rM($){if("format"in $&&$.format!==void 0)return $.format;else if("buffer"in $&&typeof $.buffer==="boolean")return $.buffer?"buffer":"utf8";else if("code"in $&&Number.isInteger($.code))return"view";else return"buffer"}var aM={binary:zV.buffer,"utf-8":zV.utf8},tM={...zV,...aM},eM=0});var tJ={};_Z(tJ,{setMaxListeners:()=>n4,once:()=>l4,listenerCount:()=>s4,init:()=>VY,getMaxListeners:()=>r4,getEventListeners:()=>o4,default:()=>KA,captureRejectionSymbol:()=>c4,addAbortListener:()=>a4,EventEmitter:()=>VY});function m4($,Q){var{_events:X}=$;if(Q[0]??=new Error("Unhandled error."),!X)throw Q[0];var Z=X[p4];if(Z)for(var Y of h4.call(Z))Y.apply($,Q);var V=X.error;if(!V)throw Q[0];for(var Y of h4.call(V))Y.apply($,Q);return!0}function YA($,Q,X,Z){Q.then(void 0,function(Y){queueMicrotask(()=>JA($,Y,X,Z))})}function JA($,Q,X,Z){if(typeof $[y4]==="function")$[y4](Q,X,...Z);else try{$[nY]=!1,$.emit("error",Q)}finally{$[nY]=!0}}function u4($,Q,X){X.warned=!0;let Z=new Error(`Possible EventEmitter memory leak detected. ${X.length} ${String(Q)} listeners added to [${$.constructor.name}]. Use emitter.setMaxListeners() to increase limit`);Z.name="MaxListenersExceededWarning",Z.emitter=$,Z.type=Q,Z.count=X.length,console.warn(Z)}function d4($,Q,...X){this.removeListener($,Q),Q.apply(this,X)}function l4($,Q,X){var Z=X?.signal;if(i4(Z,"options.signal"),Z?.aborted)throw new uU(void 0,{cause:Z?.reason});let{resolve:Y,reject:V,promise:G}=$newPromiseCapability(Promise),H=(T)=>{if($.removeListener(Q,D),Z!=null)HV(Z,"abort",A);V(T)},D=(...T)=>{if(typeof $.removeListener==="function")$.removeListener("error",H);if(Z!=null)HV(Z,"abort",A);Y(T)};if(b4($,Q,D,{once:!0}),Q!=="error"&&typeof $.once==="function")$.once("error",H);function A(){HV($,Q,D),HV($,"error",H),V(new uU(void 0,{cause:Z?.reason}))}if(Z!=null)b4(Z,"abort",A,{once:!0});return G}function o4($,Q){return $.listeners(Q)}function n4($,...Q){lU($,"setMaxListeners",0);var X;if(Q&&(X=Q.length))for(let Z=0;Z<X;Z++)Q[Z].setMaxListeners($);else sY=$}function s4($,Q){return $.listenerCount(Q)}function HV($,Q,X,Z){if(typeof $.removeListener==="function")$.removeListener(Q,X);else $.removeEventListener(Q,X,Z)}function b4($,Q,X,Z){if(typeof $.on==="function")if(Z.once)$.once(Q,X);else $.on(Q,X);else $.addEventListener(Q,X,Z)}function aJ($,Q,X){let Z=new TypeError(`The "${$}" argument must be of type ${Q}. Received ${X}`);return Z.code="ERR_INVALID_ARG_TYPE",Z}function VA($,Q,X){let Z=new RangeError(`The "${$}" argument is out of range. It must be ${Q}. Received ${X}`);return Z.code="ERR_OUT_OF_RANGE",Z}function i4($,Q){if($!==void 0&&($===null||typeof $!=="object"||!("aborted"in $)))throw aJ(Q,"AbortSignal",$)}function lU($,Q,X,Z){if(typeof $!=="number")throw aJ(Q,"number",$);if(X!=null&&$<X||Z!=null&&$>Z||(X!=null||Z!=null)&&Number.isNaN($))throw VA(Q,`${X!=null?`>= ${X}`:""}${X!=null&&Z!=null?" && ":""}${Z!=null?`<= ${Z}`:""}`,$)}function wG($){if(typeof $!=="function")throw new TypeError("The listener must be a function")}function UA($,Q){if(typeof $!=="boolean")throw aJ(Q,"boolean",$)}function r4($){return $?._maxListeners??sY}function a4($,Q){if($===void 0)throw aJ("signal","AbortSignal",$);if(i4($,"signal"),typeof Q!=="function")throw aJ("listener","function",Q);let X;if($.aborted)queueMicrotask(()=>Q());else $.addEventListener("abort",Q,{__proto__:null,once:!0}),X=()=>{$.removeEventListener("abort",Q)};return{__proto__:null,[Symbol.dispose](){X?.()}}}var dU,nY,p4,XA,ZA,y4,c4,h4,sY=10,VY=function $(Q){if(this._events===void 0||this._events===this.__proto__._events)this._events={__proto__:null},this._eventsCount=0;if(this._maxListeners??=void 0,this[nY]=Q?.captureRejections?Boolean(Q?.captureRejections):w$[nY])this.emit=WA},w$,GA=function $(Q,...X){if(Q==="error")return m4(this,X);var{_events:Z}=this;if(Z===void 0)return!1;var Y=Z[Q];if(Y===void 0)return!1;let V=Y.length>1?Y.slice():Y;for(let G=0,{length:H}=V;G<H;G++){let D=V[G];switch(X.length){case 0:D.call(this);break;case 1:D.call(this,X[0]);break;case 2:D.call(this,X[0],X[1]);break;case 3:D.call(this,X[0],X[1],X[2]);break;default:D.apply(this,X);break}}return!0},WA=function $(Q,...X){if(Q==="error")return m4(this,X);var{_events:Z}=this;if(Z===void 0)return!1;var Y=Z[Q];if(Y===void 0)return!1;let V=Y.length>1?Y.slice():Y;for(let G=0,{length:H}=V;G<H;G++){let D=V[G],A;switch(X.length){case 0:A=D.call(this);break;case 1:A=D.call(this,X[0]);break;case 2:A=D.call(this,X[0],X[1]);break;case 3:A=D.call(this,X[0],X[1],X[2]);break;default:A=D.apply(this,X);break}if(A!==void 0&&typeof A?.then==="function"&&A.then===Promise.prototype.then)YA(this,A,Q,X)}return!0},uU,KA;var eJ=K0(()=>{dU=Symbol.for,nY=Symbol("kCapture"),p4=dU("events.errorMonitor"),XA=Symbol("events.maxEventTargetListeners"),ZA=Symbol("events.maxEventTargetListenersWarned"),y4=dU("nodejs.rejection"),c4=dU("nodejs.rejection"),h4=Array.prototype.slice,w$=VY.prototype={};w$._events=void 0;w$._eventsCount=0;w$._maxListeners=void 0;w$.setMaxListeners=function $(Q){return lU(Q,"setMaxListeners",0),this._maxListeners=Q,this};w$.constructor=VY;w$.getMaxListeners=function $(){return this?._maxListeners??sY};w$.emit=GA;w$.addListener=function $(Q,X){wG(X);var Z=this._events;if(!Z)Z=this._events={__proto__:null},this._eventsCount=0;else if(Z.newListener)this.emit("newListener",Q,X.listener??X);var Y=Z[Q];if(!Y)Z[Q]=[X],this._eventsCount++;else{Y.push(X);var V=this._maxListeners??sY;if(V>0&&Y.length>V&&!Y.warned)u4(this,Q,Y)}return this};w$.on=w$.addListener;w$.prependListener=function $(Q,X){wG(X);var Z=this._events;if(!Z)Z=this._events={__proto__:null},this._eventsCount=0;else if(Z.newListener)this.emit("newListener",Q,X.listener??X);var Y=Z[Q];if(!Y)Z[Q]=[X],this._eventsCount++;else{Y.unshift(X);var V=this._maxListeners??sY;if(V>0&&Y.length>V&&!Y.warned)u4(this,Q,Y)}return this};w$.once=function $(Q,X){wG(X);let Z=d4.bind(this,Q,X);return Z.listener=X,this.addListener(Q,Z),this};w$.prependOnceListener=function $(Q,X){wG(X);let Z=d4.bind(this,Q,X);return Z.listener=X,this.prependListener(Q,Z),this};w$.removeListener=function $(Q,X){wG(X);var{_events:Z}=this;if(!Z)return this;var Y=Z[Q];if(!Y)return this;var V=Y.length;let G=-1;for(let H=V-1;H>=0;H--)if(Y[H]===X||Y[H].listener===X){G=H;break}if(G<0)return this;if(G===0)Y.shift();else Y.splice(G,1);if(Y.length===0)delete Z[Q],this._eventsCount--;return this};w$.off=w$.removeListener;w$.removeAllListeners=function $(Q){var{_events:X}=this;if(Q&&X){if(X[Q])delete X[Q],this._eventsCount--}else this._events={__proto__:null};return this};w$.listeners=function $(Q){var{_events:X}=this;if(!X)return[];var Z=X[Q];if(!Z)return[];return Z.map((Y)=>Y.listener??Y)};w$.rawListeners=function $(Q){var{_events:X}=this;if(!X)return[];var Z=X[Q];if(!Z)return[];return Z.slice()};w$.listenerCount=function $(Q){var{_events:X}=this;if(!X)return 0;return X[Q]?.length??0};w$.eventNames=function $(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};w$[nY]=!1;uU=class uU extends Error{constructor($="The operation was aborted",Q=void 0){if(Q!==void 0&&typeof Q!=="object")throw aJ("options","Object",Q);super($,Q);this.code="ABORT_ERR",this.name="AbortError"}};Object.defineProperties(VY,{captureRejections:{get(){return w$[nY]},set($){UA($,"EventEmitter.captureRejections"),w$[nY]=$},enumerable:!0},defaultMaxListeners:{enumerable:!0,get:()=>{return sY},set:($)=>{lU($,"defaultMaxListeners",0),sY=$}},kMaxEventTargetListeners:{value:XA,enumerable:!1,configurable:!1,writable:!1},kMaxEventTargetListenersWarned:{value:ZA,enumerable:!1,configurable:!1,writable:!1}});Object.assign(VY,{once:l4,getEventListeners:o4,getMaxListeners:r4,setMaxListeners:n4,EventEmitter:VY,usingDomains:!1,captureRejectionSymbol:c4,errorMonitor:p4,addAbortListener:a4,init:VY,listenerCount:s4});KA=VY});var e4=L$((OB,t4)=>{t4.exports=typeof queueMicrotask==="function"?queueMicrotask:($)=>Promise.resolve().then($)});var _G=L$((OA)=>{var $5=e4();OA.fromCallback=function($,Q){if($===void 0){var X=new Promise(function(Z,Y){$=function(V,G){if(V)Y(V);else Z(G)}});$[Q!==void 0?Q:"promise"]=X}else if(typeof $!=="function")throw new TypeError("Callback must be a function");return $};OA.fromPromise=function($,Q){if(Q===void 0)return $;$.then(function(X){$5(()=>Q(null,X))}).catch(function(X){$5(()=>Q(X))})}});var LV=L$((LA)=>{LA.getCallback=function($,Q){return typeof $==="function"?$:Q};LA.getOptions=function($,Q){if(typeof $==="object"&&$!==null)return $;if(Q!==void 0)return Q;return{}}});var HY=L$((AA)=>{var{fromCallback:oU}=_G(),GX=bX(),{getOptions:nU,getCallback:Q5}=LV(),iY=Symbol("promise"),$8=Symbol("callback"),HZ=Symbol("working"),rY=Symbol("handleOne"),kZ=Symbol("handleMany"),sU=Symbol("autoClose"),zY=Symbol("finishWork"),LZ=Symbol("returnMany"),UY=Symbol("closing"),xG=Symbol("handleClose"),DV=Symbol("closed"),kG=Symbol("closeCallbacks"),OY=Symbol("keyEncoding"),aY=Symbol("valueEncoding"),iU=Symbol("abortOnClose"),qV=Symbol("legacy"),rU=Symbol("keys"),aU=Symbol("values"),KY=Symbol("limit"),EX=Symbol("count"),MV=Object.freeze({}),MA=()=>{},X5=!1;class AV{constructor($,Q,X){if(typeof $!=="object"||$===null)throw new TypeError(`The first argument must be an abstract-level database, received ${$===null?"null":typeof $}`);if(typeof Q!=="object"||Q===null)throw new TypeError("The second argument must be an options object");this[DV]=!1,this[kG]=[],this[HZ]=!1,this[UY]=!1,this[sU]=!1,this[$8]=null,this[rY]=this[rY].bind(this),this[kZ]=this[kZ].bind(this),this[xG]=this[xG].bind(this),this[OY]=Q[OY],this[aY]=Q[aY],this[qV]=X,this[KY]=Number.isInteger(Q.limit)&&Q.limit>=0?Q.limit:1/0,this[EX]=0,this[iU]=!!Q.abortOnClose,this.db=$,this.db.attachResource(this),this.nextTick=$.nextTick}get count(){return this[EX]}get limit(){return this[KY]}next($){let Q;if($===void 0)Q=new Promise((X,Z)=>{$=(Y,V,G)=>{if(Y)Z(Y);else if(!this[qV])X(V);else if(V===void 0&&G===void 0)X();else X([V,G])}});else if(typeof $!=="function")throw new TypeError("Callback must be a function");if(this[UY])this.nextTick($,new GX("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}));else if(this[HZ])this.nextTick($,new GX("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"}));else if(this[HZ]=!0,this[$8]=$,this[EX]>=this[KY])this.nextTick(this[rY],null);else this._next(this[rY]);return Q}_next($){this.nextTick($)}nextv($,Q,X){if(X=Q5(Q,X),X=oU(X,iY),Q=nU(Q,MV),!Number.isInteger($))return this.nextTick(X,new TypeError("The first argument 'size' must be an integer")),X[iY];if(this[UY])this.nextTick(X,new GX("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}));else if(this[HZ])this.nextTick(X,new GX("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"}));else{if($<1)$=1;if(this[KY]<1/0)$=Math.min($,this[KY]-this[EX]);if(this[HZ]=!0,this[$8]=X,$<=0)this.nextTick(this[kZ],null,[]);else this._nextv($,Q,this[kZ])}return X[iY]}_nextv($,Q,X){let Z=[],Y=(V,G,H)=>{if(V)return X(V);else if(this[qV]?G===void 0&&H===void 0:G===void 0)return X(null,Z);if(Z.push(this[qV]?[G,H]:G),Z.length===$)X(null,Z);else this._next(Y)};this._next(Y)}all($,Q){if(Q=Q5($,Q),Q=oU(Q,iY),$=nU($,MV),this[UY])this.nextTick(Q,new GX("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}));else if(this[HZ])this.nextTick(Q,new GX("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"}));else if(this[HZ]=!0,this[$8]=Q,this[sU]=!0,this[EX]>=this[KY])this.nextTick(this[kZ],null,[]);else this._all($,this[kZ]);return Q[iY]}_all($,Q){let X=this[EX],Z=[],Y=()=>{let G=this[KY]<1/0?Math.min(1000,this[KY]-X):1000;if(G<=0)this.nextTick(Q,null,Z);else this._nextv(G,MV,V)},V=(G,H)=>{if(G)Q(G);else if(H.length===0)Q(null,Z);else Z.push.apply(Z,H),X+=H.length,Y()};Y()}[zY](){let $=this[$8];if(this[iU]&&$===null)return MA;if(this[HZ]=!1,this[$8]=null,this[UY])this._close(this[xG]);return $}[LZ]($,Q,X){if(this[sU])this.close($.bind(null,Q,X));else $(Q,X)}seek($,Q){if(Q=nU(Q,MV),this[UY]);else if(this[HZ])throw new GX("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});else{let X=this.db.keyEncoding(Q.keyEncoding||this[OY]),Z=X.format;if(Q.keyEncoding!==Z)Q={...Q,keyEncoding:Z};let Y=this.db.prefixKey(X.encode($),Z);this._seek(Y,Q)}}_seek($,Q){throw new GX("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close($){if($=oU($,iY),this[DV])this.nextTick($);else if(this[UY])this[kG].push($);else if(this[UY]=!0,this[kG].push($),!this[HZ])this._close(this[xG]);else if(this[iU])this[zY]()(new GX("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}));return $[iY]}_close($){this.nextTick($)}[xG](){this[DV]=!0,this.db.detachResource(this);let $=this[kG];this[kG]=[];for(let Q of $)Q()}async*[Symbol.asyncIterator](){try{let $;while(($=await this.next())!==void 0)yield $}finally{if(!this[DV])await this.close()}}}class fG extends AV{constructor($,Q){super($,Q,!0);this[rU]=Q.keys!==!1,this[aU]=Q.values!==!1}[rY]($,Q,X){let Z=this[zY]();if($)return Z($);try{Q=this[rU]&&Q!==void 0?this[OY].decode(Q):void 0,X=this[aU]&&X!==void 0?this[aY].decode(X):void 0}catch(Y){return Z(new tY("entry",Y))}if(!(Q===void 0&&X===void 0))this[EX]++;Z(null,Q,X)}[kZ]($,Q){let X=this[zY]();if($)return this[LZ](X,$);try{for(let Z of Q){let Y=Z[0],V=Z[1];Z[0]=this[rU]&&Y!==void 0?this[OY].decode(Y):void 0,Z[1]=this[aU]&&V!==void 0?this[aY].decode(V):void 0}}catch(Z){return this[LZ](X,new tY("entries",Z))}this[EX]+=Q.length,this[LZ](X,null,Q)}end($){if(!X5&&typeof console!=="undefined")X5=!0,console.warn(new GX("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}));return this.close($)}}class Z5 extends AV{constructor($,Q){super($,Q,!1)}[rY]($,Q){let X=this[zY]();if($)return X($);try{Q=Q!==void 0?this[OY].decode(Q):void 0}catch(Z){return X(new tY("key",Z))}if(Q!==void 0)this[EX]++;X(null,Q)}[kZ]($,Q){let X=this[zY]();if($)return this[LZ](X,$);try{for(let Z=0;Z<Q.length;Z++){let Y=Q[Z];Q[Z]=Y!==void 0?this[OY].decode(Y):void 0}}catch(Z){return this[LZ](X,new tY("keys",Z))}this[EX]+=Q.length,this[LZ](X,null,Q)}}class Y5 extends AV{constructor($,Q){super($,Q,!1)}[rY]($,Q){let X=this[zY]();if($)return X($);try{Q=Q!==void 0?this[aY].decode(Q):void 0}catch(Z){return X(new tY("value",Z))}if(Q!==void 0)this[EX]++;X(null,Q)}[kZ]($,Q){let X=this[zY]();if($)return this[LZ](X,$);try{for(let Z=0;Z<Q.length;Z++){let Y=Q[Z];Q[Z]=Y!==void 0?this[aY].decode(Y):void 0}}catch(Z){return this[LZ](X,new tY("values",Z))}this[EX]+=Q.length,this[LZ](X,null,Q)}}class tY extends GX{constructor($,Q){super(`Iterator could not decode ${$}`,{code:"LEVEL_DECODE_ERROR",cause:Q})}}for(let $ of["_ended property","_nexting property","_end method"])Object.defineProperty(fG.prototype,$.split(" ")[0],{get(){throw new GX(`The ${$} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new GX(`The ${$} has been removed`,{code:"LEVEL_LEGACY"})}});fG.keyEncoding=OY;fG.valueEncoding=aY;AA.AbstractIterator=fG;AA.AbstractKeyIterator=Z5;AA.AbstractValueIterator=Y5});var J5=L$((IA)=>{var{AbstractKeyIterator:RA,AbstractValueIterator:EA}=HY(),eY=Symbol("iterator"),vG=Symbol("callback"),Q8=Symbol("handleOne"),$J=Symbol("handleMany");class CV extends RA{constructor($,Q){super($,Q);this[eY]=$.iterator({...Q,keys:!0,values:!1}),this[Q8]=this[Q8].bind(this),this[$J]=this[$J].bind(this)}}class tU extends EA{constructor($,Q){super($,Q);this[eY]=$.iterator({...Q,keys:!1,values:!0}),this[Q8]=this[Q8].bind(this),this[$J]=this[$J].bind(this)}}for(let $ of[CV,tU]){let Q=$===CV,X=Q?(Z)=>Z[0]:(Z)=>Z[1];$.prototype._next=function(Z){this[vG]=Z,this[eY].next(this[Q8])},$.prototype[Q8]=function(Z,Y,V){let G=this[vG];if(Z)G(Z);else G(null,Q?Y:V)},$.prototype._nextv=function(Z,Y,V){this[vG]=V,this[eY].nextv(Z,Y,this[$J])},$.prototype._all=function(Z,Y){this[vG]=Y,this[eY].all(Z,this[$J])},$.prototype[$J]=function(Z,Y){let V=this[vG];if(Z)V(Z);else V(null,Y.map(X))},$.prototype._seek=function(Z,Y){this[eY].seek(Z,Y)},$.prototype._close=function(Z){this[eY].close(Z)}}IA.DefaultKeyIterator=CV;IA.DefaultValueIterator=tU});var G5=L$((wA)=>{var{AbstractIterator:BA,AbstractKeyIterator:jA,AbstractValueIterator:NA}=HY(),eU=bX(),rQ=Symbol("nut"),TV=Symbol("undefer"),FV=Symbol("factory");class $K extends BA{constructor($,Q){super($,Q);this[rQ]=null,this[FV]=()=>$.iterator(Q),this.db.defer(()=>this[TV]())}}class QK extends jA{constructor($,Q){super($,Q);this[rQ]=null,this[FV]=()=>$.keys(Q),this.db.defer(()=>this[TV]())}}class XK extends NA{constructor($,Q){super($,Q);this[rQ]=null,this[FV]=()=>$.values(Q),this.db.defer(()=>this[TV]())}}for(let $ of[$K,QK,XK])$.prototype[TV]=function(){if(this.db.status==="open")this[rQ]=this[FV]()},$.prototype._next=function(Q){if(this[rQ]!==null)this[rQ].next(Q);else if(this.db.status==="opening")this.db.defer(()=>this._next(Q));else this.nextTick(Q,new eU("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},$.prototype._nextv=function(Q,X,Z){if(this[rQ]!==null)this[rQ].nextv(Q,X,Z);else if(this.db.status==="opening")this.db.defer(()=>this._nextv(Q,X,Z));else this.nextTick(Z,new eU("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},$.prototype._all=function(Q,X){if(this[rQ]!==null)this[rQ].all(X);else if(this.db.status==="opening")this.db.defer(()=>this._all(Q,X));else this.nextTick(X,new eU("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},$.prototype._seek=function(Q,X){if(this[rQ]!==null)this[rQ]._seek(Q,X);else if(this.db.status==="opening")this.db.defer(()=>this._seek(Q,X))},$.prototype._close=function(Q){if(this[rQ]!==null)this[rQ].close(Q);else if(this.db.status==="opening")this.db.defer(()=>this._close(Q));else this.nextTick(Q)};wA.DeferredIterator=$K;wA.DeferredKeyIterator=QK;wA.DeferredValueIterator=XK});var ZK=L$((gA)=>{var{fromCallback:W5}=_G(),RV=bX(),{getCallback:fA,getOptions:vA}=LV(),EV=Symbol("promise"),IX=Symbol("status"),X8=Symbol("operations"),gG=Symbol("finishClose"),Z8=Symbol("closeCallbacks");class V5{constructor($){if(typeof $!=="object"||$===null)throw new TypeError(`The first argument must be an abstract-level database, received ${$===null?"null":typeof $}`);this[X8]=[],this[Z8]=[],this[IX]="open",this[gG]=this[gG].bind(this),this.db=$,this.db.attachResource(this),this.nextTick=$.nextTick}get length(){return this[X8].length}put($,Q,X){if(this[IX]!=="open")throw new RV("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});let Z=this.db._checkKey($)||this.db._checkValue(Q);if(Z)throw Z;let Y=X&&X.sublevel!=null?X.sublevel:this.db,V=X,G=Y.keyEncoding(X&&X.keyEncoding),H=Y.valueEncoding(X&&X.valueEncoding),D=G.format;if(X={...X,keyEncoding:D,valueEncoding:H.format},Y!==this.db)X.sublevel=null;let A=Y.prefixKey(G.encode($),D),T=H.encode(Q);return this._put(A,T,X),this[X8].push({...V,type:"put",key:$,value:Q}),this}_put($,Q,X){}del($,Q){if(this[IX]!=="open")throw new RV("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});let X=this.db._checkKey($);if(X)throw X;let Z=Q&&Q.sublevel!=null?Q.sublevel:this.db,Y=Q,V=Z.keyEncoding(Q&&Q.keyEncoding),G=V.format;if(Q={...Q,keyEncoding:G},Z!==this.db)Q.sublevel=null;return this._del(Z.prefixKey(V.encode($),G),Q),this[X8].push({...Y,type:"del",key:$}),this}_del($,Q){}clear(){if(this[IX]!=="open")throw new RV("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[X8]=[],this}_clear(){}write($,Q){if(Q=fA($,Q),Q=W5(Q,EV),$=vA($),this[IX]!=="open")this.nextTick(Q,new RV("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}));else if(this.length===0)this.close(Q);else this[IX]="writing",this._write($,(X)=>{if(this[IX]="closing",this[Z8].push(()=>Q(X)),!X)this.db.emit("batch",this[X8]);this._close(this[gG])});return Q[EV]}_write($,Q){}close($){if($=W5($,EV),this[IX]==="closing")this[Z8].push($);else if(this[IX]==="closed")this.nextTick($);else if(this[Z8].push($),this[IX]!=="writing")this[IX]="closing",this._close(this[gG]);return $[EV]}_close($){this.nextTick($)}[gG](){this[IX]="closed",this.db.detachResource(this);let $=this[Z8];this[Z8]=[];for(let Q of $)Q()}}gA.AbstractChainedBatch=V5});var K5=L$((pA)=>{var{AbstractChainedBatch:hA}=ZK(),bA=bX(),Y8=Symbol("encoded");class U5 extends hA{constructor($){super($);this[Y8]=[]}_put($,Q,X){this[Y8].push({...X,type:"put",key:$,value:Q})}_del($,Q){this[Y8].push({...Q,type:"del",key:$})}_clear(){this[Y8]=[]}_write($,Q){if(this.db.status==="opening")this.db.defer(()=>this._write($,Q));else if(this.db.status==="open")if(this[Y8].length===0)this.nextTick(Q);else this.db._batch(this[Y8],$,Q);else this.nextTick(Q,new bA("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}}pA.DefaultChainedBatch=U5});var H5=L$((CB,z5)=>{var O5=bX(),mA=Object.prototype.hasOwnProperty,uA=new Set(["lt","lte","gt","gte"]);z5.exports=function($,Q){let X={};for(let Z in $){if(!mA.call($,Z))continue;if(Z==="keyEncoding"||Z==="valueEncoding")continue;if(Z==="start"||Z==="end")throw new O5(`The legacy range option '${Z}' has been removed`,{code:"LEVEL_LEGACY"});else if(Z==="encoding")throw new O5("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});if(uA.has(Z))X[Z]=Q.encode($[Z]);else X[Z]=$[Z]}return X.reverse=!!X.reverse,X.limit=Number.isInteger(X.limit)&&X.limit>=0?X.limit:-1,X}});var YK=L$((TB,D5)=>{/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var L5;D5.exports=typeof queueMicrotask==="function"?queueMicrotask.bind(typeof window!=="undefined"?window:global):($)=>(L5||(L5=Promise.resolve())).then($).catch((Q)=>setTimeout(()=>{throw Q},0))});var A5=L$((FB,M5)=>{var q5=YK();M5.exports=function($,...Q){if(Q.length===0)q5($);else q5(()=>$(...Q))}});var C5=L$((nA)=>{var{AbstractIterator:dA,AbstractKeyIterator:lA,AbstractValueIterator:oA}=HY(),J8=Symbol("unfix"),pX=Symbol("iterator"),QJ=Symbol("handleOne"),LY=Symbol("handleMany"),fZ=Symbol("callback");class IV extends dA{constructor($,Q,X,Z){super($,Q);this[pX]=X,this[J8]=Z,this[QJ]=this[QJ].bind(this),this[LY]=this[LY].bind(this),this[fZ]=null}[QJ]($,Q,X){let Z=this[fZ];if($)return Z($);if(Q!==void 0)Q=this[J8](Q);Z($,Q,X)}[LY]($,Q){let X=this[fZ];if($)return X($);for(let Z of Q){let Y=Z[0];if(Y!==void 0)Z[0]=this[J8](Y)}X($,Q)}}class PV extends lA{constructor($,Q,X,Z){super($,Q);this[pX]=X,this[J8]=Z,this[QJ]=this[QJ].bind(this),this[LY]=this[LY].bind(this),this[fZ]=null}[QJ]($,Q){let X=this[fZ];if($)return X($);if(Q!==void 0)Q=this[J8](Q);X($,Q)}[LY]($,Q){let X=this[fZ];if($)return X($);for(let Z=0;Z<Q.length;Z++){let Y=Q[Z];if(Y!==void 0)Q[Z]=this[J8](Y)}X($,Q)}}class SV extends oA{constructor($,Q,X){super($,Q);this[pX]=X}}for(let $ of[IV,PV])$.prototype._next=function(Q){this[fZ]=Q,this[pX].next(this[QJ])},$.prototype._nextv=function(Q,X,Z){this[fZ]=Z,this[pX].nextv(Q,X,this[LY])},$.prototype._all=function(Q,X){this[fZ]=X,this[pX].all(Q,this[LY])};for(let $ of[SV])$.prototype._next=function(Q){this[pX].next(Q)},$.prototype._nextv=function(Q,X,Z){this[pX].nextv(Q,X,Z)},$.prototype._all=function(Q,X){this[pX].all(Q,X)};for(let $ of[IV,PV,SV])$.prototype._seek=function(Q,X){this[pX].seek(Q,X)},$.prototype._close=function(Q){this[pX].close(Q)};nA.AbstractSublevelIterator=IV;nA.AbstractSublevelKeyIterator=PV;nA.AbstractSublevelValueIterator=SV});var I5=L$((EB,E5)=>{var JK=bX(),{Buffer:VK}=(y$(),$$(g$))||{},{AbstractSublevelIterator:aA,AbstractSublevelKeyIterator:tA,AbstractSublevelValueIterator:eA}=C5(),vZ=Symbol("prefix"),T5=Symbol("upperBound"),yG=Symbol("prefixRange"),WX=Symbol("parent"),GK=Symbol("unfix"),F5=new TextEncoder,$C={separator:"!"};E5.exports=function({AbstractLevel:$}){class Q extends ${static defaults(X){if(typeof X==="string")throw new JK("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});else if(X&&X.open)throw new JK("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});if(X==null)return $C;else if(!X.separator)return{...X,separator:"!"};else return X}constructor(X,Z,Y){let{separator:V,manifest:G,...H}=Q.defaults(Y);Z=XC(Z,V);let D=V.charCodeAt(0)+1,A=X[WX]||X;if(!F5.encode(Z).every((M)=>M>D&&M<127))throw new JK(`Prefix must use bytes > ${D} < 127`,{code:"LEVEL_INVALID_PREFIX"});super(QC(A,G),H);let T=(X.prefix||"")+V+Z+V,F=T.slice(0,-1)+String.fromCharCode(D);this[WX]=A,this[vZ]=new UK(T),this[T5]=new UK(F),this[GK]=new R5,this.nextTick=A.nextTick}prefixKey(X,Z){if(Z==="utf8")return this[vZ].utf8+X;else if(X.byteLength===0)return this[vZ][Z];else if(Z==="view"){let Y=this[vZ].view,V=new Uint8Array(Y.byteLength+X.byteLength);return V.set(Y,0),V.set(X,Y.byteLength),V}else{let Y=this[vZ].buffer;return VK.concat([Y,X],Y.byteLength+X.byteLength)}}[yG](X,Z){if(X.gte!==void 0)X.gte=this.prefixKey(X.gte,Z);else if(X.gt!==void 0)X.gt=this.prefixKey(X.gt,Z);else X.gte=this[vZ][Z];if(X.lte!==void 0)X.lte=this.prefixKey(X.lte,Z);else if(X.lt!==void 0)X.lt=this.prefixKey(X.lt,Z);else X.lte=this[T5][Z]}get prefix(){return this[vZ].utf8}get db(){return this[WX]}_open(X,Z){this[WX].open({passive:!0},Z)}_put(X,Z,Y,V){this[WX].put(X,Z,Y,V)}_get(X,Z,Y){this[WX].get(X,Z,Y)}_getMany(X,Z,Y){this[WX].getMany(X,Z,Y)}_del(X,Z,Y){this[WX].del(X,Z,Y)}_batch(X,Z,Y){this[WX].batch(X,Z,Y)}_clear(X,Z){this[yG](X,X.keyEncoding),this[WX].clear(X,Z)}_iterator(X){this[yG](X,X.keyEncoding);let Z=this[WX].iterator(X),Y=this[GK].get(this[vZ].utf8.length,X.keyEncoding);return new aA(this,X,Z,Y)}_keys(X){this[yG](X,X.keyEncoding);let Z=this[WX].keys(X),Y=this[GK].get(this[vZ].utf8.length,X.keyEncoding);return new tA(this,X,Z,Y)}_values(X){this[yG](X,X.keyEncoding);let Z=this[WX].values(X);return new eA(this,X,Z)}}return{AbstractSublevel:Q}};var QC=function($,Q){return{...$.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...Q,encodings:{utf8:WK($,"utf8"),buffer:WK($,"buffer"),view:WK($,"view")}}},WK=function($,Q){return $.supports.encodings[Q]?$.keyEncoding(Q).name===Q:!1};class UK{constructor($){this.utf8=$,this.view=F5.encode($),this.buffer=VK?VK.from(this.view.buffer,0,this.view.byteLength):{}}}class R5{constructor(){this.cache=new Map}get($,Q){let X=this.cache.get(Q);if(X===void 0){if(Q==="view")X=function(Z,Y){return Y.subarray(Z)}.bind(null,$);else X=function(Z,Y){return Y.slice(Z)}.bind(null,$);this.cache.set(Q,X)}return X}}var XC=function($,Q){let X=0,Z=$.length;while(X<Z&&$[X]===Q)X++;while(Z>X&&$[Z-1]===Q)Z--;return $.slice(X,Z)}});var HK=L$((HC)=>{var{supports:ZC}=Y4(),{Transcoder:YC}=g4(),{EventEmitter:JC}=(eJ(),$$(tJ)),{fromCallback:DY}=_G(),cX=bX(),{AbstractIterator:XJ}=HY(),{DefaultKeyIterator:GC,DefaultValueIterator:WC}=J5(),{DeferredIterator:VC,DeferredKeyIterator:UC,DeferredValueIterator:KC}=G5(),{DefaultChainedBatch:P5}=K5(),{getCallback:ZJ,getOptions:qY}=LV(),BV=H5(),Z$=Symbol("promise"),gZ=Symbol("landed"),YJ=Symbol("resources"),KK=Symbol("closeResources"),hG=Symbol("operations"),bG=Symbol("undefer"),jV=Symbol("deferOpen"),S5=Symbol("options"),G$=Symbol("status"),JJ=Symbol("defaultOptions"),G8=Symbol("transcoder"),NV=Symbol("keyEncoding"),OK=Symbol("valueEncoding"),OC=()=>{};class wV extends JC{constructor($,Q){super();if(typeof $!=="object"||$===null)throw new TypeError("The first argument 'manifest' must be an object");Q=qY(Q);let{keyEncoding:X,valueEncoding:Z,passive:Y,...V}=Q;this[YJ]=new Set,this[hG]=[],this[jV]=!0,this[S5]=V,this[G$]="opening",this.supports=ZC($,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:$.snapshots!==!1,permanence:$.permanence!==!1,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:$.encodings||{},events:Object.assign({},$.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[G8]=new YC(zC(this)),this[NV]=this[G8].encoding(X||"utf8"),this[OK]=this[G8].encoding(Z||"utf8");for(let G of this[G8].encodings())if(!this.supports.encodings[G.commonName])this.supports.encodings[G.commonName]=!0;this[JJ]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[NV].commonName,valueEncoding:this[OK].commonName}),key:Object.freeze({keyEncoding:this[NV].commonName})},this.nextTick(()=>{if(this[jV])this.open({passive:!1},OC)})}get status(){return this[G$]}keyEncoding($){return this[G8].encoding($!=null?$:this[NV])}valueEncoding($){return this[G8].encoding($!=null?$:this[OK])}open($,Q){Q=ZJ($,Q),Q=DY(Q,Z$),$={...this[S5],...qY($)},$.createIfMissing=$.createIfMissing!==!1,$.errorIfExists=!!$.errorIfExists;let X=(Z)=>{if(this[G$]==="closing"||this[G$]==="opening")this.once(gZ,Z?()=>X(Z):X);else if(this[G$]!=="open")Q(new cX("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:Z}));else Q()};if($.passive)if(this[G$]==="opening")this.once(gZ,X);else this.nextTick(X);else if(this[G$]==="closed"||this[jV])this[jV]=!1,this[G$]="opening",this.emit("opening"),this._open($,(Z)=>{if(Z){this[G$]="closed",this[KK](()=>{this.emit(gZ),X(Z)}),this[bG]();return}if(this[G$]="open",this[bG](),this.emit(gZ),this[G$]==="open")this.emit("open");if(this[G$]==="open")this.emit("ready");X()});else if(this[G$]==="open")this.nextTick(X);else this.once(gZ,()=>this.open($,Q));return Q[Z$]}_open($,Q){this.nextTick(Q)}close($){$=DY($,Z$);let Q=(X)=>{if(this[G$]==="opening"||this[G$]==="closing")this.once(gZ,X?Q(X):Q);else if(this[G$]!=="closed")$(new cX("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:X}));else $()};if(this[G$]==="open"){this[G$]="closing",this.emit("closing");let X=(Z)=>{this[G$]="open",this[bG](),this.emit(gZ),Q(Z)};this[KK](()=>{this._close((Z)=>{if(Z)return X(Z);if(this[G$]="closed",this[bG](),this.emit(gZ),this[G$]==="closed")this.emit("closed");Q()})})}else if(this[G$]==="closed")this.nextTick(Q);else this.once(gZ,()=>this.close($));return $[Z$]}[KK]($){if(this[YJ].size===0)return this.nextTick($);let Q=this[YJ].size,X=!0,Z=()=>{if(--Q===0)if(X)this.nextTick($);else $()};for(let Y of this[YJ])Y.close(Z);X=!1,this[YJ].clear()}_close($){this.nextTick($)}get($,Q,X){if(X=ZJ(Q,X),X=DY(X,Z$),Q=qY(Q,this[JJ].entry),this[G$]==="opening")return this.defer(()=>this.get($,Q,X)),X[Z$];if(W8(this,X))return X[Z$];let Z=this._checkKey($);if(Z)return this.nextTick(X,Z),X[Z$];let Y=this.keyEncoding(Q.keyEncoding),V=this.valueEncoding(Q.valueEncoding),G=Y.format,H=V.format;if(Q.keyEncoding!==G||Q.valueEncoding!==H)Q=Object.assign({},Q,{keyEncoding:G,valueEncoding:H});return this._get(this.prefixKey(Y.encode($),G),Q,(D,A)=>{if(D){if(D.code==="LEVEL_NOT_FOUND"||D.notFound||/NotFound/i.test(D)){if(!D.code)D.code="LEVEL_NOT_FOUND";if(!D.notFound)D.notFound=!0;if(!D.status)D.status=404}return X(D)}try{A=V.decode(A)}catch(T){return X(new cX("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:T}))}X(null,A)}),X[Z$]}_get($,Q,X){this.nextTick(X,new Error("NotFound"))}getMany($,Q,X){if(X=ZJ(Q,X),X=DY(X,Z$),Q=qY(Q,this[JJ].entry),this[G$]==="opening")return this.defer(()=>this.getMany($,Q,X)),X[Z$];if(W8(this,X))return X[Z$];if(!Array.isArray($))return this.nextTick(X,new TypeError("The first argument 'keys' must be an array")),X[Z$];if($.length===0)return this.nextTick(X,null,[]),X[Z$];let Z=this.keyEncoding(Q.keyEncoding),Y=this.valueEncoding(Q.valueEncoding),V=Z.format,G=Y.format;if(Q.keyEncoding!==V||Q.valueEncoding!==G)Q=Object.assign({},Q,{keyEncoding:V,valueEncoding:G});let H=new Array($.length);for(let D=0;D<$.length;D++){let A=$[D],T=this._checkKey(A);if(T)return this.nextTick(X,T),X[Z$];H[D]=this.prefixKey(Z.encode(A),V)}return this._getMany(H,Q,(D,A)=>{if(D)return X(D);try{for(let T=0;T<A.length;T++)if(A[T]!==void 0)A[T]=Y.decode(A[T])}catch(T){return X(new cX(`Could not decode one or more of ${A.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:T}))}X(null,A)}),X[Z$]}_getMany($,Q,X){this.nextTick(X,null,new Array($.length).fill(void 0))}put($,Q,X,Z){if(Z=ZJ(X,Z),Z=DY(Z,Z$),X=qY(X,this[JJ].entry),this[G$]==="opening")return this.defer(()=>this.put($,Q,X,Z)),Z[Z$];if(W8(this,Z))return Z[Z$];let Y=this._checkKey($)||this._checkValue(Q);if(Y)return this.nextTick(Z,Y),Z[Z$];let V=this.keyEncoding(X.keyEncoding),G=this.valueEncoding(X.valueEncoding),H=V.format,D=G.format;if(X.keyEncoding!==H||X.valueEncoding!==D)X=Object.assign({},X,{keyEncoding:H,valueEncoding:D});let A=this.prefixKey(V.encode($),H),T=G.encode(Q);return this._put(A,T,X,(F)=>{if(F)return Z(F);this.emit("put",$,Q),Z()}),Z[Z$]}_put($,Q,X,Z){this.nextTick(Z)}del($,Q,X){if(X=ZJ(Q,X),X=DY(X,Z$),Q=qY(Q,this[JJ].key),this[G$]==="opening")return this.defer(()=>this.del($,Q,X)),X[Z$];if(W8(this,X))return X[Z$];let Z=this._checkKey($);if(Z)return this.nextTick(X,Z),X[Z$];let Y=this.keyEncoding(Q.keyEncoding),V=Y.format;if(Q.keyEncoding!==V)Q=Object.assign({},Q,{keyEncoding:V});return this._del(this.prefixKey(Y.encode($),V),Q,(G)=>{if(G)return X(G);this.emit("del",$),X()}),X[Z$]}_del($,Q,X){this.nextTick(X)}batch($,Q,X){if(!arguments.length){if(this[G$]==="opening")return new P5(this);if(this[G$]!=="open")throw new cX("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(typeof $==="function")X=$;else X=ZJ(Q,X);if(X=DY(X,Z$),Q=qY(Q,this[JJ].empty),this[G$]==="opening")return this.defer(()=>this.batch($,Q,X)),X[Z$];if(W8(this,X))return X[Z$];if(!Array.isArray($))return this.nextTick(X,new TypeError("The first argument 'operations' must be an array")),X[Z$];if($.length===0)return this.nextTick(X),X[Z$];let Z=new Array($.length),{keyEncoding:Y,valueEncoding:V,...G}=Q;for(let H=0;H<$.length;H++){if(typeof $[H]!=="object"||$[H]===null)return this.nextTick(X,new TypeError("A batch operation must be an object")),X[Z$];let D=Object.assign({},$[H]);if(D.type!=="put"&&D.type!=="del")return this.nextTick(X,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),X[Z$];let A=this._checkKey(D.key);if(A)return this.nextTick(X,A),X[Z$];let T=D.sublevel!=null?D.sublevel:this,F=T.keyEncoding(D.keyEncoding||Y),M=F.format;if(D.key=T.prefixKey(F.encode(D.key),M),D.keyEncoding=M,D.type==="put"){let I=this._checkValue(D.value);if(I)return this.nextTick(X,I),X[Z$];let P=T.valueEncoding(D.valueEncoding||V);D.value=P.encode(D.value),D.valueEncoding=P.format}if(T!==this)D.sublevel=null;Z[H]=D}return this._batch(Z,G,(H)=>{if(H)return X(H);this.emit("batch",$),X()}),X[Z$]}_batch($,Q,X){this.nextTick(X)}sublevel($,Q){return this._sublevel($,zK.defaults(Q))}_sublevel($,Q){return new zK(this,$,Q)}prefixKey($,Q){return $}clear($,Q){if(Q=ZJ($,Q),Q=DY(Q,Z$),$=qY($,this[JJ].empty),this[G$]==="opening")return this.defer(()=>this.clear($,Q)),Q[Z$];if(W8(this,Q))return Q[Z$];let X=$,Z=this.keyEncoding($.keyEncoding);if($=BV($,Z),$.keyEncoding=Z.format,$.limit===0)this.nextTick(Q);else this._clear($,(Y)=>{if(Y)return Q(Y);this.emit("clear",X),Q()});return Q[Z$]}_clear($,Q){this.nextTick(Q)}iterator($){let Q=this.keyEncoding($&&$.keyEncoding),X=this.valueEncoding($&&$.valueEncoding);if($=BV($,Q),$.keys=$.keys!==!1,$.values=$.values!==!1,$[XJ.keyEncoding]=Q,$[XJ.valueEncoding]=X,$.keyEncoding=Q.format,$.valueEncoding=X.format,this[G$]==="opening")return new VC(this,$);else if(this[G$]!=="open")throw new cX("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator($)}_iterator($){return new XJ(this,$)}keys($){let Q=this.keyEncoding($&&$.keyEncoding),X=this.valueEncoding($&&$.valueEncoding);if($=BV($,Q),$[XJ.keyEncoding]=Q,$[XJ.valueEncoding]=X,$.keyEncoding=Q.format,$.valueEncoding=X.format,this[G$]==="opening")return new UC(this,$);else if(this[G$]!=="open")throw new cX("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys($)}_keys($){return new GC(this,$)}values($){let Q=this.keyEncoding($&&$.keyEncoding),X=this.valueEncoding($&&$.valueEncoding);if($=BV($,Q),$[XJ.keyEncoding]=Q,$[XJ.valueEncoding]=X,$.keyEncoding=Q.format,$.valueEncoding=X.format,this[G$]==="opening")return new KC(this,$);else if(this[G$]!=="open")throw new cX("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values($)}_values($){return new WC(this,$)}defer($){if(typeof $!=="function")throw new TypeError("The first argument must be a function");this[hG].push($)}[bG](){if(this[hG].length===0)return;let $=this[hG];this[hG]=[];for(let Q of $)Q()}attachResource($){if(typeof $!=="object"||$===null||typeof $.close!=="function")throw new TypeError("The first argument must be a resource object");this[YJ].add($)}detachResource($){this[YJ].delete($)}_chainedBatch(){return new P5(this)}_checkKey($){if($===null||$===void 0)return new cX("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue($){if($===null||$===void 0)return new cX("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}}wV.prototype.nextTick=A5();var{AbstractSublevel:zK}=I5()({AbstractLevel:wV});HC.AbstractLevel=wV;HC.AbstractSublevel=zK;var W8=function($,Q){if($[G$]!=="open")return $.nextTick(Q,new cX("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0;return!1},zC=function($){return Object.keys($.supports.encodings).filter((Q)=>!!$.supports.encodings[Q])}});var LK=L$((qC)=>{qC.AbstractLevel=HK().AbstractLevel;qC.AbstractSublevel=HK().AbstractSublevel;qC.AbstractIterator=HY().AbstractIterator;qC.AbstractKeyIterator=HY().AbstractKeyIterator;qC.AbstractValueIterator=HY().AbstractValueIterator;qC.AbstractChainedBatch=ZK().AbstractChainedBatch});var j5=L$((SB,B5)=>{/*! run-parallel-limit. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */B5.exports=IC;var EC=YK();function IC($,Q,X){if(typeof Q!=="number")throw new Error("second argument must be a Number");let Z,Y,V,G,H,D=!0,A;if(Array.isArray($))Z=[],V=Y=$.length;else G=Object.keys($),Z={},V=Y=G.length;function T(M){function I(){if(X)X(M,Z);X=null}if(D)EC(I);else I()}function F(M,I,P){if(Z[M]=P,I)H=!0;if(--V===0||I)T(I);else if(!H&&A<Y){let S;if(G)S=G[A],A+=1,$[S](function(j,N){F(S,j,N)});else S=A,A+=1,$[S](function(j,N){F(S,j,N)})}}if(A=Q,!V)T(null);else if(G)G.some(function(M,I){if($[M](function(P,S){F(M,P,S)}),I===Q-1)return!0;return!1});else $.some(function(M,I){if(M(function(P,S){F(I,P,S)}),I===Q-1)return!0;return!1});D=!1}});var DK=L$((BB,N5)=>{N5.exports=function $(Q){let X=Q.gte!==void 0?Q.gte:Q.gt!==void 0?Q.gt:void 0,Z=Q.lte!==void 0?Q.lte:Q.lt!==void 0?Q.lt:void 0,Y=Q.gte===void 0,V=Q.lte===void 0;if(X!==void 0&&Z!==void 0)return IDBKeyRange.bound(X,Z,Y,V);else if(X!==void 0)return IDBKeyRange.lowerBound(X,Y);else if(Z!==void 0)return IDBKeyRange.upperBound(Z,V);else return null}});var qK=L$((jB,w5)=>{var PC=new TextEncoder;w5.exports=function($){if($ instanceof Uint8Array)return $;else if($ instanceof ArrayBuffer)return new Uint8Array($);else return PC.encode($)}});var v5=L$((BC)=>{var{AbstractIterator:SC}=LK(),_5=DK(),_V=qK(),DZ=Symbol("cache"),yZ=Symbol("finished"),VX=Symbol("options"),hZ=Symbol("currentOptions"),GJ=Symbol("position"),MK=Symbol("location"),V8=Symbol("first"),x5={};class f5 extends SC{constructor($,Q,X){super($,X);this[DZ]=[],this[yZ]=this.limit===0,this[VX]=X,this[hZ]={...X},this[GJ]=void 0,this[MK]=Q,this[V8]=!0}_nextv($,Q,X){if(this[V8]=!1,this[yZ])return this.nextTick(X,null,[]);else if(this[DZ].length>0)return $=Math.min($,this[DZ].length),this.nextTick(X,null,this[DZ].splice(0,$));if(this[GJ]!==void 0)if(this[VX].reverse)this[hZ].lt=this[GJ],this[hZ].lte=void 0;else this[hZ].gt=this[GJ],this[hZ].gte=void 0;let Z;try{Z=_5(this[hZ])}catch(H){return this[yZ]=!0,this.nextTick(X,null,[])}let Y=this.db.db.transaction([this[MK]],"readonly"),V=Y.objectStore(this[MK]),G=[];if(!this[VX].reverse){let H,D,A=()=>{if(H===void 0||D===void 0)return;let T=Math.max(H.length,D.length);if(T===0||$===1/0)this[yZ]=!0;else this[GJ]=H[T-1];G.length=T;for(let F=0;F<T;F++){let M=H[F],I=D[F];G[F]=[this[VX].keys&&M!==void 0?_V(M):void 0,this[VX].values&&I!==void 0?_V(I):void 0]}k5(Y)};if(this[VX].keys||$<1/0)V.getAllKeys(Z,$<1/0?$:void 0).onsuccess=(T)=>{H=T.target.result,A()};else H=[],this.nextTick(A);if(this[VX].values)V.getAll(Z,$<1/0?$:void 0).onsuccess=(T)=>{D=T.target.result,A()};else D=[],this.nextTick(A)}else{let H=!this[VX].values&&V.openKeyCursor?"openKeyCursor":"openCursor";V[H](Z,"prev").onsuccess=(D)=>{let A=D.target.result;if(A){let{key:T,value:F}=A;if(this[GJ]=T,G.push([this[VX].keys&&T!==void 0?_V(T):void 0,this[VX].values&&F!==void 0?_V(F):void 0]),G.length<$)A.continue();else k5(Y)}else this[yZ]=!0}}Y.onabort=()=>{X(Y.error||new Error("aborted by user")),X=null},Y.oncomplete=()=>{X(null,G),X=null}}_next($){if(this[DZ].length>0){let[Q,X]=this[DZ].shift();this.nextTick($,null,Q,X)}else if(this[yZ])this.nextTick($);else{let Q=Math.min(100,this.limit-this.count);if(this[V8])this[V8]=!1,Q=1;this._nextv(Q,x5,(X,Z)=>{if(X)return $(X);this[DZ]=Z,this._next($)})}}_all($,Q){this[V8]=!1;let X=this[DZ].splice(0,this[DZ].length),Z=this.limit-this.count-X.length;if(Z<=0)return this.nextTick(Q,null,X);this._nextv(Z,x5,(Y,V)=>{if(Y)return Q(Y);if(X.length>0)V=X.concat(V);Q(null,V)})}_seek($,Q){this[V8]=!0,this[DZ]=[],this[yZ]=!1,this[GJ]=void 0,this[hZ]={...this[VX]};let X;try{X=_5(this[VX])}catch(Z){this[yZ]=!0;return}if(X!==null&&!X.includes($))this[yZ]=!0;else if(this[VX].reverse)this[hZ].lte=$;else this[hZ].gte=$}}BC.Iterator=f5;function k5($){if(typeof $.commit==="function")$.commit()}});var y5=L$((wB,g5)=>{g5.exports=function $(Q,X,Z,Y,V){if(Y.limit===0)return Q.nextTick(V);let G=Q.db.transaction([X],"readwrite"),H=G.objectStore(X),D=0;G.oncomplete=function(){V()},G.onabort=function(){V(G.error||new Error("aborted by user"))};let A=H.openKeyCursor?"openKeyCursor":"openCursor",T=Y.reverse?"prev":"next";H[A](Z,T).onsuccess=function(F){let M=F.target.result;if(M)H.delete(M.key).onsuccess=function(){if(Y.limit<=0||++D<Y.limit)M.continue()}}}});var c5=L$((vC)=>{var{AbstractLevel:NC}=LK(),h5=bX(),wC=j5(),{fromCallback:_C}=_G(),{Iterator:xC}=v5(),b5=qK(),kC=y5(),fC=DK(),pG=Symbol("idb"),AK=Symbol("namePrefix"),bZ=Symbol("location"),CK=Symbol("version"),WJ=Symbol("store"),cG=Symbol("onComplete"),p5=Symbol("promise");class TK extends NC{constructor($,Q,X){if(typeof Q==="function"||typeof X==="function")throw new h5("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});let{prefix:Z,version:Y,...V}=Q||{};super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},V);if(typeof $!=="string")throw new Error("constructor requires a location string argument");this[bZ]=$,this[AK]=Z==null?"level-js-":Z,this[CK]=parseInt(Y||1,10),this[pG]=null}get location(){return this[bZ]}get namePrefix(){return this[AK]}get version(){return this[CK]}get db(){return this[pG]}get type(){return"browser-level"}_open($,Q){let X=indexedDB.open(this[AK]+this[bZ],this[CK]);X.onerror=function(){Q(X.error||new Error("unknown error"))},X.onsuccess=()=>{this[pG]=X.result,Q()},X.onupgradeneeded=(Z)=>{let Y=Z.target.result;if(!Y.objectStoreNames.contains(this[bZ]))Y.createObjectStore(this[bZ])}}[WJ]($){return this[pG].transaction([this[bZ]],$).objectStore(this[bZ])}[cG]($,Q){let X=$.transaction;X.onabort=function(){Q(X.error||new Error("aborted by user"))},X.oncomplete=function(){Q(null,$.result)}}_get($,Q,X){let Z=this[WJ]("readonly"),Y;try{Y=Z.get($)}catch(V){return this.nextTick(X,V)}this[cG](Y,function(V,G){if(V)return X(V);if(G===void 0)return X(new h5("Entry not found",{code:"LEVEL_NOT_FOUND"}));X(null,b5(G))})}_getMany($,Q,X){let Z=this[WJ]("readonly"),Y=$.map((V)=>(G)=>{let H;try{H=Z.get(V)}catch(D){return G(D)}H.onsuccess=()=>{let D=H.result;G(null,D===void 0?D:b5(D))},H.onerror=(D)=>{D.stopPropagation(),G(H.error)}});wC(Y,16,X)}_del($,Q,X){let Z=this[WJ]("readwrite"),Y;try{Y=Z.delete($)}catch(V){return this.nextTick(X,V)}this[cG](Y,X)}_put($,Q,X,Z){let Y=this[WJ]("readwrite"),V;try{V=Y.put(Q,$)}catch(G){return this.nextTick(Z,G)}this[cG](V,Z)}_iterator($){return new xC(this,this[bZ],$)}_batch($,Q,X){let Z=this[WJ]("readwrite"),Y=Z.transaction,V=0,G;Y.onabort=function(){X(G||Y.error||new Error("aborted by user"))},Y.oncomplete=function(){X()};function H(){let D=$[V++],A=D.key,T;try{T=D.type==="del"?Z.delete(A):Z.put(D.value,A)}catch(F){G=F,Y.abort();return}if(V<$.length)T.onsuccess=H;else if(typeof Y.commit==="function")Y.commit()}H()}_clear($,Q){let X,Z;try{X=fC($)}catch(Y){return this.nextTick(Q)}if($.limit>=0)return kC(this,this[bZ],X,$,Q);try{let Y=this[WJ]("readwrite");Z=X?Y.delete(X):Y.clear()}catch(Y){return this.nextTick(Q,Y)}this[cG](Z,Q)}_close($){this[pG].close(),this.nextTick($)}}TK.destroy=function($,Q,X){if(typeof Q==="function")X=Q,Q="level-js-";X=_C(X,p5);let Z=indexedDB.deleteDatabase(Q+$);return Z.onsuccess=function(){X()},Z.onerror=function(Y){X(Y)},X[p5]};vC.BrowserLevel=TK});function uG($,Q,X){return parseInt($.substr(Q,X),16)}function l5($){return $|=0,$<0?"00":$<16?"0"+$.toString(16):$<256?$.toString(16):"ff"}function RK($,Q,X){return X=X<0?X+6:X>6?X-6:X,l5(255*(X<1?$+(Q-$)*X:X<3?Q:X<4?$+(Q-$)*(4-X):$))}function yC($){if(/^#[0-9a-f]{3,8}$/i.test($)){let Q,X=$.length;if(X<6){let Z=$[1],Y=$[2],V=$[3],G=$[4]||"";Q="#"+Z+Z+Y+Y+V+V+G+G}if(X==7||X>8)Q=$;return Q}}function hC($,Q,X){let Z;if(Q==0){let Y=l5(X*255);Z=Y+Y+Y}else{let Y=X<=0.5?X*(Q+1):X+Q-X*Q,V=X*2-Y;Z=RK(V,Y,$*6+2)+RK(V,Y,$*6)+RK(V,Y,$*6-2)}return"#"+Z}function mG($,Q,X){let Z=[0.55,0.5,0.5,0.46,0.6,0.55,0.55],Y=Z[$*6+0.5|0];return X=X<0.5?X*Y*2:Y+(X-0.5)*(1-Y)*2,hC($,Q,X)}function cC($,Q){let X=typeof $=="object"&&$||pC[u5.n]||bC[u5.V]||{},Z=X.lightness||{},Y=X.saturation||{},V="color"in Y?Y.color:Y,G=Y.grayscale,H=X.backColor,D=X.padding;function A(F,M){let I=Z[F];if(!(I&&I.length>1))I=M;return function(P){return P=I[0]+P*(I[1]-I[0]),P<0?0:P>1?1:P}}function T(F){let M=X.hues,I;if(M&&M.length>0)I=M[0|0.999*F*M.length];return typeof I=="number"?(I/360%1+1)%1:F}return{W:T,o:typeof V=="number"?V:0.5,D:typeof G=="number"?G:0,p:A("color",[0.4,0.8]),F:A("grayscale",[0.3,0.9]),G:yC(H),X:typeof $=="number"?$:typeof D=="number"?D:Q}}class dG{constructor($,Q){this.x=$,this.y=Q}}class EK{constructor($,Q,X,Z){this.q=$,this.t=Q,this.H=X,this.Y=Z}I($,Q,X,Z){let Y=this.q+this.H,V=this.t+this.H,G=this.Y;return G===1?new dG(Y-Q-(Z||0),this.t+$):G===2?new dG(Y-$-(X||0),V-Q-(Z||0)):G===3?new dG(this.q+Q,V-$-(X||0)):new dG(this.q+$,this.t+Q)}}class o5{constructor($){this.J=$,this.u=mC}g($,Q){let X=Q?-2:2,Z=[];for(let Y=Q?$.length-2:0;Y<$.length&&Y>=0;Y+=X)Z.push(this.u.I($[Y],$[Y+1]));this.J.g(Z)}h($,Q,X,Z){let Y=this.u.I($,Q,X,X);this.J.h(Y,X,Z)}i($,Q,X,Z,Y){this.g([$,Q,$+X,Q,$+X,Q+Z,$,Q+Z],Y)}j($,Q,X,Z,Y,V){let G=[$+X,Q,$+X,Q+Z,$,Q+Z,$,Q];G.splice((Y||0)%4*2,2),this.g(G,V)}K($,Q,X,Z,Y){this.g([$+X/2,Q,$+X,Q+Z/2,$+X/2,Q+Z,$,Q+Z/2],Y)}}function uC($,Q,X,Z){$=$%14;let Y,V,G,H,D,A;!$?(Y=X*0.42,Q.g([0,0,X,0,X,X-Y*2,X-Y,X,0,X])):$==1?(G=0|X*0.5,H=0|X*0.8,Q.j(X-G,0,G,H,2)):$==2?(G=0|X/3,Q.i(G,G,X-G,X-G)):$==3?(D=X*0.1,A=X<6?1:X<8?2:0|X*0.25,D=D>1?0|D:D>0.5?1:D,Q.i(A,A,X-D-A,X-D-A)):$==4?(V=0|X*0.15,G=0|X*0.5,Q.h(X-G-V,X-G-V,G)):$==5?(D=X*0.1,A=D*4,A>3&&(A=0|A),Q.i(0,0,X,X),Q.g([A,A,X-D,A,A+(X-A-D)/2,X-D],!0)):$==6?Q.g([0,0,X,0,X,X*0.7,X*0.4,X*0.4,X*0.7,X,0,X]):$==7?Q.j(X/2,X/2,X/2,X/2,3):$==8?(Q.i(0,0,X,X/2),Q.i(0,X/2,X/2,X/2),Q.j(X/2,X/2,X/2,X/2,1)):$==9?(D=X*0.14,A=X<4?1:X<6?2:0|X*0.35,D=X<8?D:0|D,Q.i(0,0,X,X),Q.i(A,A,X-A-D,X-A-D,!0)):$==10?(D=X*0.12,A=D*3,Q.i(0,0,X,X),Q.h(A,A,X-D-A,!0)):$==11?Q.j(X/2,X/2,X/2,X/2,3):$==12?(V=X*0.25,Q.i(0,0,X,X),Q.K(V,V,X-V,X-V,!0)):!Z&&(V=X*0.4,G=X*1.2,Q.h(V,V,G))}function d5($,Q,X){$=$%4;let Z;!$?Q.j(0,0,X,X,0):$==1?Q.j(0,X/2,X,X/2,0):$==2?Q.K(0,0,X,X):(Z=X/6,Q.h(Z,Z,X-2*Z))}function dC($,Q){return $=Q.W($),[mG($,Q.D,Q.F(0)),mG($,Q.o,Q.p(0.5)),mG($,Q.D,Q.F(1)),mG($,Q.o,Q.p(1)),mG($,Q.o,Q.p(0))]}function lC($,Q,X){let Z=cC(X,0.08);if(Z.G)$.m(Z.G);let Y=$.k,V=0.5+Y*Z.X|0;Y-=V*2;let G=new o5($),H=0|Y/4,D=0|V+Y/2-H*2,A=0|V+Y/2-H*2;function T(j,N,w,k,f){let v=uG(Q,w,1),c=k?uG(Q,k,1):0;$.L(M[I[j]]);for(let u=0;u<f.length;u++)G.u=new EK(D+f[u][0]*H,A+f[u][1]*H,H,c++%4),N(v,G,H,u);$.M()}let F=uG(Q,-7)/268435455,M=dC(F,Z),I=[],P;function S(j){if(j.indexOf(P)>=0){for(let N=0;N<j.length;N++)if(I.indexOf(j[N])>=0)return!0}}for(let j=0;j<3;j++){if(P=uG(Q,8+j,1)%M.length,S([0,4])||S([2,3]))P=1;I.push(P)}T(0,d5,2,3,[[1,0],[2,0],[2,3],[1,3],[0,1],[3,1],[3,2],[0,2]]),T(1,d5,4,5,[[0,0],[3,0],[3,3],[0,3]]),T(2,uC,1,null,[[1,1],[2,1],[2,2],[1,2]]),$.finish()}function oC($){var Z=0,Y=0,V=encodeURI($)+"%80",G=[],H,D=[],A=1732584193,T=4023233417,F=~A,M=~T,I=3285377520,P=[A,T,F,M,I],S=0,j="";function N(w,k){return w<<k|w>>>32-k}for(;Z<V.length;Y++)G[Y>>2]=G[Y>>2]|(V[Z]=="%"?parseInt(V.substring(Z+1,Z+=3),16):V.charCodeAt(Z++))<<(3-(Y&3))*8;H=((Y+7>>6)+1)*16,G[H-1]=Y*8-8;for(;S<H;S+=16){for(Z=0;Z<80;Z++)Y=N(A,5)+I+(Z<20?(T&F^~T&M)+1518500249:Z<40?(T^F^M)+1859775393:Z<60?(T&F^T&M^F&M)+2400959708:(T^F^M)+3395469782)+(D[Z]=Z<16?G[S+Z]|0:N(D[Z-3]^D[Z-8]^D[Z-14]^D[Z-16],1)),I=M,M=F,F=N(T,30),T=A,A=Y;P[0]=A=P[0]+A|0,P[1]=T=P[1]+T|0,P[2]=F=P[2]+F|0,P[3]=M=P[3]+M|0,P[4]=I=P[4]+I|0}for(Z=0;Z<40;Z++)j+=(P[Z>>3]>>>(7-(Z&7))*4&15).toString(16);return j}function nC($){return/^[0-9a-f]{11,}$/i.test($)&&$}function sC($){return oC($==null?"":""+$)}function U8($){return($*10+0.5|0)/10}class n5{constructor(){this.v=""}g($){let Q="";for(let X=0;X<$.length;X++)Q+=(X?"L":"M")+U8($[X].x)+" "+U8($[X].y);this.v+=Q+"Z"}h($,Q,X){let Z=X?0:1,Y=U8(Q/2),V=U8(Q),G="a"+Y+","+Y+" 0 1,"+Z+" ";this.v+="M"+U8($.x)+" "+U8($.y+Q/2)+G+V+",0"+G+-V+",0"}}class s5{constructor($){this.A,this.B={},this.O=$,this.k=$.k}m($){let Q=/^(#......)(..)?/.exec($),X=Q[2]?uG(Q[2],0)/255:1;this.O.m(Q[1],X)}L($){this.A=this.B[$]||(this.B[$]=new n5)}M(){}g($){this.A.g($)}h($,Q,X){this.A.h($,Q,X)}finish(){let $=this.B;for(let Q in $)if($.hasOwnProperty(Q))this.O.P(Q,$[Q].v)}}class i5{constructor($){this.k=$,this.C='<svg xmlns="'+iC.R+'" width="'+$+'" height="'+$+'" viewBox="0 0 '+$+" "+$+'">'}m($,Q){if(Q)this.C+='<rect width="100%" height="100%" fill="'+$+'" opacity="'+Q.toFixed(2)+'"/>'}P($,Q){this.C+='<path fill="'+$+'" d="'+Q+'"/>'}toString(){return this.C+"</svg>"}}function IK($,Q,X){let Z=new i5(Q);return lC(new s5(Z),nC($)||sC($),X),Z.toString()}var bC,u5,pC,mC,fB,iC;var r5=K0(()=>{bC=typeof window!=="undefined"?window:typeof self!=="undefined"?self:typeof global!=="undefined"?global:{},u5={V:"jdenticon_config",n:"config"},pC={};mC=new EK(0,0,0,0);fB=typeof document!=="undefined"&&document.querySelectorAll.bind(document);iC={R:"http://www.w3.org/2000/svg",S:"width",T:"height"}});var K8="6.15.0";function rC($,Q,X){let Z=Q.split("|").map((V)=>V.trim());for(let V=0;V<Z.length;V++)switch(Q){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof $===Q)return}let Y=new Error(`invalid value for type ${Q}`);throw Y.code="INVALID_ARGUMENT",Y.argument=`value.${X}`,Y.value=$,Y}async function B$($){let Q=Object.keys($);return(await Promise.all(Q.map((Z)=>Promise.resolve($[Z])))).reduce((Z,Y,V)=>{return Z[Q[V]]=Y,Z},{})}function P0($,Q,X){for(let Z in Q){let Y=Q[Z],V=X?X[Z]:null;if(V)rC(Y,V,Z);Object.defineProperty($,Z,{enumerable:!0,value:Y,writable:!1})}}function O8($,Q){if($==null)return"null";if(Q==null)Q=new Set;if(typeof $==="object"){if(Q.has($))return"[Circular]";Q.add($)}if(Array.isArray($))return"[ "+$.map((X)=>O8(X,Q)).join(", ")+" ]";if($ instanceof Uint8Array){let Z="0x";for(let Y=0;Y<$.length;Y++)Z+="0123456789abcdef"[$[Y]>>4],Z+="0123456789abcdef"[$[Y]&15];return Z}if(typeof $==="object"&&typeof $.toJSON==="function")return O8($.toJSON(),Q);switch(typeof $){case"boolean":case"number":case"symbol":return $.toString();case"bigint":return BigInt($).toString();case"string":return JSON.stringify($);case"object":{let X=Object.keys($);return X.sort(),"{ "+X.map((Z)=>`${O8(Z,Q)}: ${O8($[Z],Q)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function D$($,Q){return $&&$.code===Q}function MY($){return D$($,"CALL_EXCEPTION")}function W$($,Q,X){let Z=$;{let V=[];if(X){if("message"in X||"code"in X||"name"in X)throw new Error(`value will overwrite populated values: ${O8(X)}`);for(let G in X){if(G==="shortMessage")continue;let H=X[G];V.push(G+"="+O8(H))}}if(V.push(`code=${Q}`),V.push(`version=${K8}`),V.length)$+=" ("+V.join(", ")+")"}let Y;switch(Q){case"INVALID_ARGUMENT":Y=new TypeError($);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":Y=new RangeError($);break;default:Y=new Error($)}if(P0(Y,{code:Q}),X)Object.assign(Y,X);if(Y.shortMessage==null)P0(Y,{shortMessage:Z});return Y}function J0($,Q,X,Z){if(!$)throw W$(Q,X,Z)}function h($,Q,X,Z){J0($,Q,"INVALID_ARGUMENT",{argument:X,value:Z})}function VJ($,Q,X){if(X==null)X="";if(X)X=": "+X;J0($>=Q,"missing argument"+X,"MISSING_ARGUMENT",{count:$,expectedCount:Q}),J0($<=Q,"too many arguments"+X,"UNEXPECTED_ARGUMENT",{count:$,expectedCount:Q})}function UJ($){J0(aC.indexOf($)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:$}})}function IQ($,Q,X){if(X==null)X="";if($!==Q){let Z=X,Y="new";if(X)Z+=".",Y+=" "+X;J0(!1,`private constructor; use ${Z}from* methods`,"UNSUPPORTED_OPERATION",{operation:Y})}}var aC;var mX=K0(()=>{aC=["NFD","NFC","NFKD","NFKC"].reduce(($,Q)=>{try{if("test".normalize(Q)!=="test")throw new Error("bad");if(Q==="NFD"){let X=String.fromCharCode(233).normalize("NFD"),Z=String.fromCharCode(101,769);if(X!==Z)throw new Error("broken")}$.push(Q)}catch(X){}return $},[])});function t5($,Q,X){if($ instanceof Uint8Array){if(X)return new Uint8Array($);return $}if(typeof $==="string"&&$.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){let Z=new Uint8Array(($.length-2)/2),Y=2;for(let V=0;V<Z.length;V++)Z[V]=parseInt($.substring(Y,Y+2),16),Y+=2;return Z}h(!1,"invalid BytesLike value",Q||"value",$)}function M0($,Q){return t5($,Q,!1)}function j$($,Q){return t5($,Q,!0)}function Q$($,Q){if(typeof $!=="string"||!$.match(/^0x[0-9A-Fa-f]*$/))return!1;if(typeof Q==="number"&&$.length!==2+2*Q)return!1;if(Q===!0&&$.length%2!==0)return!1;return!0}function uX($){return Q$($,!0)||$ instanceof Uint8Array}function O0($){let Q=M0($),X="0x";for(let Z=0;Z<Q.length;Z++){let Y=Q[Z];X+=a5[(Y&240)>>4]+a5[Y&15]}return X}function s0($){return"0x"+$.map((Q)=>O0(Q).substring(2)).join("")}function aQ($){if(Q$($,!0))return($.length-2)/2;return M0($).length}function O$($,Q,X){let Z=M0($);if(X!=null&&X>Z.length)J0(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:Z,length:Z.length,offset:X});return O0(Z.slice(Q==null?0:Q,X==null?Z.length:X))}function PK($){let Q=O0($).substring(2);while(Q.startsWith("00"))Q=Q.substring(2);return"0x"+Q}function e5($,Q,X){let Z=M0($);J0(Q>=Z.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(Z),length:Q,offset:Q+1});let Y=new Uint8Array(Q);if(Y.fill(0),X)Y.set(Z,Q-Z.length);else Y.set(Z,0);return O0(Y)}function c$($,Q){return e5($,Q,!0)}function pZ($,Q){return e5($,Q,!1)}var a5="0123456789abcdef";var PX=K0(()=>{mX()});function cZ($,Q){let X=KJ($,"value"),Z=BigInt(o0(Q,"width"));if(J0(X>>Z===xV,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:$}),X>>Z-dX){let Y=(dX<<Z)-dX;return-((~X&Y)+dX)}return X}function mZ($,Q){let X=c0($,"value"),Z=BigInt(o0(Q,"width")),Y=dX<<Z-dX;if(X<xV){X=-X,J0(X<=Y,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:$});let V=(dX<<Z)-dX;return(~X&V)+dX}else J0(X<Y,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:$});return X}function UX($,Q){let X=KJ($,"value"),Z=BigInt(o0(Q,"bits"));return X&(dX<<Z)-dX}function c0($,Q){switch(typeof $){case"bigint":return $;case"number":return h(Number.isInteger($),"underflow",Q||"value",$),h($>=-z8&&$<=z8,"overflow",Q||"value",$),BigInt($);case"string":try{if($==="")throw new Error("empty string");if($[0]==="-"&&$[1]!=="-")return-BigInt($.substring(1));return BigInt($)}catch(X){h(!1,`invalid BigNumberish string: ${X.message}`,Q||"value",$)}}h(!1,"invalid BigNumberish value",Q||"value",$)}function KJ($,Q){let X=c0($,Q);return J0(X>=xV,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:$}),X}function SX($){if($ instanceof Uint8Array){let Q="0x0";for(let X of $)Q+=$z[X>>4],Q+=$z[X&15];return BigInt(Q)}return c0($)}function o0($,Q){switch(typeof $){case"bigint":return h($>=-z8&&$<=z8,"overflow",Q||"value",$),Number($);case"number":return h(Number.isInteger($),"underflow",Q||"value",$),h($>=-z8&&$<=z8,"overflow",Q||"value",$),$;case"string":try{if($==="")throw new Error("empty string");return o0(BigInt($),Q)}catch(X){h(!1,`invalid numeric string: ${X.message}`,Q||"value",$)}}h(!1,"invalid numeric value",Q||"value",$)}function lG($){return o0(SX($))}function qQ($,Q){let Z=KJ($,"value").toString(16);if(Q==null){if(Z.length%2)Z="0"+Z}else{let Y=o0(Q,"width");J0(Y*2>=Z.length,`value exceeds width (${Y} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:$});while(Z.length<Y*2)Z="0"+Z}return"0x"+Z}function z$($){let Q=KJ($,"value");if(Q===xV)return new Uint8Array([]);let X=Q.toString(16);if(X.length%2)X="0"+X;let Z=new Uint8Array(X.length/2);for(let Y=0;Y<Z.length;Y++){let V=Y*2;Z[Y]=parseInt(X.substring(V,V+2),16)}return Z}function OQ($){let Q=O0(uX($)?$:z$($)).substring(2);while(Q.startsWith("0"))Q=Q.substring(1);if(Q==="")Q="0";return"0x"+Q}var xV,dX,z8=9007199254740991,$z="0123456789abcdef";var H8=K0(()=>{PX();mX();xV=BigInt(0),dX=BigInt(1)});function tC($){if(kV==null){kV={};for(let X=0;X<fV.length;X++)kV[fV[X]]=BigInt(X)}let Q=kV[$];return h(Q!=null,"invalid base58 value","letter",$),Q}function OJ($){let Q=M0($),X=SX(Q),Z="";while(X)Z=fV[Number(X%SK)]+Z,X/=SK;for(let Y=0;Y<Q.length;Y++){if(Q[Y])break;Z=fV[0]+Z}return Z}function oG($){let Q=eC;for(let X=0;X<$.length;X++)Q*=SK,Q+=tC($[X]);return Q}var fV="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",kV=null,eC,SK;var Qz=K0(()=>{PX();mX();H8();eC=BigInt(0),SK=BigInt(58)});function nG($){$=atob($);let Q=new Uint8Array($.length);for(let X=0;X<$.length;X++)Q[X]=$.charCodeAt(X);return M0(Q)}function sG($){let Q=M0($),X="";for(let Z=0;Z<Q.length;Z++)X+=String.fromCharCode(Q[Z]);return btoa(X)}var BK=K0(()=>{PX()});class AY{filter;emitter;#$;constructor($,Q,X){this.#$=Q,P0(this,{emitter:$,filter:X})}async removeListener(){if(this.#$==null)return;await this.emitter.off(this.filter,this.#$)}}var Xz=()=>{};function $T($,Q,X,Z,Y){h(!1,`invalid codepoint at offset ${Q}; ${$}`,"bytes",X)}function Zz($,Q,X,Z,Y){if($==="BAD_PREFIX"||$==="UNEXPECTED_CONTINUE"){let V=0;for(let G=Q+1;G<X.length;G++){if(X[G]>>6!==2)break;V++}return V}if($==="OVERRUN")return X.length-Q-1;return 0}function QT($,Q,X,Z,Y){if($==="OVERLONG")return h(typeof Y==="number","invalid bad code point for replacement","badCodepoint",Y),Z.push(Y),0;return Z.push(65533),Zz($,Q,X,Z,Y)}function Yz($,Q){if(Q==null)Q=vV.error;let X=M0($,"bytes"),Z=[],Y=0;while(Y<X.length){let V=X[Y++];if(V>>7===0){Z.push(V);continue}let G=null,H=null;if((V&224)===192)G=1,H=127;else if((V&240)===224)G=2,H=2047;else if((V&248)===240)G=3,H=65535;else{if((V&192)===128)Y+=Q("UNEXPECTED_CONTINUE",Y-1,X,Z);else Y+=Q("BAD_PREFIX",Y-1,X,Z);continue}if(Y-1+G>=X.length){Y+=Q("OVERRUN",Y-1,X,Z);continue}let D=V&(1<<8-G-1)-1;for(let A=0;A<G;A++){let T=X[Y];if((T&192)!=128){Y+=Q("MISSING_CONTINUE",Y,X,Z),D=null;break}D=D<<6|T&63,Y++}if(D===null)continue;if(D>1114111){Y+=Q("OUT_OF_RANGE",Y-1-G,X,Z,D);continue}if(D>=55296&&D<=57343){Y+=Q("UTF16_SURROGATE",Y-1-G,X,Z,D);continue}if(D<=H){Y+=Q("OVERLONG",Y-1-G,X,Z,D);continue}Z.push(D)}return Z}function F$($,Q){if(h(typeof $==="string","invalid string value","str",$),Q!=null)UJ(Q),$=$.normalize(Q);let X=[];for(let Z=0;Z<$.length;Z++){let Y=$.charCodeAt(Z);if(Y<128)X.push(Y);else if(Y<2048)X.push(Y>>6|192),X.push(Y&63|128);else if((Y&64512)==55296){Z++;let V=$.charCodeAt(Z);h(Z<$.length&&(V&64512)===56320,"invalid surrogate pair","str",$);let G=65536+((Y&1023)<<10)+(V&1023);X.push(G>>18|240),X.push(G>>12&63|128),X.push(G>>6&63|128),X.push(G&63|128)}else X.push(Y>>12|224),X.push(Y>>6&63|128),X.push(Y&63|128)}return new Uint8Array(X)}function XT($){return $.map((Q)=>{if(Q<=65535)return String.fromCharCode(Q);return Q-=65536,String.fromCharCode((Q>>10&1023)+55296,(Q&1023)+56320)}).join("")}function bQ($,Q){return XT(Yz($,Q))}function jK($,Q){return Yz(F$($,Q))}var vV;var gV=K0(()=>{PX();mX();vV=Object.freeze({error:$T,ignore:Zz,replace:QT})});function yV($){async function Q(X,Z){J0(Z==null||!Z.cancelled,"request cancelled before sending","CANCELLED");let Y=X.url.split(":")[0].toLowerCase();J0(Y==="http"||Y==="https",`unsupported protocol ${Y}`,"UNSUPPORTED_OPERATION",{info:{protocol:Y},operation:"request"}),J0(Y==="https"||!X.credentials||X.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let V=null,G=new AbortController,H=setTimeout(()=>{V=W$("request timeout","TIMEOUT"),G.abort()},X.timeout);if(Z)Z.addListener(()=>{V=W$("request cancelled","CANCELLED"),G.abort()});let D=Object.assign({},$,{method:X.method,headers:new Headers(Array.from(X)),body:X.body||void 0,signal:G.signal}),A;try{A=await fetch(X.url,D)}catch(I){if(clearTimeout(H),V)throw V;throw I}clearTimeout(H);let T={};A.headers.forEach((I,P)=>{T[P.toLowerCase()]=I});let F=await A.arrayBuffer(),M=F==null?null:new Uint8Array(F);return{statusCode:A.status,statusMessage:A.statusText,headers:T,body:M}}return Q}var Yj;var Jz=K0(()=>{mX();Yj=yV({})});async function Vz($,Q){try{let X=$.match(JT);if(!X)throw new Error("invalid data");return new lX(200,"OK",{"content-type":X[1]||"text/plain"},X[2]?nG(X[3]):WT(X[3]))}catch(X){return new lX(599,"BAD REQUEST (invalid data: URI)",{},null,new q$($))}}function Uz($){async function Q(X,Z){try{let Y=X.match(GT);if(!Y)throw new Error("invalid link");return new q$(`${$}${Y[2]}`)}catch(Y){return new lX(599,"BAD REQUEST (invalid IPFS URI)",{},null,new q$(X))}}return Q}class iG{#$;#Q;constructor($){this.#$=[],this.#Q=!1,Kz.set($,()=>{if(this.#Q)return;this.#Q=!0;for(let Q of this.#$)setTimeout(()=>{Q()},0);this.#$=[]})}addListener($){J0(!this.#Q,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#$.push($)}get cancelled(){return this.#Q}checkSignal(){J0(!this.cancelled,"cancelled","CANCELLED",{})}}function bV($){if($==null)throw new Error("missing signal; should not happen");return $.checkSignal(),$}function Wz(){return new Date().getTime()}function WT($){return F$($.replace(/%([0-9a-f][0-9a-f])/gi,(Q,X)=>{return String.fromCharCode(parseInt(X,16))}))}function VT($){return new Promise((Q)=>setTimeout(Q,$))}var ZT=12,YT=250,Gz,JT,GT,NK=!1,hV,Kz,q$,lX;var Oz=K0(()=>{BK();PX();mX();gV();Jz();Gz=yV(),JT=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),GT=new RegExp("^ipfs://(ipfs/)?(.*)$","i");hV={data:Vz,ipfs:Uz("https://gateway.ipfs.io/ipfs/")},Kz=new WeakMap;q$=class q${#$;#Q;#X;#Z;#Y;#G;#J;#W;#O;#U;#L;#D;#V;#K;#z;get url(){return this.#G}set url($){this.#G=String($)}get body(){if(this.#J==null)return null;return new Uint8Array(this.#J)}set body($){if($==null)this.#J=void 0,this.#W=void 0;else if(typeof $==="string")this.#J=F$($),this.#W="text/plain";else if($ instanceof Uint8Array)this.#J=$,this.#W="application/octet-stream";else if(typeof $==="object")this.#J=F$(JSON.stringify($)),this.#W="application/json";else throw new Error("invalid body")}hasBody(){return this.#J!=null}get method(){if(this.#Z)return this.#Z;if(this.hasBody())return"POST";return"GET"}set method($){if($==null)$="";this.#Z=String($).toUpperCase()}get headers(){let $=Object.assign({},this.#X);if(this.#O)$.authorization=`Basic ${sG(F$(this.#O))}`;if(this.allowGzip)$["accept-encoding"]="gzip";if($["content-type"]==null&&this.#W)$["content-type"]=this.#W;if(this.body)$["content-length"]=String(this.body.length);return $}getHeader($){return this.headers[$.toLowerCase()]}setHeader($,Q){this.#X[String($).toLowerCase()]=String(Q)}clearHeaders(){this.#X={}}[Symbol.iterator](){let $=this.headers,Q=Object.keys($),X=0;return{next:()=>{if(X<Q.length){let Z=Q[X++];return{value:[Z,$[Z]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#O||null}setCredentials($,Q){h(!$.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#O=`${$}:${Q}`}get allowGzip(){return this.#Q}set allowGzip($){this.#Q=!!$}get allowInsecureAuthentication(){return!!this.#$}set allowInsecureAuthentication($){this.#$=!!$}get timeout(){return this.#Y}set timeout($){h($>=0,"timeout must be non-zero","timeout",$),this.#Y=$}get preflightFunc(){return this.#U||null}set preflightFunc($){this.#U=$}get processFunc(){return this.#L||null}set processFunc($){this.#L=$}get retryFunc(){return this.#D||null}set retryFunc($){this.#D=$}get getUrlFunc(){return this.#z||Gz}set getUrlFunc($){this.#z=$}constructor($){this.#G=String($),this.#$=!1,this.#Q=!0,this.#X={},this.#Z="",this.#Y=300000,this.#K={slotInterval:YT,maxAttempts:ZT},this.#z=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#J?O0(this.#J):"null"}>`}setThrottleParams($){if($.slotInterval!=null)this.#K.slotInterval=$.slotInterval;if($.maxAttempts!=null)this.#K.maxAttempts=$.maxAttempts}async#H($,Q,X,Z,Y){if($>=this.#K.maxAttempts)return Y.makeServerError("exceeded maximum retry limit");if(J0(Wz()<=Q,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:Z}),X>0)await VT(X);let V=this.clone(),G=(V.url.split(":")[0]||"").toLowerCase();if(G in hV){let A=await hV[G](V.url,bV(Z.#V));if(A instanceof lX){let T=A;if(this.processFunc){bV(Z.#V);try{T=await this.processFunc(V,T)}catch(F){if(F.throttle==null||typeof F.stall!=="number")T.makeServerError("error in post-processing function",F).assertOk()}}return T}V=A}if(this.preflightFunc)V=await this.preflightFunc(V);let H=await this.getUrlFunc(V,bV(Z.#V)),D=new lX(H.statusCode,H.statusMessage,H.headers,H.body,Z);if(D.statusCode===301||D.statusCode===302){try{let A=D.headers.location||"";return V.redirect(A).#H($+1,Q,0,Z,D)}catch(A){}return D}else if(D.statusCode===429){if(this.retryFunc==null||await this.retryFunc(V,D,$)){let A=D.headers["retry-after"],T=this.#K.slotInterval*Math.trunc(Math.random()*Math.pow(2,$));if(typeof A==="string"&&A.match(/^[1-9][0-9]*$/))T=parseInt(A);return V.clone().#H($+1,Q,T,Z,D)}}if(this.processFunc){bV(Z.#V);try{D=await this.processFunc(V,D)}catch(A){if(A.throttle==null||typeof A.stall!=="number")D.makeServerError("error in post-processing function",A).assertOk();let T=this.#K.slotInterval*Math.trunc(Math.random()*Math.pow(2,$));if(A.stall>=0)T=A.stall;return V.clone().#H($+1,Q,T,Z,D)}}return D}send(){return J0(this.#V==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#V=new iG(this),this.#H(0,Wz()+this.timeout,0,this,new lX(0,"",{},null,this))}cancel(){J0(this.#V!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});let $=Kz.get(this);if(!$)throw new Error("missing signal; should not happen");$()}redirect($){let Q=this.url.split(":")[0].toLowerCase(),X=$.split(":")[0].toLowerCase();J0(this.method==="GET"&&(Q!=="https"||X!=="http")&&$.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify($)})`});let Z=new q$($);if(Z.method="GET",Z.allowGzip=this.allowGzip,Z.timeout=this.timeout,Z.#X=Object.assign({},this.#X),this.#J)Z.#J=new Uint8Array(this.#J);return Z.#W=this.#W,Z}clone(){let $=new q$(this.url);if($.#Z=this.#Z,this.#J)$.#J=this.#J;if($.#W=this.#W,$.#X=Object.assign({},this.#X),$.#O=this.#O,this.allowGzip)$.allowGzip=!0;if($.timeout=this.timeout,this.allowInsecureAuthentication)$.allowInsecureAuthentication=!0;return $.#U=this.#U,$.#L=this.#L,$.#D=this.#D,$.#K=Object.assign({},this.#K),$.#z=this.#z,$}static lockConfig(){NK=!0}static getGateway($){return hV[$.toLowerCase()]||null}static registerGateway($,Q){if($=$.toLowerCase(),$==="http"||$==="https")throw new Error(`cannot intercept ${$}; use registerGetUrl`);if(NK)throw new Error("gateways locked");hV[$]=Q}static registerGetUrl($){if(NK)throw new Error("gateways locked");Gz=$}static createGetUrlFunc($){return yV($)}static createDataGateway(){return Vz}static createIpfsGatewayFunc($){return Uz($)}};lX=class lX{#$;#Q;#X;#Z;#Y;#G;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#Z?O0(this.#Z):"null"}>`}get statusCode(){return this.#$}get statusMessage(){return this.#Q}get headers(){return Object.assign({},this.#X)}get body(){return this.#Z==null?null:new Uint8Array(this.#Z)}get bodyText(){try{return this.#Z==null?"":bQ(this.#Z)}catch($){J0(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch($){J0(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){let $=this.headers,Q=Object.keys($),X=0;return{next:()=>{if(X<Q.length){let Z=Q[X++];return{value:[Z,$[Z]],done:!1}}return{value:void 0,done:!0}}}}constructor($,Q,X,Z,Y){this.#$=$,this.#Q=Q,this.#X=Object.keys(X).reduce((V,G)=>{return V[G.toLowerCase()]=String(X[G]),V},{}),this.#Z=Z==null?null:new Uint8Array(Z),this.#Y=Y||null,this.#G={message:""}}makeServerError($,Q){let X;if(!$)$=`${this.statusCode} ${this.statusMessage}`,X=`CLIENT ESCALATED SERVER ERROR (${$})`;else X=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${$})`;let Z=new lX(599,X,this.headers,this.body,this.#Y||void 0);return Z.#G={message:$,error:Q},Z}throwThrottleError($,Q){if(Q==null)Q=-1;else h(Number.isInteger(Q)&&Q>=0,"invalid stall timeout","stall",Q);let X=new Error($||"throttling requests");throw P0(X,{stall:Q,throttle:!0}),X}getHeader($){return this.headers[$.toLowerCase()]}hasBody(){return this.#Z!=null}get request(){return this.#Y}ok(){return this.#G.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:$,error:Q}=this.#G;if($==="")$=`server response ${this.statusCode} ${this.statusMessage}`;let X=null;if(this.request)X=this.request.url;let Z=null;try{if(this.#Z)Z=bQ(this.#Z)}catch(Y){}J0(!1,$,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:Q,info:{requestUrl:X,responseBody:Z,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}});function zJ($){let Q=q8;while(Q.length<$)Q+=Q;return BigInt("1"+Q.substring(0,$))}function rG($,Q,X){let Z=BigInt(Q.width);if(Q.signed){let Y=D8<<Z-D8;if(J0(X==null||$>=-Y&&$<Y,"overflow","NUMERIC_FAULT",{operation:X,fault:"overflow",value:$}),$>oX)$=cZ(UX($,Z),Z);else $=-cZ(UX(-$,Z),Z)}else{let Y=D8<<Z;J0(X==null||$>=0&&$<Y,"overflow","NUMERIC_FAULT",{operation:X,fault:"overflow",value:$}),$=($%Y+Y)%Y&Y-D8}return $}function wK($){if(typeof $==="number")$=`fixed128x${$}`;let Q=!0,X=128,Z=18;if(typeof $==="string")if($==="fixed");else if($==="ufixed")Q=!1;else{let V=$.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);h(V,"invalid fixed format","format",$),Q=V[1]!=="u",X=parseInt(V[2]),Z=parseInt(V[3])}else if($){let V=$,G=(H,D,A)=>{if(V[H]==null)return A;return h(typeof V[H]===D,"invalid fixed format ("+H+" not "+D+")","format."+H,V[H]),V[H]};Q=G("signed","boolean",Q),X=G("width","number",X),Z=G("decimals","number",Z)}h(X%8===0,"invalid FixedNumber width (not byte aligned)","format.width",X),h(Z<=80,"invalid FixedNumber decimals (too large)","format.decimals",Z);let Y=(Q?"":"u")+"fixed"+String(X)+"x"+String(Z);return{signed:Q,width:X,decimals:Z,name:Y}}function OT($,Q){let X="";if($<oX)X="-",$*=UT;let Z=$.toString();if(Q===0)return X+Z;while(Z.length<=Q)Z=q8+Z;let Y=Z.length-Q;Z=Z.substring(0,Y)+"."+Z.substring(Y);while(Z[0]==="0"&&Z[1]!==".")Z=Z.substring(1);while(Z[Z.length-1]==="0"&&Z[Z.length-2]!==".")Z=Z.substring(0,Z.length-1);return X+Z}class KX{format;#$;#Q;#X;_value;constructor($,Q,X){IQ($,L8,"FixedNumber"),this.#Q=Q,this.#$=X;let Z=OT(Q,X.decimals);P0(this,{format:X.name,_value:Z}),this.#X=zJ(X.decimals)}get signed(){return this.#$.signed}get width(){return this.#$.width}get decimals(){return this.#$.decimals}get value(){return this.#Q}#Z($){h(this.format===$.format,"incompatible format; use fixedNumber.toFormat","other",$)}#Y($,Q){return $=rG($,this.#$,Q),new KX(L8,$,this.#$)}#G($,Q){return this.#Z($),this.#Y(this.#Q+$.#Q,Q)}addUnsafe($){return this.#G($)}add($){return this.#G($,"add")}#J($,Q){return this.#Z($),this.#Y(this.#Q-$.#Q,Q)}subUnsafe($){return this.#J($)}sub($){return this.#J($,"sub")}#W($,Q){return this.#Z($),this.#Y(this.#Q*$.#Q/this.#X,Q)}mulUnsafe($){return this.#W($)}mul($){return this.#W($,"mul")}mulSignal($){this.#Z($);let Q=this.#Q*$.#Q;return J0(Q%this.#X===oX,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#Y(Q/this.#X,"mulSignal")}#O($,Q){return J0($.#Q!==oX,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#Z($),this.#Y(this.#Q*this.#X/$.#Q,Q)}divUnsafe($){return this.#O($)}div($){return this.#O($,"div")}divSignal($){J0($.#Q!==oX,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#Z($);let Q=this.#Q*this.#X;return J0(Q%$.#Q===oX,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#Y(Q/$.#Q,"divSignal")}cmp($){let Q=this.value,X=$.value,Z=this.decimals-$.decimals;if(Z>0)X*=zJ(Z);else if(Z<0)Q*=zJ(-Z);if(Q<X)return-1;if(Q>X)return 1;return 0}eq($){return this.cmp($)===0}lt($){return this.cmp($)<0}lte($){return this.cmp($)<=0}gt($){return this.cmp($)>0}gte($){return this.cmp($)>=0}floor(){let $=this.#Q;if(this.#Q<oX)$-=this.#X-D8;return $=this.#Q/this.#X*this.#X,this.#Y($,"floor")}ceiling(){let $=this.#Q;if(this.#Q>oX)$+=this.#X-D8;return $=this.#Q/this.#X*this.#X,this.#Y($,"ceiling")}round($){if($==null)$=0;if($>=this.decimals)return this;let Q=this.decimals-$,X=KT*zJ(Q-1),Z=this.value+X,Y=zJ(Q);return Z=Z/Y*Y,rG(Z,this.#$,"round"),new KX(L8,Z,this.#$)}isZero(){return this.#Q===oX}isNegative(){return this.#Q<oX}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat($){return KX.fromString(this.toString(),$)}static fromValue($,Q,X){let Z=Q==null?0:o0(Q),Y=wK(X),V=c0($,"value"),G=Z-Y.decimals;if(G>0){let H=zJ(G);J0(V%H===oX,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:$}),V/=H}else if(G<0)V*=zJ(-G);return rG(V,Y,"fromValue"),new KX(L8,V,Y)}static fromString($,Q){let X=$.match(/^(-?)([0-9]*)\.?([0-9]*)$/);h(X&&X[2].length+X[3].length>0,"invalid FixedNumber string value","value",$);let Z=wK(Q),Y=X[2]||"0",V=X[3]||"";while(V.length<Z.decimals)V+=q8;J0(V.substring(Z.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:$}),V=V.substring(0,Z.decimals);let G=BigInt(X[1]+Y+V);return rG(G,Z,"fromString"),new KX(L8,G,Z)}static fromBytes($,Q){let X=SX(M0($,"value")),Z=wK(Q);if(Z.signed)X=cZ(X,Z.width);return rG(X,Z,"fromBytes"),new KX(L8,X,Z)}}var UT,oX,D8,KT,L8,q8="0000";var _K=K0(()=>{PX();mX();H8();UT=BigInt(-1),oX=BigInt(0),D8=BigInt(1),KT=BigInt(5),L8={};while(q8.length<80)q8+=q8});function zT($){let Q=$.toString(16);while(Q.length<2)Q="0"+Q;return"0x"+Q}function zz($,Q,X){let Z=0;for(let Y=0;Y<X;Y++)Z=Z*256+$[Q+Y];return Z}function Hz($,Q,X,Z){let Y=[];while(X<Q+1+Z){let V=Lz($,X);Y.push(V.result),X+=V.consumed,J0(X<=Q+1+Z,"child data too short","BUFFER_OVERRUN",{buffer:$,length:Z,offset:Q})}return{consumed:1+Z,result:Y}}function Lz($,Q){J0($.length!==0,"data too short","BUFFER_OVERRUN",{buffer:$,length:0,offset:1});let X=(Z)=>{J0(Z<=$.length,"data short segment too short","BUFFER_OVERRUN",{buffer:$,length:$.length,offset:Z})};if($[Q]>=248){let Z=$[Q]-247;X(Q+1+Z);let Y=zz($,Q+1,Z);return X(Q+1+Z+Y),Hz($,Q,Q+1+Z,Z+Y)}else if($[Q]>=192){let Z=$[Q]-192;return X(Q+1+Z),Hz($,Q,Q+1,Z)}else if($[Q]>=184){let Z=$[Q]-183;X(Q+1+Z);let Y=zz($,Q+1,Z);X(Q+1+Z+Y);let V=O0($.slice(Q+1+Z,Q+1+Z+Y));return{consumed:1+Z+Y,result:V}}else if($[Q]>=128){let Z=$[Q]-128;X(Q+1+Z);let Y=O0($.slice(Q+1,Q+1+Z));return{consumed:1+Z,result:Y}}return{consumed:1,result:zT($[Q])}}function uZ($){let Q=M0($,"data"),X=Lz(Q,0);return h(X.consumed===Q.length,"unexpected junk after rlp payload","data",$),X.result}var Dz=K0(()=>{PX();mX();PX()});function qz($){let Q=[];while($)Q.unshift($&255),$>>=8;return Q}function Az($){if(Array.isArray($)){let Z=[];if($.forEach(function(V){Z=Z.concat(Az(V))}),Z.length<=55)return Z.unshift(192+Z.length),Z;let Y=qz(Z.length);return Y.unshift(247+Y.length),Y.concat(Z)}let Q=Array.prototype.slice.call(M0($,"object"));if(Q.length===1&&Q[0]<=127)return Q;else if(Q.length<=55)return Q.unshift(128+Q.length),Q;let X=qz(Q.length);return X.unshift(183+X.length),X.concat(Q)}function pQ($){let Q="0x";for(let X of Az($))Q+=Mz[X>>4],Q+=Mz[X&15];return Q}var Mz="0123456789abcdef";var Cz=K0(()=>{PX()});function HJ($,Q){let X=18;if(typeof Q==="string"){let Z=Tz.indexOf(Q);h(Z>=0,"invalid unit","unit",Q),X=3*Z}else if(Q!=null)X=o0(Q,"unit");return KX.fromValue($,X,{decimals:X,width:512}).toString()}function M8($,Q){h(typeof $==="string","value must be a string","value",$);let X=18;if(typeof Q==="string"){let Z=Tz.indexOf(Q);h(Z>=0,"invalid unit","unit",Q),X=3*Z}else if(Q!=null)X=o0(Q,"unit");return KX.fromString($,{decimals:X,width:512}).value}function xK($){return HJ($,18)}function kK($){return M8($,18)}var Tz;var Fz=K0(()=>{mX();_K();H8();Tz=["wei","kwei","mwei","gwei","szabo","finney","ether"]});function aG($){let Q=M0($,"randomBytes");Q[6]=Q[6]&15|64,Q[8]=Q[8]&63|128;let X=O0(Q);return[X.substring(2,10),X.substring(10,14),X.substring(14,18),X.substring(18,22),X.substring(22,34)].join("-")}var Rz=K0(()=>{PX()});var d0=K0(()=>{Qz();BK();PX();mX();Xz();Oz();_K();H8();Dz();Cz();Fz();gV();Rz()});function LJ($){return Pz.get($)}function Ez($,Q){Pz.set($,Q)}function tG($,Q){let X=new Error(`deferred error during ABI decoding triggered accessing ${$}`);throw X.error=Q,X}function vK($,Q,X){if($.indexOf(null)>=0)return Q.map((Z,Y)=>{if(Z instanceof tQ)return vK(LJ(Z),Z,X);return Z});return $.reduce((Z,Y,V)=>{let G=Q.getValue(Y);if(!(Y in Z)){if(X&&G instanceof tQ)G=vK(LJ(G),G,X);Z[Y]=G}return Z},{})}function cV($){let Q=[],X=function(Z,Y){if(!Array.isArray(Y))return;for(let V in Y){let G=Z.slice();G.push(V);try{X(G,Y[V])}catch(H){Q.push({path:G,error:H})}}};return X([],$),Q}function Iz($){let Q=z$($);if(J0(Q.length<=PQ,"value out-of-bounds","BUFFER_OVERRUN",{buffer:Q,length:PQ,offset:Q.length}),Q.length!==PQ)Q=j$(s0([fK.slice(Q.length%PQ),Q]));return Q}class zQ{name;type;localName;dynamic;constructor($,Q,X,Z){P0(this,{name:$,type:Q,localName:X,dynamic:Z},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError($,Q){h(!1,$,this.localName,Q)}}class A8{#$;#Q;constructor(){this.#$=[],this.#Q=0}get data(){return s0(this.#$)}get length(){return this.#Q}#X($){return this.#$.push($),this.#Q+=$.length,$.length}appendWriter($){return this.#X(j$($.data))}writeBytes($){let Q=j$($),X=Q.length%PQ;if(X)Q=j$(s0([Q,fK.slice(X)]));return this.#X(Q)}writeValue($){return this.#X(Iz($))}writeUpdatableValue(){let $=this.#$.length;return this.#$.push(fK),this.#Q+=PQ,(Q)=>{this.#$[$]=Iz(Q)}}}class mV{allowLoose;#$;#Q;#X;#Z;#Y;constructor($,Q,X){P0(this,{allowLoose:!!Q}),this.#$=j$($),this.#X=0,this.#Z=null,this.#Y=X!=null?X:1024,this.#Q=0}get data(){return O0(this.#$)}get dataLength(){return this.#$.length}get consumed(){return this.#Q}get bytes(){return new Uint8Array(this.#$)}#G($){if(this.#Z)return this.#Z.#G($);this.#X+=$,J0(this.#Y<1||this.#X<=this.#Y*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#Y} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:j$(this.#$),offset:this.#Q,length:$,info:{bytesRead:this.#X,dataLength:this.dataLength}})}#J($,Q,X){let Z=Math.ceil(Q/PQ)*PQ;if(this.#Q+Z>this.#$.length)if(this.allowLoose&&X&&this.#Q+Q<=this.#$.length)Z=Q;else J0(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:j$(this.#$),length:this.#$.length,offset:this.#Q+Z});return this.#$.slice(this.#Q,this.#Q+Z)}subReader($){let Q=new mV(this.#$.slice(this.#Q+$),this.allowLoose,this.#Y);return Q.#Z=this,Q}readBytes($,Q){let X=this.#J(0,$,!!Q);return this.#G($),this.#Q+=X.length,X.slice(0,$)}readValue(){return SX(this.readBytes(PQ))}readIndex(){return lG(this.readBytes(PQ))}}var PQ=32,fK,HT,pV,Pz,tQ;var BX=K0(()=>{d0();fK=new Uint8Array(PQ),HT=["then"],pV={},Pz=new WeakMap;tQ=class tQ extends Array{#$;constructor(...$){let Q=$[0],X=$[1],Z=($[2]||[]).slice(),Y=!0;if(Q!==pV)X=$,Z=[],Y=!1;super(X.length);X.forEach((H,D)=>{this[D]=H});let V=Z.reduce((H,D)=>{if(typeof D==="string")H.set(D,(H.get(D)||0)+1);return H},new Map);if(Ez(this,Object.freeze(X.map((H,D)=>{let A=Z[D];if(A!=null&&V.get(A)===1)return A;return null}))),this.#$=[],this.#$==null)this.#$;if(!Y)return;Object.freeze(this);let G=new Proxy(this,{get:(H,D,A)=>{if(typeof D==="string"){if(D.match(/^[0-9]+$/)){let F=o0(D,"%index");if(F<0||F>=this.length)throw new RangeError("out of result range");let M=H[F];if(M instanceof Error)tG(`index ${F}`,M);return M}if(HT.indexOf(D)>=0)return Reflect.get(H,D,A);let T=H[D];if(T instanceof Function)return function(...F){return T.apply(this===A?H:this,F)};else if(!(D in H))return H.getValue.apply(this===A?H:this,[D])}return Reflect.get(H,D,A)}});return Ez(G,LJ(this)),G}toArray($){let Q=[];return this.forEach((X,Z)=>{if(X instanceof Error)tG(`index ${Z}`,X);if($&&X instanceof tQ)X=X.toArray($);Q.push(X)}),Q}toObject($){let Q=LJ(this);return Q.reduce((X,Z,Y)=>{return J0(Z!=null,`value at index ${Y} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),vK(Q,this,$)},{})}slice($,Q){if($==null)$=0;if($<0){if($+=this.length,$<0)$=0}if(Q==null)Q=this.length;if(Q<0){if(Q+=this.length,Q<0)Q=0}if(Q>this.length)Q=this.length;let X=LJ(this),Z=[],Y=[];for(let V=$;V<Q;V++)Z.push(this[V]),Y.push(X[V]);return new tQ(pV,Z,Y)}filter($,Q){let X=LJ(this),Z=[],Y=[];for(let V=0;V<this.length;V++){let G=this[V];if(G instanceof Error)tG(`index ${V}`,G);if($.call(Q,G,V,this))Z.push(G),Y.push(X[V])}return new tQ(pV,Z,Y)}map($,Q){let X=[];for(let Z=0;Z<this.length;Z++){let Y=this[Z];if(Y instanceof Error)tG(`index ${Z}`,Y);X.push($.call(Q,Y,Z,this))}return X}getValue($){let Q=LJ(this).indexOf($);if(Q===-1)return;let X=this[Q];if(X instanceof Error)tG(`property ${JSON.stringify($)}`,X.error);return X}static fromItems($,Q){return new tQ(pV,$,Q)}}});function vQ($){if(!Number.isSafeInteger($)||$<0)throw new Error(`Wrong positive integer: ${$}`)}function eG($,...Q){if(!($ instanceof Uint8Array))throw new Error("Expected Uint8Array");if(Q.length>0&&!Q.includes($.length))throw new Error(`Expected Uint8Array of length ${Q}, not of length=${$.length}`)}function uV($){if(typeof $!=="function"||typeof $.create!=="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");vQ($.outputLen),vQ($.blockLen)}function dZ($,Q=!0){if($.destroyed)throw new Error("Hash instance has been destroyed");if(Q&&$.finished)throw new Error("Hash#digest() has already been called")}function dV($,Q){eG($);let X=Q.outputLen;if($.length<X)throw new Error(`digestInto() expects output buffer of length at least ${X}`)}var C8=()=>{};var lV;var Sz=K0(()=>{lV=typeof globalThis==="object"&&"crypto"in globalThis?globalThis.crypto:void 0});async function oV($,Q,X){let Z=Date.now();for(let Y=0;Y<$;Y++){X(Y);let V=Date.now()-Z;if(V>=0&&V<Q)continue;await DT(),Z+=V}}function qT($){if(typeof $!=="string")throw new Error(`utf8ToBytes expected string, got ${typeof $}`);return new Uint8Array(new TextEncoder().encode($))}function qZ($){if(typeof $==="string")$=qT($);if(!Bz($))throw new Error(`expected Uint8Array, got ${typeof $}`);return $}function jz(...$){let Q=new Uint8Array($.reduce((Z,Y)=>Z+Y.length,0)),X=0;return $.forEach((Z)=>{if(!Bz(Z))throw new Error("Uint8Array expected");Q.set(Z,X),X+=Z.length}),Q}class DJ{clone(){return this._cloneInto()}}function nV($,Q){if(Q!==void 0&&MT.call(Q)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign($,Q)}function CY($){let Q=(Z)=>$().update(qZ(Z)).digest(),X=$();return Q.outputLen=X.outputLen,Q.blockLen=X.blockLen,Q.create=()=>$(),Q}function Nz($=32){if(lV&&typeof lV.getRandomValues==="function")return lV.getRandomValues(new Uint8Array($));throw new Error("crypto.getRandomValues must be defined")}var Bz=($)=>$ instanceof Uint8Array,T8=($)=>new Uint32Array($.buffer,$.byteOffset,Math.floor($.byteLength/4)),F8=($)=>new DataView($.buffer,$.byteOffset,$.byteLength),nX=($,Q)=>$<<32-Q|$>>>Q,LT,DT=async()=>{},MT;var MZ=K0(()=>{Sz();/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */LT=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!LT)throw new Error("Non little-endian hardware is not supported");MT={}.toString});var gK,qJ=($,Q,X)=>new gK($,Q).update(X).digest();var sV=K0(()=>{C8();MZ();gK=class gK extends DJ{constructor($,Q){super();this.finished=!1,this.destroyed=!1,uV($);let X=qZ(Q);if(this.iHash=$.create(),typeof this.iHash.update!=="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let Z=this.blockLen,Y=new Uint8Array(Z);Y.set(X.length>Z?$.create().update(X).digest():X);for(let V=0;V<Y.length;V++)Y[V]^=54;this.iHash.update(Y),this.oHash=$.create();for(let V=0;V<Y.length;V++)Y[V]^=106;this.oHash.update(Y),Y.fill(0)}update($){return dZ(this),this.iHash.update($),this}digestInto($){dZ(this),eG($,this.outputLen),this.finished=!0,this.iHash.digestInto($),this.oHash.update($),this.oHash.digestInto($),this.destroy()}digest(){let $=new Uint8Array(this.oHash.outputLen);return this.digestInto($),$}_cloneInto($){$||($=Object.create(Object.getPrototypeOf(this),{}));let{oHash:Q,iHash:X,finished:Z,destroyed:Y,blockLen:V,outputLen:G}=this;return $=$,$.finished=Z,$.destroyed=Y,$.blockLen=V,$.outputLen=G,$.oHash=Q._cloneInto($.oHash),$.iHash=X._cloneInto($.iHash),$}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};qJ.create=($,Q)=>new gK($,Q)});function AT($,Q,X,Z){uV($);let Y=nV({dkLen:32,asyncTick:10},Z),{c:V,dkLen:G,asyncTick:H}=Y;if(vQ(V),vQ(G),vQ(H),V<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let D=qZ(Q),A=qZ(X),T=new Uint8Array(G),F=qJ.create($,D),M=F._cloneInto().update(A);return{c:V,dkLen:G,asyncTick:H,DK:T,PRF:F,PRFSalt:M}}function CT($,Q,X,Z,Y){if($.destroy(),Q.destroy(),Z)Z.destroy();return Y.fill(0),X}function $W($,Q,X,Z){let{c:Y,dkLen:V,DK:G,PRF:H,PRFSalt:D}=AT($,Q,X,Z),A,T=new Uint8Array(4),F=F8(T),M=new Uint8Array(H.outputLen);for(let I=1,P=0;P<V;I++,P+=H.outputLen){let S=G.subarray(P,P+H.outputLen);F.setInt32(0,I,!1),(A=D._cloneInto(A)).update(T).digestInto(M),S.set(M.subarray(0,S.length));for(let j=1;j<Y;j++){H._cloneInto(A).update(M).digestInto(M);for(let N=0;N<S.length;N++)S[N]^=M[N]}}return CT(H,D,G,A,M)}var yK=K0(()=>{C8();sV();MZ()});function TT($,Q,X,Z){if(typeof $.setBigUint64==="function")return $.setBigUint64(Q,X,Z);let Y=BigInt(32),V=BigInt(4294967295),G=Number(X>>Y&V),H=Number(X&V),D=Z?4:0,A=Z?0:4;$.setUint32(Q+D,G,Z),$.setUint32(Q+A,H,Z)}var MJ;var iV=K0(()=>{C8();MZ();MJ=class MJ extends DJ{constructor($,Q,X,Z){super();this.blockLen=$,this.outputLen=Q,this.padOffset=X,this.isLE=Z,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array($),this.view=F8(this.buffer)}update($){dZ(this);let{view:Q,buffer:X,blockLen:Z}=this;$=qZ($);let Y=$.length;for(let V=0;V<Y;){let G=Math.min(Z-this.pos,Y-V);if(G===Z){let H=F8($);for(;Z<=Y-V;V+=Z)this.process(H,V);continue}if(X.set($.subarray(V,V+G),this.pos),this.pos+=G,V+=G,this.pos===Z)this.process(Q,0),this.pos=0}return this.length+=$.length,this.roundClean(),this}digestInto($){dZ(this),dV($,this),this.finished=!0;let{buffer:Q,view:X,blockLen:Z,isLE:Y}=this,{pos:V}=this;if(Q[V++]=128,this.buffer.subarray(V).fill(0),this.padOffset>Z-V)this.process(X,0),V=0;for(let T=V;T<Z;T++)Q[T]=0;TT(X,Z-8,BigInt(this.length*8),Y),this.process(X,0);let G=F8($),H=this.outputLen;if(H%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let D=H/4,A=this.get();if(D>A.length)throw new Error("_sha2: outputLen bigger than state");for(let T=0;T<D;T++)G.setUint32(4*T,A[T],Y)}digest(){let{buffer:$,outputLen:Q}=this;this.digestInto($);let X=$.slice(0,Q);return this.destroy(),X}_cloneInto($){$||($=new this.constructor),$.set(...this.get());let{blockLen:Q,buffer:X,length:Z,finished:Y,destroyed:V,pos:G}=this;if($.length=Z,$.pos=G,$.finished=Y,$.destroyed=V,Z%Q)$.buffer.set(X);return $}}});var FT=($,Q,X)=>$&Q^~$&X,RT=($,Q,X)=>$&Q^$&X^Q&X,ET,TY,FY,wz,lZ;var rV=K0(()=>{iV();MZ();ET=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),TY=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),FY=new Uint32Array(64);wz=class wz extends MJ{constructor(){super(64,32,8,!1);this.A=TY[0]|0,this.B=TY[1]|0,this.C=TY[2]|0,this.D=TY[3]|0,this.E=TY[4]|0,this.F=TY[5]|0,this.G=TY[6]|0,this.H=TY[7]|0}get(){let{A:$,B:Q,C:X,D:Z,E:Y,F:V,G,H}=this;return[$,Q,X,Z,Y,V,G,H]}set($,Q,X,Z,Y,V,G,H){this.A=$|0,this.B=Q|0,this.C=X|0,this.D=Z|0,this.E=Y|0,this.F=V|0,this.G=G|0,this.H=H|0}process($,Q){for(let T=0;T<16;T++,Q+=4)FY[T]=$.getUint32(Q,!1);for(let T=16;T<64;T++){let F=FY[T-15],M=FY[T-2],I=nX(F,7)^nX(F,18)^F>>>3,P=nX(M,17)^nX(M,19)^M>>>10;FY[T]=P+FY[T-7]+I+FY[T-16]|0}let{A:X,B:Z,C:Y,D:V,E:G,F:H,G:D,H:A}=this;for(let T=0;T<64;T++){let F=nX(G,6)^nX(G,11)^nX(G,25),M=A+F+FT(G,H,D)+ET[T]+FY[T]|0,P=(nX(X,2)^nX(X,13)^nX(X,22))+RT(X,Z,Y)|0;A=D,D=H,H=G,G=V+M|0,V=Y,Y=Z,Z=X,X=M+P|0}X=X+this.A|0,Z=Z+this.B|0,Y=Y+this.C|0,V=V+this.D|0,G=G+this.E|0,H=H+this.F|0,D=D+this.G|0,A=A+this.H|0,this.set(X,Z,Y,V,G,H,D,A)}roundClean(){FY.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};lZ=CY(()=>new wz)});function _z($,Q=!1){if(Q)return{h:Number($&aV),l:Number($>>hK&aV)};return{h:Number($>>hK&aV)|0,l:Number($&aV)|0}}function bK($,Q=!1){let X=new Uint32Array($.length),Z=new Uint32Array($.length);for(let Y=0;Y<$.length;Y++){let{h:V,l:G}=_z($[Y],Q);[X[Y],Z[Y]]=[V,G]}return[X,Z]}function kT($,Q,X,Z){let Y=(Q>>>0)+(Z>>>0);return{h:$+X+(Y/4294967296|0)|0,l:Y|0}}var aV,hK,IT=($,Q)=>BigInt($>>>0)<<hK|BigInt(Q>>>0),PT=($,Q,X)=>$>>>X,ST=($,Q,X)=>$<<32-X|Q>>>X,BT=($,Q,X)=>$>>>X|Q<<32-X,jT=($,Q,X)=>$<<32-X|Q>>>X,NT=($,Q,X)=>$<<64-X|Q>>>X-32,wT=($,Q,X)=>$>>>X-32|Q<<64-X,_T=($,Q)=>Q,xT=($,Q)=>$,pK=($,Q,X)=>$<<X|Q>>>32-X,cK=($,Q,X)=>Q<<X|$>>>32-X,mK=($,Q,X)=>Q<<X-32|$>>>64-X,uK=($,Q,X)=>$<<X-32|Q>>>64-X,fT=($,Q,X)=>($>>>0)+(Q>>>0)+(X>>>0),vT=($,Q,X,Z)=>Q+X+Z+($/4294967296|0)|0,gT=($,Q,X,Z)=>($>>>0)+(Q>>>0)+(X>>>0)+(Z>>>0),yT=($,Q,X,Z,Y)=>Q+X+Z+Y+($/4294967296|0)|0,hT=($,Q,X,Z,Y)=>($>>>0)+(Q>>>0)+(X>>>0)+(Z>>>0)+(Y>>>0),bT=($,Q,X,Z,Y,V)=>Q+X+Z+Y+V+($/4294967296|0)|0,pT,X$;var dK=K0(()=>{aV=BigInt(4294967295),hK=BigInt(32);pT={fromBig:_z,split:bK,toBig:IT,shrSH:PT,shrSL:ST,rotrSH:BT,rotrSL:jT,rotrBH:NT,rotrBL:wT,rotr32H:_T,rotr32L:xT,rotlSH:pK,rotlSL:cK,rotlBH:mK,rotlBL:uK,add:kT,add3L:fT,add3H:vT,add4L:gT,add4H:yT,add5H:bT,add5L:hT},X$=pT});var cT,mT,RY,EY,xz,tV;var kz=K0(()=>{iV();dK();MZ();[cT,mT]=(()=>X$.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(($)=>BigInt($))))(),RY=new Uint32Array(80),EY=new Uint32Array(80);xz=class xz extends MJ{constructor(){super(128,64,16,!1);this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:$,Al:Q,Bh:X,Bl:Z,Ch:Y,Cl:V,Dh:G,Dl:H,Eh:D,El:A,Fh:T,Fl:F,Gh:M,Gl:I,Hh:P,Hl:S}=this;return[$,Q,X,Z,Y,V,G,H,D,A,T,F,M,I,P,S]}set($,Q,X,Z,Y,V,G,H,D,A,T,F,M,I,P,S){this.Ah=$|0,this.Al=Q|0,this.Bh=X|0,this.Bl=Z|0,this.Ch=Y|0,this.Cl=V|0,this.Dh=G|0,this.Dl=H|0,this.Eh=D|0,this.El=A|0,this.Fh=T|0,this.Fl=F|0,this.Gh=M|0,this.Gl=I|0,this.Hh=P|0,this.Hl=S|0}process($,Q){for(let w=0;w<16;w++,Q+=4)RY[w]=$.getUint32(Q),EY[w]=$.getUint32(Q+=4);for(let w=16;w<80;w++){let k=RY[w-15]|0,f=EY[w-15]|0,v=X$.rotrSH(k,f,1)^X$.rotrSH(k,f,8)^X$.shrSH(k,f,7),c=X$.rotrSL(k,f,1)^X$.rotrSL(k,f,8)^X$.shrSL(k,f,7),u=RY[w-2]|0,Z0=EY[w-2]|0,e=X$.rotrSH(u,Z0,19)^X$.rotrBH(u,Z0,61)^X$.shrSH(u,Z0,6),p=X$.rotrSL(u,Z0,19)^X$.rotrBL(u,Z0,61)^X$.shrSL(u,Z0,6),s=X$.add4L(c,p,EY[w-7],EY[w-16]),E=X$.add4H(s,v,e,RY[w-7],RY[w-16]);RY[w]=E|0,EY[w]=s|0}let{Ah:X,Al:Z,Bh:Y,Bl:V,Ch:G,Cl:H,Dh:D,Dl:A,Eh:T,El:F,Fh:M,Fl:I,Gh:P,Gl:S,Hh:j,Hl:N}=this;for(let w=0;w<80;w++){let k=X$.rotrSH(T,F,14)^X$.rotrSH(T,F,18)^X$.rotrBH(T,F,41),f=X$.rotrSL(T,F,14)^X$.rotrSL(T,F,18)^X$.rotrBL(T,F,41),v=T&M^~T&P,c=F&I^~F&S,u=X$.add5L(N,f,c,mT[w],EY[w]),Z0=X$.add5H(u,j,k,v,cT[w],RY[w]),e=u|0,p=X$.rotrSH(X,Z,28)^X$.rotrBH(X,Z,34)^X$.rotrBH(X,Z,39),s=X$.rotrSL(X,Z,28)^X$.rotrBL(X,Z,34)^X$.rotrBL(X,Z,39),E=X&Y^X&G^Y&G,J=Z&V^Z&H^V&H;j=P|0,N=S|0,P=M|0,S=I|0,M=T|0,I=F|0,{h:T,l:F}=X$.add(D|0,A|0,Z0|0,e|0),D=G|0,A=H|0,G=Y|0,H=V|0,Y=X|0,V=Z|0;let K=X$.add3L(e,s,J);X=X$.add3H(K,Z0,p,E),Z=K|0}({h:X,l:Z}=X$.add(this.Ah|0,this.Al|0,X|0,Z|0)),{h:Y,l:V}=X$.add(this.Bh|0,this.Bl|0,Y|0,V|0),{h:G,l:H}=X$.add(this.Ch|0,this.Cl|0,G|0,H|0),{h:D,l:A}=X$.add(this.Dh|0,this.Dl|0,D|0,A|0),{h:T,l:F}=X$.add(this.Eh|0,this.El|0,T|0,F|0),{h:M,l:I}=X$.add(this.Fh|0,this.Fl|0,M|0,I|0),{h:P,l:S}=X$.add(this.Gh|0,this.Gl|0,P|0,S|0),{h:j,l:N}=X$.add(this.Hh|0,this.Hl|0,j|0,N|0),this.set(X,Z,Y,V,G,H,D,A,T,F,M,I,P,S,j,N)}roundClean(){RY.fill(0),EY.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};tV=CY(()=>new xz)});function uT(){if(typeof self!=="undefined")return self;if(typeof window!=="undefined")return window;if(typeof global!=="undefined")return global;throw new Error("unable to locate global object")}function lK($){switch($){case"sha256":return lZ.create();case"sha512":return tV.create()}h(!1,"invalid hashing algorithm name","algorithm",$)}function gz($,Q){let X={sha256:lZ,sha512:tV}[$];return h(X!=null,"invalid hmac algorithm","algorithm",$),qJ.create(X,Q)}function yz($,Q,X,Z,Y){let V={sha256:lZ,sha512:tV}[Y];return h(V!=null,"invalid pbkdf2 algorithm","algorithm",Y),$W(V,$,Q,{c:X,dkLen:Z})}function hz($){J0(vz!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),h(Number.isInteger($)&&$>0&&$<=1024,"invalid length","length",$);let Q=new Uint8Array($);return vz.getRandomValues(Q),Q}var fz,vz;var QW=K0(()=>{sV();yK();rV();kz();d0();fz=uT(),vz=fz.crypto||fz.msCrypto});function sX($,Q,X){let Z=M0(Q,"key"),Y=M0(X,"data");return O0(cz($,Z,Y))}var bz=!1,pz=function($,Q,X){return gz($,Q).update(X).digest()},cz;var mz=K0(()=>{QW();d0();cz=pz;sX._=pz;sX.lock=function(){bz=!0};sX.register=function($){if(bz)throw new Error("computeHmac is locked");cz=$};Object.freeze(sX)});function aT($,Q=24){let X=new Uint32Array(10);for(let Z=24-Q;Z<24;Z++){for(let G=0;G<10;G++)X[G]=$[G]^$[G+10]^$[G+20]^$[G+30]^$[G+40];for(let G=0;G<10;G+=2){let H=(G+8)%10,D=(G+2)%10,A=X[D],T=X[D+1],F=uz(A,T,1)^X[H],M=dz(A,T,1)^X[H+1];for(let I=0;I<50;I+=10)$[G+I]^=F,$[G+I+1]^=M}let Y=$[2],V=$[3];for(let G=0;G<24;G++){let H=oz[G],D=uz(Y,V,H),A=dz(Y,V,H),T=lz[G];Y=$[T],V=$[T+1],$[T]=D,$[T+1]=A}for(let G=0;G<50;G+=10){for(let H=0;H<10;H++)X[H]=$[G+H];for(let H=0;H<10;H++)$[G+H]^=~X[(H+2)%10]&X[(H+4)%10]}$[0]^=iT[Z],$[1]^=rT[Z]}X.fill(0)}var lz,oz,nz,dT,XW,lT,oT,nT,sT,iT,rT,uz=($,Q,X)=>X>32?mK($,Q,X):pK($,Q,X),dz=($,Q,X)=>X>32?uK($,Q,X):cK($,Q,X),oK,tT=($,Q,X)=>CY(()=>new oK(Q,$,X)),sz;var iz=K0(()=>{C8();dK();MZ();[lz,oz,nz]=[[],[],[]],dT=BigInt(0),XW=BigInt(1),lT=BigInt(2),oT=BigInt(7),nT=BigInt(256),sT=BigInt(113);for(let $=0,Q=XW,X=1,Z=0;$<24;$++){[X,Z]=[Z,(2*X+3*Z)%5],lz.push(2*(5*Z+X)),oz.push(($+1)*($+2)/2%64);let Y=dT;for(let V=0;V<7;V++)if(Q=(Q<<XW^(Q>>oT)*sT)%nT,Q&lT)Y^=XW<<(XW<<BigInt(V))-XW;nz.push(Y)}[iT,rT]=bK(nz,!0);oK=class oK extends DJ{constructor($,Q,X,Z=!1,Y=24){super();if(this.blockLen=$,this.suffix=Q,this.outputLen=X,this.enableXOF=Z,this.rounds=Y,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,vQ(X),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=T8(this.state)}keccak(){aT(this.state32,this.rounds),this.posOut=0,this.pos=0}update($){dZ(this);let{blockLen:Q,state:X}=this;$=qZ($);let Z=$.length;for(let Y=0;Y<Z;){let V=Math.min(Q-this.pos,Z-Y);for(let G=0;G<V;G++)X[this.pos++]^=$[Y++];if(this.pos===Q)this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:$,suffix:Q,pos:X,blockLen:Z}=this;if($[X]^=Q,(Q&128)!==0&&X===Z-1)this.keccak();$[Z-1]^=128,this.keccak()}writeInto($){dZ(this,!1),eG($),this.finish();let Q=this.state,{blockLen:X}=this;for(let Z=0,Y=$.length;Z<Y;){if(this.posOut>=X)this.keccak();let V=Math.min(X-this.posOut,Y-Z);$.set(Q.subarray(this.posOut,this.posOut+V),Z),this.posOut+=V,Z+=V}return $}xofInto($){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto($)}xof($){return vQ($),this.xofInto(new Uint8Array($))}digestInto($){if(dV($,this),this.finished)throw new Error("digest() was already called");return this.writeInto($),this.destroy(),$}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto($){let{blockLen:Q,suffix:X,outputLen:Z,rounds:Y,enableXOF:V}=this;return $||($=new oK(Q,X,Z,V,Y)),$.state32.set(this.state32),$.pos=this.pos,$.posOut=this.posOut,$.finished=this.finished,$.rounds=Y,$.suffix=X,$.outputLen=Z,$.enableXOF=V,$.destroyed=this.destroyed,$}};sz=tT(1,136,32)});function e0($){let Q=M0($,"data");return O0(tz(Q))}var rz=!1,az=function($){return sz($)},tz;var ez=K0(()=>{iz();d0();tz=az;e0._=az;e0.lock=function(){rz=!0};e0.register=function($){if(rz)throw new TypeError("keccak256 is locked");tz=$};Object.freeze(e0)});function $7($,Q,X,Z){if($===0)return Q^X^Z;else if($===1)return Q&X|~Q&Z;else if($===2)return(Q|~X)^Z;else if($===3)return Q&Z|X&~Z;else return Q^(X|~Z)}var eT,Q7,$F,nK,sK,X7,QF,XF,ZF,YF,eV=($,Q)=>$<<Q|$>>>32-Q,$1,Z7,Y7;var J7=K0(()=>{iV();MZ();eT=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Q7=Uint8Array.from({length:16},($,Q)=>Q),$F=Q7.map(($)=>(9*$+5)%16),nK=[Q7],sK=[$F];for(let $=0;$<4;$++)for(let Q of[nK,sK])Q.push(Q[$].map((X)=>eT[X]));X7=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(($)=>new Uint8Array($)),QF=nK.map(($,Q)=>$.map((X)=>X7[Q][X])),XF=sK.map(($,Q)=>$.map((X)=>X7[Q][X])),ZF=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),YF=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);$1=new Uint32Array(16);Z7=class Z7 extends MJ{constructor(){super(64,20,8,!0);this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:$,h1:Q,h2:X,h3:Z,h4:Y}=this;return[$,Q,X,Z,Y]}set($,Q,X,Z,Y){this.h0=$|0,this.h1=Q|0,this.h2=X|0,this.h3=Z|0,this.h4=Y|0}process($,Q){for(let M=0;M<16;M++,Q+=4)$1[M]=$.getUint32(Q,!0);let X=this.h0|0,Z=X,Y=this.h1|0,V=Y,G=this.h2|0,H=G,D=this.h3|0,A=D,T=this.h4|0,F=T;for(let M=0;M<5;M++){let I=4-M,P=ZF[M],S=YF[M],j=nK[M],N=sK[M],w=QF[M],k=XF[M];for(let f=0;f<16;f++){let v=eV(X+$7(M,Y,G,D)+$1[j[f]]+P,w[f])+T|0;X=T,T=D,D=eV(G,10)|0,G=Y,Y=v}for(let f=0;f<16;f++){let v=eV(Z+$7(I,V,H,A)+$1[N[f]]+S,k[f])+F|0;Z=F,F=A,A=eV(H,10)|0,H=V,V=v}}this.set(this.h1+G+A|0,this.h2+D+F|0,this.h3+T+Z|0,this.h4+X+V|0,this.h0+Y+H|0)}roundClean(){$1.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}};Y7=CY(()=>new Z7)});function iX($){let Q=M0($,"data");return O0(V7(Q))}var G7=!1,W7=function($){return Y7($)},V7;var U7=K0(()=>{J7();d0();V7=W7;iX._=W7;iX.lock=function(){G7=!0};iX.register=function($){if(G7)throw new TypeError("ripemd160 is locked");V7=$};Object.freeze(iX)});function cQ($,Q,X,Z,Y){let V=M0($,"password"),G=M0(Q,"salt");return O0(z7(V,G,X,Z,Y))}var K7=!1,O7=function($,Q,X,Z,Y){return yz($,Q,X,Z,Y)},z7;var H7=K0(()=>{QW();d0();z7=O7;cQ._=O7;cQ.lock=function(){K7=!0};cQ.register=function($){if(K7)throw new Error("pbkdf2 is locked");z7=$};Object.freeze(cQ)});function gQ($){return q7($)}var L7=!1,D7=function($){return new Uint8Array(hz($))},q7;var M7=K0(()=>{QW();q7=D7;gQ._=D7;gQ.lock=function(){L7=!0};gQ.register=function($){if(L7)throw new Error("randomBytes is locked");q7=$};Object.freeze(gQ)});function A7($,Q,X,Z,Y,V){let G=$[Q++]^X[Z++],H=$[Q++]^X[Z++],D=$[Q++]^X[Z++],A=$[Q++]^X[Z++],T=$[Q++]^X[Z++],F=$[Q++]^X[Z++],M=$[Q++]^X[Z++],I=$[Q++]^X[Z++],P=$[Q++]^X[Z++],S=$[Q++]^X[Z++],j=$[Q++]^X[Z++],N=$[Q++]^X[Z++],w=$[Q++]^X[Z++],k=$[Q++]^X[Z++],f=$[Q++]^X[Z++],v=$[Q++]^X[Z++],c=G,u=H,Z0=D,e=A,p=T,s=F,E=M,J=I,K=P,O=S,U=j,z=N,C=w,R=k,L=f,W=v;for(let q=0;q<8;q+=2)p^=M$(c+C|0,7),K^=M$(p+c|0,9),C^=M$(K+p|0,13),c^=M$(C+K|0,18),O^=M$(s+u|0,7),R^=M$(O+s|0,9),u^=M$(R+O|0,13),s^=M$(u+R|0,18),L^=M$(U+E|0,7),Z0^=M$(L+U|0,9),E^=M$(Z0+L|0,13),U^=M$(E+Z0|0,18),e^=M$(W+z|0,7),J^=M$(e+W|0,9),z^=M$(J+e|0,13),W^=M$(z+J|0,18),u^=M$(c+e|0,7),Z0^=M$(u+c|0,9),e^=M$(Z0+u|0,13),c^=M$(e+Z0|0,18),E^=M$(s+p|0,7),J^=M$(E+s|0,9),p^=M$(J+E|0,13),s^=M$(p+J|0,18),z^=M$(U+O|0,7),K^=M$(z+U|0,9),O^=M$(K+z|0,13),U^=M$(O+K|0,18),C^=M$(W+L|0,7),R^=M$(C+W|0,9),L^=M$(R+C|0,13),W^=M$(L+R|0,18);Y[V++]=G+c|0,Y[V++]=H+u|0,Y[V++]=D+Z0|0,Y[V++]=A+e|0,Y[V++]=T+p|0,Y[V++]=F+s|0,Y[V++]=M+E|0,Y[V++]=I+J|0,Y[V++]=P+K|0,Y[V++]=S+O|0,Y[V++]=j+U|0,Y[V++]=N+z|0,Y[V++]=w+C|0,Y[V++]=k+R|0,Y[V++]=f+L|0,Y[V++]=v+W|0}function R8($,Q,X,Z,Y){let V=Z+0,G=Z+16*Y;for(let H=0;H<16;H++)X[G+H]=$[Q+(2*Y-1)*16+H];for(let H=0;H<Y;H++,V+=16,Q+=16){if(A7(X,G,$,Q,X,V),H>0)G+=16;A7(X,V,$,Q+=16,X,G)}}function C7($,Q,X){let Z=nV({dkLen:32,asyncTick:10,maxmem:1073742848},X),{N:Y,r:V,p:G,dkLen:H,asyncTick:D,maxmem:A,onProgress:T}=Z;if(vQ(Y),vQ(V),vQ(G),vQ(H),vQ(D),vQ(A),T!==void 0&&typeof T!=="function")throw new Error("progressCb should be function");let F=128*V,M=F/4;if(Y<=1||(Y&Y-1)!==0||Y>=2**(F/8)||Y>4294967296)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(G<0||G>137438953440/F)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(H<0||H>137438953440)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let I=F*(Y+G);if(I>A)throw new Error(`Scrypt: parameters too large, ${I} (128 * r * (N + p)) > ${A} (maxmem)`);let P=$W(lZ,$,Q,{c:1,dkLen:F*G}),S=T8(P),j=T8(new Uint8Array(F*Y)),N=T8(new Uint8Array(F)),w=()=>{};if(T){let k=2*Y*G,f=Math.max(Math.floor(k/1e4),1),v=0;w=()=>{if(v++,T&&(!(v%f)||v===k))T(v/k)}}return{N:Y,r:V,p:G,dkLen:H,blockSize32:M,V:j,B32:S,B:P,tmp:N,blockMixCb:w,asyncTick:D}}function T7($,Q,X,Z,Y){let V=$W(lZ,$,X,{c:1,dkLen:Q});return X.fill(0),Z.fill(0),Y.fill(0),V}function F7($,Q,X){let{N:Z,r:Y,p:V,dkLen:G,blockSize32:H,V:D,B32:A,B:T,tmp:F,blockMixCb:M}=C7($,Q,X);for(let I=0;I<V;I++){let P=H*I;for(let S=0;S<H;S++)D[S]=A[P+S];for(let S=0,j=0;S<Z-1;S++)R8(D,j,D,j+=H,Y),M();R8(D,(Z-1)*H,A,P,Y),M();for(let S=0;S<Z;S++){let j=A[P+H-16]%Z;for(let N=0;N<H;N++)F[N]=A[P+N]^D[j*H+N];R8(F,0,A,P,Y),M()}}return T7($,G,T,D,F)}async function R7($,Q,X){let{N:Z,r:Y,p:V,dkLen:G,blockSize32:H,V:D,B32:A,B:T,tmp:F,blockMixCb:M,asyncTick:I}=C7($,Q,X);for(let P=0;P<V;P++){let S=H*P;for(let N=0;N<H;N++)D[N]=A[S+N];let j=0;await oV(Z-1,I,()=>{R8(D,j,D,j+=H,Y),M()}),R8(D,(Z-1)*H,A,S,Y),M(),await oV(Z,I,()=>{let N=A[S+H-16]%Z;for(let w=0;w<H;w++)F[w]=A[S+w]^D[N*H+w];R8(F,0,A,S,Y),M()})}return T7($,G,T,D,F)}var M$=($,Q)=>$<<Q|$>>>32-Q;var E7=K0(()=>{C8();rV();yK();MZ()});async function rX($,Q,X,Z,Y,V,G){let H=M0($,"passwd"),D=M0(Q,"salt");return O0(await j7(H,D,X,Z,Y,V,G))}function aX($,Q,X,Z,Y,V){let G=M0($,"passwd"),H=M0(Q,"salt");return O0(N7(G,H,X,Z,Y,V))}var I7=!1,P7=!1,S7=async function($,Q,X,Z,Y,V,G){return await R7($,Q,{N:X,r:Z,p:Y,dkLen:V,onProgress:G})},B7=function($,Q,X,Z,Y,V){return F7($,Q,{N:X,r:Z,p:Y,dkLen:V})},j7,N7;var w7=K0(()=>{E7();d0();j7=S7,N7=B7;rX._=S7;rX.lock=function(){P7=!0};rX.register=function($){if(P7)throw new Error("scrypt is locked");j7=$};Object.freeze(rX);aX._=B7;aX.lock=function(){I7=!0};aX.register=function($){if(I7)throw new Error("scryptSync is locked");N7=$};Object.freeze(aX)});function m$($){let Q=M0($,"data");return O0(k7(Q))}function AJ($){let Q=M0($,"data");return O0(f7(Q))}var _7=function($){return lK("sha256").update($).digest()},x7=function($){return lK("sha512").update($).digest()},k7,f7,v7=!1,g7=!1;var y7=K0(()=>{QW();d0();k7=_7,f7=x7;m$._=_7;m$.lock=function(){v7=!0};m$.register=function($){if(v7)throw new Error("sha256 is locked");k7=$};Object.freeze(m$);AJ._=x7;AJ.lock=function(){g7=!0};AJ.register=function($){if(g7)throw new Error("sha512 is locked");f7=$};Object.freeze(m$)});var tK={};_Z(tK,{validateObject:()=>PY,utf8ToBytes:()=>UF,numberToVarBytesBE:()=>WF,numberToHexUnpadded:()=>p7,numberToBytesLE:()=>Y1,numberToBytesBE:()=>IY,hexToNumber:()=>rK,hexToBytes:()=>TJ,equalBytes:()=>VF,ensureBytes:()=>OX,createHmacDrbg:()=>aK,concatBytes:()=>E8,bytesToNumberLE:()=>Z1,bytesToNumberBE:()=>oZ,bytesToHex:()=>CJ,bitSet:()=>zF,bitMask:()=>ZW,bitLen:()=>KF,bitGet:()=>OF});function CJ($){if(!X1($))throw new Error("Uint8Array expected");let Q="";for(let X=0;X<$.length;X++)Q+=GF[$[X]];return Q}function p7($){let Q=$.toString(16);return Q.length&1?`0${Q}`:Q}function rK($){if(typeof $!=="string")throw new Error("hex string expected, got "+typeof $);return BigInt($===""?"0":`0x${$}`)}function TJ($){if(typeof $!=="string")throw new Error("hex string expected, got "+typeof $);let Q=$.length;if(Q%2)throw new Error("padded hex string expected, got unpadded hex of length "+Q);let X=new Uint8Array(Q/2);for(let Z=0;Z<X.length;Z++){let Y=Z*2,V=$.slice(Y,Y+2),G=Number.parseInt(V,16);if(Number.isNaN(G)||G<0)throw new Error("Invalid byte sequence");X[Z]=G}return X}function oZ($){return rK(CJ($))}function Z1($){if(!X1($))throw new Error("Uint8Array expected");return rK(CJ(Uint8Array.from($).reverse()))}function IY($,Q){return TJ($.toString(16).padStart(Q*2,"0"))}function Y1($,Q){return IY($,Q).reverse()}function WF($){return TJ(p7($))}function OX($,Q,X){let Z;if(typeof Q==="string")try{Z=TJ(Q)}catch(V){throw new Error(`${$} must be valid hex string, got "${Q}". Cause: ${V}`)}else if(X1(Q))Z=Uint8Array.from(Q);else throw new Error(`${$} must be hex string or Uint8Array`);let Y=Z.length;if(typeof X==="number"&&Y!==X)throw new Error(`${$} expected ${X} bytes, got ${Y}`);return Z}function E8(...$){let Q=new Uint8Array($.reduce((Z,Y)=>Z+Y.length,0)),X=0;return $.forEach((Z)=>{if(!X1(Z))throw new Error("Uint8Array expected");Q.set(Z,X),X+=Z.length}),Q}function VF($,Q){if($.length!==Q.length)return!1;for(let X=0;X<$.length;X++)if($[X]!==Q[X])return!1;return!0}function UF($){if(typeof $!=="string")throw new Error(`utf8ToBytes expected string, got ${typeof $}`);return new Uint8Array(new TextEncoder().encode($))}function KF($){let Q;for(Q=0;$>b7;$>>=Q1,Q+=1);return Q}function OF($,Q){return $>>BigInt(Q)&Q1}function aK($,Q,X){if(typeof $!=="number"||$<2)throw new Error("hashLen must be a number");if(typeof Q!=="number"||Q<2)throw new Error("qByteLen must be a number");if(typeof X!=="function")throw new Error("hmacFn must be a function");let Z=iK($),Y=iK($),V=0,G=()=>{Z.fill(1),Y.fill(0),V=0},H=(...F)=>X(Y,Z,...F),D=(F=iK())=>{if(Y=H(h7([0]),F),Z=H(),F.length===0)return;Y=H(h7([1]),F),Z=H()},A=()=>{if(V++>=1000)throw new Error("drbg: tried 1000 values");let F=0,M=[];while(F<Q){Z=H();let I=Z.slice();M.push(I),F+=Z.length}return E8(...M)};return(F,M)=>{G(),D(F);let I=void 0;while(!(I=M(A())))D();return G(),I}}function PY($,Q,X={}){let Z=(Y,V,G)=>{let H=HF[V];if(typeof H!=="function")throw new Error(`Invalid validator "${V}", expected function`);let D=$[Y];if(G&&D===void 0)return;if(!H(D,$))throw new Error(`Invalid param ${String(Y)}=${D} (${typeof D}), expected ${V}`)};for(let[Y,V]of Object.entries(Q))Z(Y,V,!1);for(let[Y,V]of Object.entries(X))Z(Y,V,!0);return $}var b7,Q1,JF,X1=($)=>$ instanceof Uint8Array,GF,zF=($,Q,X)=>{return $|(X?Q1:b7)<<BigInt(Q)},ZW=($)=>(JF<<BigInt($-1))-Q1,iK=($)=>new Uint8Array($),h7=($)=>Uint8Array.from($),HF;var YW=K0(()=>{/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */b7=BigInt(0),Q1=BigInt(1),JF=BigInt(2),GF=Array.from({length:256},($,Q)=>Q.toString(16).padStart(2,"0"));HF={bigint:($)=>typeof $==="bigint",function:($)=>typeof $==="function",boolean:($)=>typeof $==="boolean",string:($)=>typeof $==="string",stringOrUint8Array:($)=>typeof $==="string"||$ instanceof Uint8Array,isSafeInteger:($)=>Number.isSafeInteger($),array:($)=>Array.isArray($),field:($,Q)=>Q.Fp.isValid($),hash:($)=>typeof $==="function"&&Number.isSafeInteger($.outputLen)}});function yQ($,Q){let X=$%Q;return X>=HQ?X:Q+X}function MF($,Q,X){if(X<=HQ||Q<HQ)throw new Error("Expected power/modulo > 0");if(X===h$)return HQ;let Z=h$;while(Q>HQ){if(Q&h$)Z=Z*$%X;$=$*$%X,Q>>=h$}return Z}function zX($,Q,X){let Z=$;while(Q-- >HQ)Z*=Z,Z%=X;return Z}function J1($,Q){if($===HQ||Q<=HQ)throw new Error(`invert: expected positive integers, got n=${$} mod=${Q}`);let X=yQ($,Q),Z=Q,Y=HQ,V=h$,G=h$,H=HQ;while(X!==HQ){let A=Z/X,T=Z%X,F=Y-G*A,M=V-H*A;Z=X,X=T,Y=G,V=H,G=F,H=M}if(Z!==h$)throw new Error("invert: does not exist");return yQ(Y,Q)}function AF($){let Q=($-h$)/FJ,X,Z,Y;for(X=$-h$,Z=0;X%FJ===HQ;X/=FJ,Z++);for(Y=FJ;Y<$&&MF(Y,Q,$)!==$-h$;Y++);if(Z===1){let G=($+h$)/eK;return function H(D,A){let T=D.pow(A,G);if(!D.eql(D.sqr(T),A))throw new Error("Cannot find square root");return T}}let V=(X+h$)/FJ;return function G(H,D){if(H.pow(D,Q)===H.neg(H.ONE))throw new Error("Cannot find square root");let A=Z,T=H.pow(H.mul(H.ONE,Y),X),F=H.pow(D,V),M=H.pow(D,X);while(!H.eql(M,H.ONE)){if(H.eql(M,H.ZERO))return H.ZERO;let I=1;for(let S=H.sqr(M);I<A;I++){if(H.eql(S,H.ONE))break;S=H.sqr(S)}let P=H.pow(T,h$<<BigInt(A-I-1));T=H.sqr(P),F=H.mul(F,P),M=H.mul(M,T),A=I}return F}}function CF($){if($%eK===LF){let Q=($+h$)/eK;return function X(Z,Y){let V=Z.pow(Y,Q);if(!Z.eql(Z.sqr(V),Y))throw new Error("Cannot find square root");return V}}if($%m7===c7){let Q=($-c7)/m7;return function X(Z,Y){let V=Z.mul(Y,FJ),G=Z.pow(V,Q),H=Z.mul(Y,G),D=Z.mul(Z.mul(H,FJ),G),A=Z.mul(H,Z.sub(D,Z.ONE));if(!Z.eql(Z.sqr(A),Y))throw new Error("Cannot find square root");return A}}if($%qF===DF);return AF($)}function $6($){let Q={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},X=TF.reduce((Z,Y)=>{return Z[Y]="function",Z},Q);return PY($,X)}function FF($,Q,X){if(X<HQ)throw new Error("Expected power > 0");if(X===HQ)return $.ONE;if(X===h$)return Q;let Z=$.ONE,Y=Q;while(X>HQ){if(X&h$)Z=$.mul(Z,Y);Y=$.sqr(Y),X>>=h$}return Z}function RF($,Q){let X=new Array(Q.length),Z=Q.reduce((V,G,H)=>{if($.is0(G))return V;return X[H]=V,$.mul(V,G)},$.ONE),Y=$.inv(Z);return Q.reduceRight((V,G,H)=>{if($.is0(G))return V;return X[H]=$.mul(V,X[H]),$.mul(V,G)},Y),X}function Q6($,Q){let X=Q!==void 0?Q:$.toString(2).length,Z=Math.ceil(X/8);return{nBitLength:X,nByteLength:Z}}function u7($,Q,X=!1,Z={}){if($<=HQ)throw new Error(`Expected Field ORDER > 0, got ${$}`);let{nBitLength:Y,nByteLength:V}=Q6($,Q);if(V>2048)throw new Error("Field lengths over 2048 bytes are not supported");let G=CF($),H=Object.freeze({ORDER:$,BITS:Y,BYTES:V,MASK:ZW(Y),ZERO:HQ,ONE:h$,create:(D)=>yQ(D,$),isValid:(D)=>{if(typeof D!=="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof D}`);return HQ<=D&&D<$},is0:(D)=>D===HQ,isOdd:(D)=>(D&h$)===h$,neg:(D)=>yQ(-D,$),eql:(D,A)=>D===A,sqr:(D)=>yQ(D*D,$),add:(D,A)=>yQ(D+A,$),sub:(D,A)=>yQ(D-A,$),mul:(D,A)=>yQ(D*A,$),pow:(D,A)=>FF(H,D,A),div:(D,A)=>yQ(D*J1(A,$),$),sqrN:(D)=>D*D,addN:(D,A)=>D+A,subN:(D,A)=>D-A,mulN:(D,A)=>D*A,inv:(D)=>J1(D,$),sqrt:Z.sqrt||((D)=>G(H,D)),invertBatch:(D)=>RF(H,D),cmov:(D,A,T)=>T?A:D,toBytes:(D)=>X?Y1(D,V):IY(D,V),fromBytes:(D)=>{if(D.length!==V)throw new Error(`Fp.fromBytes: expected ${V}, got ${D.length}`);return X?Z1(D):oZ(D)}});return Object.freeze(H)}function d7($){if(typeof $!=="bigint")throw new Error("field order must be bigint");let Q=$.toString(2).length;return Math.ceil(Q/8)}function X6($){let Q=d7($);return Q+Math.ceil(Q/2)}function l7($,Q,X=!1){let Z=$.length,Y=d7(Q),V=X6(Q);if(Z<16||Z<V||Z>1024)throw new Error(`expected ${V}-1024 bytes of input, got ${Z}`);let G=X?oZ($):Z1($),H=yQ(G,Q-h$)+h$;return X?Y1(H,Y):IY(H,Y)}var HQ,h$,FJ,LF,eK,c7,m7,DF,qF,TF;var G1=K0(()=>{YW();/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */HQ=BigInt(0),h$=BigInt(1),FJ=BigInt(2),LF=BigInt(3),eK=BigInt(4),c7=BigInt(5),m7=BigInt(8),DF=BigInt(9),qF=BigInt(16);TF=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"]});function o7($,Q){let X=(Y,V)=>{let G=V.negate();return Y?G:V},Z=(Y)=>{let V=Math.ceil(Q/Y)+1,G=2**(Y-1);return{windows:V,windowSize:G}};return{constTimeNegate:X,unsafeLadder(Y,V){let G=$.ZERO,H=Y;while(V>IF){if(V&Z6)G=G.add(H);H=H.double(),V>>=Z6}return G},precomputeWindow(Y,V){let{windows:G,windowSize:H}=Z(V),D=[],A=Y,T=A;for(let F=0;F<G;F++){T=A,D.push(T);for(let M=1;M<H;M++)T=T.add(A),D.push(T);A=T.double()}return D},wNAF(Y,V,G){let{windows:H,windowSize:D}=Z(Y),A=$.ZERO,T=$.BASE,F=BigInt(2**Y-1),M=2**Y,I=BigInt(Y);for(let P=0;P<H;P++){let S=P*D,j=Number(G&F);if(G>>=I,j>D)j-=M,G+=Z6;let N=S,w=S+Math.abs(j)-1,k=P%2!==0,f=j<0;if(j===0)T=T.add(X(k,V[N]));else A=A.add(X(f,V[w]))}return{p:A,f:T}},wNAFCached(Y,V,G,H){let D=Y._WINDOW_SIZE||1,A=V.get(Y);if(!A){if(A=this.precomputeWindow(Y,D),D!==1)V.set(Y,H(A))}return this.wNAF(D,A,G)}}}function Y6($){return $6($.Fp),PY($,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Q6($.n,$.nBitLength),...$,...{p:$.Fp.ORDER}})}var IF,Z6;var n7=K0(()=>{G1();YW();/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */IF=BigInt(0),Z6=BigInt(1)});function PF($){let Q=Y6($);PY(Q,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:X,Fp:Z,a:Y}=Q;if(X){if(!Z.eql(Y,Z.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof X!=="object"||typeof X.beta!=="bigint"||typeof X.splitScalar!=="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...Q})}function jF($){let Q=PF($),{Fp:X}=Q,Z=Q.toBytes||((P,S,j)=>{let N=S.toAffine();return E8(Uint8Array.from([4]),X.toBytes(N.x),X.toBytes(N.y))}),Y=Q.fromBytes||((P)=>{let S=P.subarray(1),j=X.fromBytes(S.subarray(0,X.BYTES)),N=X.fromBytes(S.subarray(X.BYTES,2*X.BYTES));return{x:j,y:N}});function V(P){let{a:S,b:j}=Q,N=X.sqr(P),w=X.mul(N,P);return X.add(X.add(w,X.mul(P,S)),j)}if(!X.eql(X.sqr(Q.Gy),V(Q.Gx)))throw new Error("bad generator point: equation left != right");function G(P){return typeof P==="bigint"&&nZ<P&&P<Q.n}function H(P){if(!G(P))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function D(P){let{allowedPrivateKeyLengths:S,nByteLength:j,wrapPrivateKey:N,n:w}=Q;if(S&&typeof P!=="bigint"){if(P instanceof Uint8Array)P=CJ(P);if(typeof P!=="string"||!S.includes(P.length))throw new Error("Invalid key");P=P.padStart(j*2,"0")}let k;try{k=typeof P==="bigint"?P:oZ(OX("private key",P,j))}catch(f){throw new Error(`private key must be ${j} bytes, hex or bigint, not ${typeof P}`)}if(N)k=yQ(k,w);return H(k),k}let A=new Map;function T(P){if(!(P instanceof F))throw new Error("ProjectivePoint expected")}class F{constructor(P,S,j){if(this.px=P,this.py=S,this.pz=j,P==null||!X.isValid(P))throw new Error("x required");if(S==null||!X.isValid(S))throw new Error("y required");if(j==null||!X.isValid(j))throw new Error("z required")}static fromAffine(P){let{x:S,y:j}=P||{};if(!P||!X.isValid(S)||!X.isValid(j))throw new Error("invalid affine point");if(P instanceof F)throw new Error("projective point not allowed");let N=(w)=>X.eql(w,X.ZERO);if(N(S)&&N(j))return F.ZERO;return new F(S,j,X.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(P){let S=X.invertBatch(P.map((j)=>j.pz));return P.map((j,N)=>j.toAffine(S[N])).map(F.fromAffine)}static fromHex(P){let S=F.fromAffine(Y(OX("pointHex",P)));return S.assertValidity(),S}static fromPrivateKey(P){return F.BASE.multiply(D(P))}_setWindowSize(P){this._WINDOW_SIZE=P,A.delete(this)}assertValidity(){if(this.is0()){if(Q.allowInfinityPoint&&!X.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:P,y:S}=this.toAffine();if(!X.isValid(P)||!X.isValid(S))throw new Error("bad point: x or y not FE");let j=X.sqr(S),N=V(P);if(!X.eql(j,N))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:P}=this.toAffine();if(X.isOdd)return!X.isOdd(P);throw new Error("Field doesn't support isOdd")}equals(P){T(P);let{px:S,py:j,pz:N}=this,{px:w,py:k,pz:f}=P,v=X.eql(X.mul(S,f),X.mul(w,N)),c=X.eql(X.mul(j,f),X.mul(k,N));return v&&c}negate(){return new F(this.px,X.neg(this.py),this.pz)}double(){let{a:P,b:S}=Q,j=X.mul(S,s7),{px:N,py:w,pz:k}=this,f=X.ZERO,v=X.ZERO,c=X.ZERO,u=X.mul(N,N),Z0=X.mul(w,w),e=X.mul(k,k),p=X.mul(N,w);return p=X.add(p,p),c=X.mul(N,k),c=X.add(c,c),f=X.mul(P,c),v=X.mul(j,e),v=X.add(f,v),f=X.sub(Z0,v),v=X.add(Z0,v),v=X.mul(f,v),f=X.mul(p,f),c=X.mul(j,c),e=X.mul(P,e),p=X.sub(u,e),p=X.mul(P,p),p=X.add(p,c),c=X.add(u,u),u=X.add(c,u),u=X.add(u,e),u=X.mul(u,p),v=X.add(v,u),e=X.mul(w,k),e=X.add(e,e),u=X.mul(e,p),f=X.sub(f,u),c=X.mul(e,Z0),c=X.add(c,c),c=X.add(c,c),new F(f,v,c)}add(P){T(P);let{px:S,py:j,pz:N}=this,{px:w,py:k,pz:f}=P,v=X.ZERO,c=X.ZERO,u=X.ZERO,Z0=Q.a,e=X.mul(Q.b,s7),p=X.mul(S,w),s=X.mul(j,k),E=X.mul(N,f),J=X.add(S,j),K=X.add(w,k);J=X.mul(J,K),K=X.add(p,s),J=X.sub(J,K),K=X.add(S,N);let O=X.add(w,f);return K=X.mul(K,O),O=X.add(p,E),K=X.sub(K,O),O=X.add(j,N),v=X.add(k,f),O=X.mul(O,v),v=X.add(s,E),O=X.sub(O,v),u=X.mul(Z0,K),v=X.mul(e,E),u=X.add(v,u),v=X.sub(s,u),u=X.add(s,u),c=X.mul(v,u),s=X.add(p,p),s=X.add(s,p),E=X.mul(Z0,E),K=X.mul(e,K),s=X.add(s,E),E=X.sub(p,E),E=X.mul(Z0,E),K=X.add(K,E),p=X.mul(s,K),c=X.add(c,p),p=X.mul(O,K),v=X.mul(J,v),v=X.sub(v,p),p=X.mul(J,s),u=X.mul(O,u),u=X.add(u,p),new F(v,c,u)}subtract(P){return this.add(P.negate())}is0(){return this.equals(F.ZERO)}wNAF(P){return I.wNAFCached(this,A,P,(S)=>{let j=X.invertBatch(S.map((N)=>N.pz));return S.map((N,w)=>N.toAffine(j[w])).map(F.fromAffine)})}multiplyUnsafe(P){let S=F.ZERO;if(P===nZ)return S;if(H(P),P===jX)return this;let{endo:j}=Q;if(!j)return I.unsafeLadder(this,P);let{k1neg:N,k1:w,k2neg:k,k2:f}=j.splitScalar(P),v=S,c=S,u=this;while(w>nZ||f>nZ){if(w&jX)v=v.add(u);if(f&jX)c=c.add(u);u=u.double(),w>>=jX,f>>=jX}if(N)v=v.negate();if(k)c=c.negate();return c=new F(X.mul(c.px,j.beta),c.py,c.pz),v.add(c)}multiply(P){H(P);let S=P,j,N,{endo:w}=Q;if(w){let{k1neg:k,k1:f,k2neg:v,k2:c}=w.splitScalar(S),{p:u,f:Z0}=this.wNAF(f),{p:e,f:p}=this.wNAF(c);u=I.constTimeNegate(k,u),e=I.constTimeNegate(v,e),e=new F(X.mul(e.px,w.beta),e.py,e.pz),j=u.add(e),N=Z0.add(p)}else{let{p:k,f}=this.wNAF(S);j=k,N=f}return F.normalizeZ([j,N])[0]}multiplyAndAddUnsafe(P,S,j){let N=F.BASE,w=(f,v)=>v===nZ||v===jX||!f.equals(N)?f.multiplyUnsafe(v):f.multiply(v),k=w(this,S).add(w(P,j));return k.is0()?void 0:k}toAffine(P){let{px:S,py:j,pz:N}=this,w=this.is0();if(P==null)P=w?X.ONE:X.inv(N);let k=X.mul(S,P),f=X.mul(j,P),v=X.mul(N,P);if(w)return{x:X.ZERO,y:X.ZERO};if(!X.eql(v,X.ONE))throw new Error("invZ was invalid");return{x:k,y:f}}isTorsionFree(){let{h:P,isTorsionFree:S}=Q;if(P===jX)return!0;if(S)return S(F,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:P,clearCofactor:S}=Q;if(P===jX)return this;if(S)return S(F,this);return this.multiplyUnsafe(Q.h)}toRawBytes(P=!0){return this.assertValidity(),Z(F,this,P)}toHex(P=!0){return CJ(this.toRawBytes(P))}}F.BASE=new F(Q.Gx,Q.Gy,X.ONE),F.ZERO=new F(X.ZERO,X.ONE,X.ZERO);let M=Q.nBitLength,I=o7(F,Q.endo?Math.ceil(M/2):M);return{CURVE:Q,ProjectivePoint:F,normPrivateKeyToScalar:D,weierstrassEquation:V,isWithinCurveOrder:G}}function NF($){let Q=Y6($);return PY(Q,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...Q})}function i7($){let Q=NF($),{Fp:X,n:Z}=Q,Y=X.BYTES+1,V=2*X.BYTES+1;function G(O){return nZ<O&&O<X.ORDER}function H(O){return yQ(O,Z)}function D(O){return J1(O,Z)}let{ProjectivePoint:A,normPrivateKeyToScalar:T,weierstrassEquation:F,isWithinCurveOrder:M}=jF({...Q,toBytes(O,U,z){let C=U.toAffine(),R=X.toBytes(C.x),L=E8;if(z)return L(Uint8Array.from([U.hasEvenY()?2:3]),R);else return L(Uint8Array.from([4]),R,X.toBytes(C.y))},fromBytes(O){let U=O.length,z=O[0],C=O.subarray(1);if(U===Y&&(z===2||z===3)){let R=oZ(C);if(!G(R))throw new Error("Point is not on curve");let L=F(R),W=X.sqrt(L),q=(W&jX)===jX;if((z&1)===1!==q)W=X.neg(W);return{x:R,y:W}}else if(U===V&&z===4){let R=X.fromBytes(C.subarray(0,X.BYTES)),L=X.fromBytes(C.subarray(X.BYTES,2*X.BYTES));return{x:R,y:L}}else throw new Error(`Point of length ${U} was invalid. Expected ${Y} compressed bytes or ${V} uncompressed bytes`)}}),I=(O)=>CJ(IY(O,Q.nByteLength));function P(O){let U=Z>>jX;return O>U}function S(O){return P(O)?H(-O):O}let j=(O,U,z)=>oZ(O.slice(U,z));class N{constructor(O,U,z){this.r=O,this.s=U,this.recovery=z,this.assertValidity()}static fromCompact(O){let U=Q.nByteLength;return O=OX("compactSignature",O,U*2),new N(j(O,0,U),j(O,U,2*U))}static fromDER(O){let{r:U,s:z}=RJ.toSig(OX("DER",O));return new N(U,z)}assertValidity(){if(!M(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!M(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(O){return new N(this.r,this.s,O)}recoverPublicKey(O){let{r:U,s:z,recovery:C}=this,R=u(OX("msgHash",O));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");let L=C===2||C===3?U+Q.n:U;if(L>=X.ORDER)throw new Error("recovery id 2 or 3 invalid");let W=(C&1)===0?"02":"03",q=A.fromHex(W+I(L)),_=D(L),B=H(-R*_),x=H(z*_),b=A.BASE.multiplyAndAddUnsafe(q,B,x);if(!b)throw new Error("point at infinify");return b.assertValidity(),b}hasHighS(){return P(this.s)}normalizeS(){return this.hasHighS()?new N(this.r,H(-this.s),this.recovery):this}toDERRawBytes(){return TJ(this.toDERHex())}toDERHex(){return RJ.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return TJ(this.toCompactHex())}toCompactHex(){return I(this.r)+I(this.s)}}let w={isValidPrivateKey(O){try{return T(O),!0}catch(U){return!1}},normPrivateKeyToScalar:T,randomPrivateKey:()=>{let O=X6(Q.n);return l7(Q.randomBytes(O),Q.n)},precompute(O=8,U=A.BASE){return U._setWindowSize(O),U.multiply(BigInt(3)),U}};function k(O,U=!0){return A.fromPrivateKey(O).toRawBytes(U)}function f(O){let U=O instanceof Uint8Array,z=typeof O==="string",C=(U||z)&&O.length;if(U)return C===Y||C===V;if(z)return C===2*Y||C===2*V;if(O instanceof A)return!0;return!1}function v(O,U,z=!0){if(f(O))throw new Error("first arg must be private key");if(!f(U))throw new Error("second arg must be public key");return A.fromHex(U).multiply(T(O)).toRawBytes(z)}let c=Q.bits2int||function(O){let U=oZ(O),z=O.length*8-Q.nBitLength;return z>0?U>>BigInt(z):U},u=Q.bits2int_modN||function(O){return H(c(O))},Z0=ZW(Q.nBitLength);function e(O){if(typeof O!=="bigint")throw new Error("bigint expected");if(!(nZ<=O&&O<Z0))throw new Error(`bigint expected < 2^${Q.nBitLength}`);return IY(O,Q.nByteLength)}function p(O,U,z=s){if(["recovered","canonical"].some((z0)=>(z0 in z)))throw new Error("sign() legacy options not supported");let{hash:C,randomBytes:R}=Q,{lowS:L,prehash:W,extraEntropy:q}=z;if(L==null)L=!0;if(O=OX("msgHash",O),W)O=OX("prehashed msgHash",C(O));let _=u(O),B=T(U),x=[e(B),e(_)];if(q!=null){let z0=q===!0?R(X.BYTES):q;x.push(OX("extraEntropy",z0))}let b=E8(...x),l=_;function r(z0){let d=c(z0);if(!M(d))return;let o=D(d),R0=A.BASE.multiply(d).toAffine(),G0=H(R0.x);if(G0===nZ)return;let W0=H(o*H(l+G0*B));if(W0===nZ)return;let a=(R0.x===G0?0:2)|Number(R0.y&jX),m=W0;if(L&&P(W0))m=S(W0),a^=1;return new N(G0,m,a)}return{seed:b,k2sig:r}}let s={lowS:Q.lowS,prehash:!1},E={lowS:Q.lowS,prehash:!1};function J(O,U,z=s){let{seed:C,k2sig:R}=p(O,U,z),L=Q;return aK(L.hash.outputLen,L.nByteLength,L.hmac)(C,R)}A.BASE._setWindowSize(8);function K(O,U,z,C=E){let R=O;if(U=OX("msgHash",U),z=OX("publicKey",z),"strict"in C)throw new Error("options.strict was renamed to lowS");let{lowS:L,prehash:W}=C,q=void 0,_;try{if(typeof R==="string"||R instanceof Uint8Array)try{q=N.fromDER(R)}catch(R0){if(!(R0 instanceof RJ.Err))throw R0;q=N.fromCompact(R)}else if(typeof R==="object"&&typeof R.r==="bigint"&&typeof R.s==="bigint"){let{r:R0,s:G0}=R;q=new N(R0,G0)}else throw new Error("PARSE");_=A.fromHex(z)}catch(R0){if(R0.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(L&&q.hasHighS())return!1;if(W)U=Q.hash(U);let{r:B,s:x}=q,b=u(U),l=D(x),r=H(b*l),z0=H(B*l),d=A.BASE.multiplyAndAddUnsafe(_,r,z0)?.toAffine();if(!d)return!1;return H(d.x)===B}return{CURVE:Q,getPublicKey:k,getSharedSecret:v,sign:J,verify:K,ProjectivePoint:A,Signature:N,utils:w}}var SF,BF,RJ,nZ,jX,Gw,s7,Ww;var r7=K0(()=>{G1();YW();YW();n7();/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */({bytesToNumberBE:SF,hexToBytes:BF}=tK),RJ={Err:class $ extends Error{constructor(Q=""){super(Q)}},_parseInt($){let{Err:Q}=RJ;if($.length<2||$[0]!==2)throw new Q("Invalid signature integer tag");let X=$[1],Z=$.subarray(2,X+2);if(!X||Z.length!==X)throw new Q("Invalid signature integer: wrong length");if(Z[0]&128)throw new Q("Invalid signature integer: negative");if(Z[0]===0&&!(Z[1]&128))throw new Q("Invalid signature integer: unnecessary leading zero");return{d:SF(Z),l:$.subarray(X+2)}},toSig($){let{Err:Q}=RJ,X=typeof $==="string"?BF($):$;if(!(X instanceof Uint8Array))throw new Error("ui8a expected");let Z=X.length;if(Z<2||X[0]!=48)throw new Q("Invalid signature tag");if(X[1]!==Z-2)throw new Q("Invalid signature: incorrect length");let{d:Y,l:V}=RJ._parseInt(X.subarray(2)),{d:G,l:H}=RJ._parseInt(V);if(H.length)throw new Q("Invalid signature: left bytes after parsing");return{r:Y,s:G}},hexFromSig($){let Q=(A)=>Number.parseInt(A[0],16)&8?"00"+A:A,X=(A)=>{let T=A.toString(16);return T.length&1?`0${T}`:T},Z=Q(X($.s)),Y=Q(X($.r)),V=Z.length/2,G=Y.length/2,H=X(V),D=X(G);return`30${X(G+V+4)}02${D}${Y}02${H}${Z}`}},nZ=BigInt(0),jX=BigInt(1),Gw=BigInt(2),s7=BigInt(3),Ww=BigInt(4)});function wF($){return{hash:$,hmac:(Q,...X)=>qJ($,Q,jz(...X)),randomBytes:Nz}}function a7($,Q){let X=(Z)=>i7({...$,...wF(Z)});return Object.freeze({...X(Q),create:X})}var t7=K0(()=>{sV();MZ();r7();/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */});function xF($){let Q=QH,X=BigInt(3),Z=BigInt(6),Y=BigInt(11),V=BigInt(22),G=BigInt(23),H=BigInt(44),D=BigInt(88),A=$*$*$%Q,T=A*A*$%Q,F=zX(T,X,Q)*T%Q,M=zX(F,X,Q)*T%Q,I=zX(M,J6,Q)*A%Q,P=zX(I,Y,Q)*I%Q,S=zX(P,V,Q)*P%Q,j=zX(S,H,Q)*S%Q,N=zX(j,D,Q)*j%Q,w=zX(N,H,Q)*S%Q,k=zX(w,X,Q)*T%Q,f=zX(k,G,Q)*P%Q,v=zX(f,Z,Q)*A%Q,c=zX(v,J6,Q);if(!G6.eql(G6.sqr(c),$))throw new Error("Cannot find square root");return c}var QH,e7,_F,J6,$H=($,Q)=>($+Q/J6)/Q,G6,sZ,qw,Mw;var XH=K0(()=>{rV();G1();t7();/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */QH=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),e7=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_F=BigInt(1),J6=BigInt(2);G6=u7(QH,void 0,void 0,{sqrt:xF}),sZ=a7({a:BigInt(0),b:BigInt(7),Fp:G6,n:e7,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:($)=>{let Q=e7,X=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),Z=-_F*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),Y=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),V=X,G=BigInt("0x100000000000000000000000000000000"),H=$H(V*$,Q),D=$H(-Z*$,Q),A=yQ($-H*X-D*Y,Q),T=yQ(-H*Z-D*V,Q),F=A>G,M=T>G;if(F)A=Q-A;if(M)T=Q-T;if(A>G||T>G)throw new Error("splitScalar: Endomorphism failed, k="+$);return{k1neg:F,k1:A,k2neg:M,k2:T}}}},lZ),qw=BigInt(0),Mw=sZ.ProjectivePoint});var tX="0x0000000000000000000000000000000000000000";var I8="0x0000000000000000000000000000000000000000000000000000000000000000";var W6,V6,U6,K6,O6;var ZH=K0(()=>{W6=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),V6=BigInt("1000000000000000000"),U6=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),K6=BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1),O6=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")});var z6="Ξ",JW=`\x19Ethereum Signed Message:
`;var P8=K0(()=>{ZH()});function UH($){return c$(z$($),32)}var YH,JH,GH,WH,VH,W1,S8,P$;var H6=K0(()=>{P8();d0();YH=BigInt(0),JH=BigInt(1),GH=BigInt(2),WH=BigInt(27),VH=BigInt(28),W1=BigInt(35),S8={};P$=class P${#$;#Q;#X;#Z;get r(){return this.#$}set r($){h(aQ($)===32,"invalid r","value",$),this.#$=O0($)}get s(){return h(parseInt(this.#Q.substring(0,3))<8,"non-canonical s; use ._s","s",this.#Q),this.#Q}set s($){h(aQ($)===32,"invalid s","value",$),this.#Q=O0($)}get _s(){return this.#Q}isValid(){return parseInt(this.#Q.substring(0,3))<8}get v(){return this.#X}set v($){let Q=o0($,"value");h(Q===27||Q===28,"invalid v","v",$),this.#X=Q}get networkV(){return this.#Z}get legacyChainId(){let $=this.networkV;if($==null)return null;return P$.getChainId($)}get yParity(){return this.v===27?0:1}get yParityAndS(){let $=M0(this.s);if(this.yParity)$[0]|=128;return O0($)}get compactSerialized(){return s0([this.r,this.yParityAndS])}get serialized(){return s0([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor($,Q,X,Z){IQ($,S8,"Signature"),this.#$=Q,this.#Q=X,this.#X=Z,this.#Z=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){let $=new P$(S8,this.r,this._s,this.v);if(this.networkV)$.#Z=this.networkV;return $}toJSON(){let $=this.networkV;return{_type:"signature",networkV:$!=null?$.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId($){let Q=c0($,"v");if(Q==WH||Q==VH)return YH;return h(Q>=W1,"invalid EIP-155 v","v",$),(Q-W1)/GH}static getChainIdV($,Q){return c0($)*GH+BigInt(35+Q-27)}static getNormalizedV($){let Q=c0($);if(Q===YH||Q===WH)return 27;if(Q===JH||Q===VH)return 28;return h(Q>=W1,"invalid v","v",$),Q&JH?27:28}static from($){function Q(D,A){h(D,A,"signature",$)}if($==null)return new P$(S8,I8,I8,27);if(typeof $==="string"){let D=M0($,"signature");if(D.length===64){let A=O0(D.slice(0,32)),T=D.slice(32,64),F=T[0]&128?28:27;return T[0]&=127,new P$(S8,A,O0(T),F)}if(D.length===65){let A=O0(D.slice(0,32)),T=O0(D.slice(32,64)),F=P$.getNormalizedV(D[64]);return new P$(S8,A,T,F)}Q(!1,"invalid raw signature length")}if($ instanceof P$)return $.clone();let X=$.r;Q(X!=null,"missing r");let Z=UH(X),Y=function(D,A){if(D!=null)return UH(D);if(A!=null){Q(Q$(A,32),"invalid yParityAndS");let T=M0(A);return T[0]&=127,O0(T)}Q(!1,"missing s")}($.s,$.yParityAndS),{networkV:V,v:G}=function(D,A,T){if(D!=null){let F=c0(D);return{networkV:F>=W1?F:void 0,v:P$.getNormalizedV(F)}}if(A!=null)return Q(Q$(A,32),"invalid yParityAndS"),{v:M0(A)[0]&128?28:27};if(T!=null){switch(o0(T,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}Q(!1,"invalid yParity")}Q(!1,"missing v")}($.v,$.yParityAndS,$.yParity),H=new P$(S8,Z,Y,G);if(V)H.#Z=V;return Q($.yParity==null||o0($.yParity,"sig.yParity")===H.yParity,"yParity mismatch"),Q($.yParityAndS==null||$.yParityAndS===H.yParityAndS,"yParityAndS mismatch"),H}}});class u${#$;constructor($){h(aQ($)===32,"invalid private key","privateKey","[REDACTED]"),this.#$=O0($)}get privateKey(){return this.#$}get publicKey(){return u$.computePublicKey(this.#$)}get compressedPublicKey(){return u$.computePublicKey(this.#$,!0)}sign($){h(aQ($)===32,"invalid digest length","digest",$);let Q=sZ.sign(j$($),j$(this.#$),{lowS:!0});return P$.from({r:qQ(Q.r,32),s:qQ(Q.s,32),v:Q.recovery?28:27})}computeSharedSecret($){let Q=u$.computePublicKey($);return O0(sZ.getSharedSecret(j$(this.#$),M0(Q),!1))}static computePublicKey($,Q){let X=M0($,"key");if(X.length===32){let Y=sZ.getPublicKey(X,!!Q);return O0(Y)}if(X.length===64){let Y=new Uint8Array(65);Y[0]=4,Y.set(X,1),X=Y}let Z=sZ.ProjectivePoint.fromHex(X);return O0(Z.toRawBytes(Q))}static recoverPublicKey($,Q){h(aQ($)===32,"invalid digest length","digest",$);let X=P$.from(Q),Z=sZ.Signature.fromCompact(j$(s0([X.r,X.s])));Z=Z.addRecoveryBit(X.yParity);let Y=Z.recoverPublicKey(j$($));return h(Y!=null,"invalid signature for digest","signature",Q),"0x"+Y.toHex(!1)}static addPoints($,Q,X){let Z=sZ.ProjectivePoint.fromHex(u$.computePublicKey($).substring(2)),Y=sZ.ProjectivePoint.fromHex(u$.computePublicKey(Q).substring(2));return"0x"+Z.add(Y).toHex(!!X)}}var KH=K0(()=>{XH();d0();H6()});function OH(){sX.lock(),e0.lock(),cQ.lock(),gQ.lock(),iX.lock(),rX.lock(),aX.lock(),m$.lock(),AJ.lock(),gQ.lock()}var n$=K0(()=>{mz();ez();U7();H7();M7();w7();y7();KH();H6()});function zH($){$=$.toLowerCase();let Q=$.substring(2).split(""),X=new Uint8Array(40);for(let Y=0;Y<40;Y++)X[Y]=Q[Y].charCodeAt(0);let Z=M0(e0(X));for(let Y=0;Y<40;Y+=2){if(Z[Y>>1]>>4>=8)Q[Y]=Q[Y].toUpperCase();if((Z[Y>>1]&15)>=8)Q[Y+1]=Q[Y+1].toUpperCase()}return"0x"+Q.join("")}function LH($){$=$.toUpperCase(),$=$.substring(4)+$.substring(0,2)+"00";let Q=$.split("").map((Z)=>{return L6[Z]}).join("");while(Q.length>=HH){let Z=Q.substring(0,HH);Q=parseInt(Z,10)%97+Q.substring(Z.length)}let X=String(98-parseInt(Q,10)%97);while(X.length<2)X="0"+X;return X}function gF($){$=$.toLowerCase();let Q=kF;for(let X=0;X<$.length;X++)Q=Q*fF+vF[$[X]];return Q}function n0($){if(h(typeof $==="string","invalid address","address",$),$.match(/^(0x)?[0-9a-fA-F]{40}$/)){if(!$.startsWith("0x"))$="0x"+$;let Q=zH($);return h(!$.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||Q===$,"bad address checksum","address",$),Q}if($.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){h($.substring(2,4)===LH($),"bad icap checksum","address",$);let Q=gF($.substring(4)).toString(16);while(Q.length<40)Q="0"+Q;return zH("0x"+Q)}h(!1,"invalid address","address",$)}function D6($){let Q=BigInt(n0($)).toString(36).toUpperCase();while(Q.length<30)Q="0"+Q;return"XE"+LH("XE00"+Q)+Q}var kF,fF,L6,HH=15,vF;var V1=K0(()=>{n$();d0();kF=BigInt(0),fF=BigInt(36);L6={};for(let $=0;$<10;$++)L6[String($)]=String($);for(let $=0;$<26;$++)L6[String.fromCharCode(65+$)]=String(10+$);vF=function(){let $={};for(let Q=0;Q<36;Q++){let X="0123456789abcdefghijklmnopqrstuvwxyz"[Q];$[X]=BigInt(Q)}return $}()});function EJ($){let Q=n0($.from),Z=c0($.nonce,"tx.nonce").toString(16);if(Z==="0")Z="0x";else if(Z.length%2)Z="0x0"+Z;else Z="0x"+Z;return n0(O$(e0(pQ([Q,Z])),12))}function q6($,Q,X){let Z=n0($),Y=M0(Q,"salt"),V=M0(X,"initCodeHash");return h(Y.length===32,"salt must be 32 bytes","salt",Q),h(V.length===32,"initCodeHash must be 32 bytes","initCodeHash",X),n0(O$(e0(s0(["0xff",Z,Y,V])),12))}var DH=K0(()=>{n$();d0();V1()});function B8($){return $&&typeof $.getAddress==="function"}function A6($){try{return n0($),!0}catch(Q){}return!1}async function M6($,Q){let X=await Q;if(X==null||X==="0x0000000000000000000000000000000000000000")J0(typeof $!=="string","unconfigured name","UNCONFIGURED_NAME",{value:$}),h(!1,"invalid AddressLike value; did not resolve to a value address","target",$);return n0(X)}function N$($,Q){if(typeof $==="string"){if($.match(/^0x[0-9a-f]{40}$/i))return n0($);return J0(Q!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),M6($,Q.resolveName($))}else if(B8($))return M6($,$.getAddress());else if($&&typeof $.then==="function")return M6($,$);h(!1,"unsupported addressable value","target",$)}var qH=K0(()=>{d0();V1()});var d$=K0(()=>{V1();DH();qH()});function l0($,Q){let X=!1;if(Q<0)X=!0,Q*=-1;return new V$(eX,`${X?"":"u"}int${Q}`,$,{signed:X,width:Q})}function A$($,Q){return new V$(eX,`bytes${Q?Q:""}`,$,{size:Q})}class V${type;value;#$;_typedSymbol;constructor($,Q,X,Z){if(Z==null)Z=null;IQ(eX,$,"Typed"),P0(this,{_typedSymbol:MH,type:Q,value:X}),this.#$=Z,this.format()}format(){if(this.type==="array")throw new Error("");else if(this.type==="dynamicArray")throw new Error("");else if(this.type==="tuple")return`tuple(${this.value.map(($)=>$.format()).join(",")})`;return this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#$}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");if(this.#$===!0)return-1;if(this.#$===!1)return this.value.length;return null}static from($,Q){return new V$(eX,$,Q)}static uint8($){return l0($,8)}static uint16($){return l0($,16)}static uint24($){return l0($,24)}static uint32($){return l0($,32)}static uint40($){return l0($,40)}static uint48($){return l0($,48)}static uint56($){return l0($,56)}static uint64($){return l0($,64)}static uint72($){return l0($,72)}static uint80($){return l0($,80)}static uint88($){return l0($,88)}static uint96($){return l0($,96)}static uint104($){return l0($,104)}static uint112($){return l0($,112)}static uint120($){return l0($,120)}static uint128($){return l0($,128)}static uint136($){return l0($,136)}static uint144($){return l0($,144)}static uint152($){return l0($,152)}static uint160($){return l0($,160)}static uint168($){return l0($,168)}static uint176($){return l0($,176)}static uint184($){return l0($,184)}static uint192($){return l0($,192)}static uint200($){return l0($,200)}static uint208($){return l0($,208)}static uint216($){return l0($,216)}static uint224($){return l0($,224)}static uint232($){return l0($,232)}static uint240($){return l0($,240)}static uint248($){return l0($,248)}static uint256($){return l0($,256)}static uint($){return l0($,256)}static int8($){return l0($,-8)}static int16($){return l0($,-16)}static int24($){return l0($,-24)}static int32($){return l0($,-32)}static int40($){return l0($,-40)}static int48($){return l0($,-48)}static int56($){return l0($,-56)}static int64($){return l0($,-64)}static int72($){return l0($,-72)}static int80($){return l0($,-80)}static int88($){return l0($,-88)}static int96($){return l0($,-96)}static int104($){return l0($,-104)}static int112($){return l0($,-112)}static int120($){return l0($,-120)}static int128($){return l0($,-128)}static int136($){return l0($,-136)}static int144($){return l0($,-144)}static int152($){return l0($,-152)}static int160($){return l0($,-160)}static int168($){return l0($,-168)}static int176($){return l0($,-176)}static int184($){return l0($,-184)}static int192($){return l0($,-192)}static int200($){return l0($,-200)}static int208($){return l0($,-208)}static int216($){return l0($,-216)}static int224($){return l0($,-224)}static int232($){return l0($,-232)}static int240($){return l0($,-240)}static int248($){return l0($,-248)}static int256($){return l0($,-256)}static int($){return l0($,-256)}static bytes1($){return A$($,1)}static bytes2($){return A$($,2)}static bytes3($){return A$($,3)}static bytes4($){return A$($,4)}static bytes5($){return A$($,5)}static bytes6($){return A$($,6)}static bytes7($){return A$($,7)}static bytes8($){return A$($,8)}static bytes9($){return A$($,9)}static bytes10($){return A$($,10)}static bytes11($){return A$($,11)}static bytes12($){return A$($,12)}static bytes13($){return A$($,13)}static bytes14($){return A$($,14)}static bytes15($){return A$($,15)}static bytes16($){return A$($,16)}static bytes17($){return A$($,17)}static bytes18($){return A$($,18)}static bytes19($){return A$($,19)}static bytes20($){return A$($,20)}static bytes21($){return A$($,21)}static bytes22($){return A$($,22)}static bytes23($){return A$($,23)}static bytes24($){return A$($,24)}static bytes25($){return A$($,25)}static bytes26($){return A$($,26)}static bytes27($){return A$($,27)}static bytes28($){return A$($,28)}static bytes29($){return A$($,29)}static bytes30($){return A$($,30)}static bytes31($){return A$($,31)}static bytes32($){return A$($,32)}static address($){return new V$(eX,"address",$)}static bool($){return new V$(eX,"bool",!!$)}static bytes($){return new V$(eX,"bytes",$)}static string($){return new V$(eX,"string",$)}static array($,Q){throw new Error("not implemented yet")}static tuple($,Q){throw new Error("not implemented yet")}static overrides($){return new V$(eX,"overrides",Object.assign({},$))}static isTyped($){return $&&typeof $==="object"&&"_typedSymbol"in $&&$._typedSymbol===MH}static dereference($,Q){if(V$.isTyped($)){if($.type!==Q)throw new Error(`invalid type: expecetd ${Q}, got ${$.type}`);return $.value}return $}}var eX,MH;var AZ=K0(()=>{d0();eX={};MH=Symbol.for("_ethers_typed")});var C6;var AH=K0(()=>{d$();H8();AZ();BX();C6=class C6 extends zQ{constructor($){super("address","address",$,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode($,Q){let X=V$.dereference(Q,"string");try{X=n0(X)}catch(Z){return this._throwError(Z.message,Q)}return $.writeValue(X)}decode($){return n0(qQ($.readValue(),20))}}});var T6;var CH=K0(()=>{BX();T6=class T6 extends zQ{coder;constructor($){super($.name,$.type,"_",$.dynamic);this.coder=$}defaultValue(){return this.coder.defaultValue()}encode($,Q){return this.coder.encode($,Q)}decode($){return this.coder.decode($)}}});function F6($,Q,X){let Z=[];if(Array.isArray(X))Z=X;else if(X&&typeof X==="object"){let D={};Z=Q.map((A)=>{let T=A.localName;return J0(T,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:A},value:X}),J0(!D[T],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:A},value:X}),D[T]=!0,X[T]})}else h(!1,"invalid tuple value","tuple",X);h(Q.length===Z.length,"types/value length mismatch","tuple",X);let Y=new A8,V=new A8,G=[];Q.forEach((D,A)=>{let T=Z[A];if(D.dynamic){let F=V.length;D.encode(V,T);let M=Y.writeUpdatableValue();G.push((I)=>{M(I+F)})}else D.encode(Y,T)}),G.forEach((D)=>{D(Y.length)});let H=$.appendWriter(Y);return H+=$.appendWriter(V),H}function R6($,Q){let X=[],Z=[],Y=$.subReader(0);return Q.forEach((V)=>{let G=null;if(V.dynamic){let H=$.readIndex(),D=Y.subReader(H);try{G=V.decode(D)}catch(A){if(D$(A,"BUFFER_OVERRUN"))throw A;G=A,G.baseType=V.name,G.name=V.localName,G.type=V.type}}else try{G=V.decode($)}catch(H){if(D$(H,"BUFFER_OVERRUN"))throw H;G=H,G.baseType=V.name,G.name=V.localName,G.type=V.type}if(G==null)throw new Error("investigate");X.push(G),Z.push(V.localName||null)}),tQ.fromItems(X,Z)}var E6;var I6=K0(()=>{d0();AZ();BX();CH();E6=class E6 extends zQ{coder;length;constructor($,Q,X){let Z=$.type+"["+(Q>=0?Q:"")+"]",Y=Q===-1||$.dynamic;super("array",Z,X,Y);P0(this,{coder:$,length:Q})}defaultValue(){let $=this.coder.defaultValue(),Q=[];for(let X=0;X<this.length;X++)Q.push($);return Q}encode($,Q){let X=V$.dereference(Q,"array");if(!Array.isArray(X))this._throwError("expected array value",X);let Z=this.length;if(Z===-1)Z=X.length,$.writeValue(X.length);VJ(X.length,Z,"coder array"+(this.localName?" "+this.localName:""));let Y=[];for(let V=0;V<X.length;V++)Y.push(this.coder);return F6($,Y,X)}decode($){let Q=this.length;if(Q===-1)Q=$.readIndex(),J0(Q*PQ<=$.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:$.bytes,offset:Q*PQ,length:$.dataLength});let X=[];for(let Z=0;Z<Q;Z++)X.push(new T6(this.coder));return R6($,X)}}});var P6;var TH=K0(()=>{AZ();BX();P6=class P6 extends zQ{constructor($){super("bool","bool",$,!1)}defaultValue(){return!1}encode($,Q){let X=V$.dereference(Q,"bool");return $.writeValue(X?1:0)}decode($){return!!$.readValue()}}});var U1,S6;var B6=K0(()=>{d0();BX();U1=class U1 extends zQ{constructor($,Q){super($,$,Q,!0)}defaultValue(){return"0x"}encode($,Q){Q=j$(Q);let X=$.writeValue(Q.length);return X+=$.writeBytes(Q),X}decode($){return $.readBytes($.readIndex(),!0)}};S6=class S6 extends U1{constructor($){super("bytes",$)}decode($){return O0(super.decode($))}}});var j6;var FH=K0(()=>{d0();AZ();BX();j6=class j6 extends zQ{size;constructor($,Q){let X="bytes"+String($);super(X,X,Q,!1);P0(this,{size:$},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode($,Q){let X=j$(V$.dereference(Q,this.type));if(X.length!==this.size)this._throwError("incorrect data length",Q);return $.writeBytes(X)}decode($){return O0($.readBytes(this.size))}}});var yF,N6;var RH=K0(()=>{BX();yF=new Uint8Array([]);N6=class N6 extends zQ{constructor($){super("null","",$,!1)}defaultValue(){return null}encode($,Q){if(Q!=null)this._throwError("not null",Q);return $.writeBytes(yF)}decode($){return $.readBytes(0),null}}});var hF,bF,pF,w6;var EH=K0(()=>{d0();AZ();BX();hF=BigInt(0),bF=BigInt(1),pF=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");w6=class w6 extends zQ{size;signed;constructor($,Q,X){let Z=(Q?"int":"uint")+$*8;super(Z,Z,X,!1);P0(this,{size:$,signed:Q},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode($,Q){let X=c0(V$.dereference(Q,this.type)),Z=UX(pF,PQ*8);if(this.signed){let Y=UX(Z,this.size*8-1);if(X>Y||X<-(Y+bF))this._throwError("value out-of-bounds",Q);X=mZ(X,8*PQ)}else if(X<hF||X>UX(Z,this.size*8))this._throwError("value out-of-bounds",Q);return $.writeValue(X)}decode($){let Q=UX($.readValue(),this.size*8);if(this.signed)Q=cZ(Q,this.size*8);return Q}}});var _6;var IH=K0(()=>{gV();AZ();B6();_6=class _6 extends U1{constructor($){super("string",$)}defaultValue(){return""}encode($,Q){return super.encode($,F$(V$.dereference(Q,"string")))}decode($){return bQ(super.decode($))}}});var j8;var PH=K0(()=>{AZ();BX();I6();j8=class j8 extends zQ{coders;constructor($,Q){let X=!1,Z=[];$.forEach((V)=>{if(V.dynamic)X=!0;Z.push(V.type)});let Y="tuple("+Z.join(",")+")";super("tuple",Y,Q,X);P0(this,{coders:Object.freeze($.slice())})}defaultValue(){let $=[];this.coders.forEach((X)=>{$.push(X.defaultValue())});let Q=this.coders.reduce((X,Z)=>{let Y=Z.localName;if(Y){if(!X[Y])X[Y]=0;X[Y]++}return X},{});return this.coders.forEach((X,Z)=>{let Y=X.localName;if(!Y||Q[Y]!==1)return;if(Y==="length")Y="_length";if($[Y]!=null)return;$[Y]=$[Z]}),Object.freeze($)}encode($,Q){let X=V$.dereference(Q,"tuple");return F6($,this.coders,X)}decode($){return R6($,this.coders)}}});function x6($,Q){return{address:n0($),storageKeys:Q.map((X,Z)=>{return h(Q$(X,32),"invalid slot",`storageKeys[${Z}]`,X),X.toLowerCase()})}}function SQ($){if(Array.isArray($))return $.map((X,Z)=>{if(Array.isArray(X))return h(X.length===2,"invalid slot set",`value[${Z}]`,X),x6(X[0],X[1]);return h(X!=null&&typeof X==="object","invalid address-slot set","value",$),x6(X.address,X.storageKeys)});h($!=null&&typeof $==="object","invalid access list","value",$);let Q=Object.keys($).map((X)=>{let Z=$[X].reduce((Y,V)=>{return Y[V]=!0,Y},{});return x6(X,Object.keys(Z).sort())});return Q.sort((X,Z)=>X.address.localeCompare(Z.address)),Q}var k6=K0(()=>{d$();d0()});function IJ($){return{address:n0($.address),nonce:c0($.nonce!=null?$.nonce:0),chainId:c0($.chainId!=null?$.chainId:0),signature:P$.from($.signature)}}var f6=K0(()=>{d$();n$();d0()});function $Z($){let Q;if(typeof $==="string")Q=u$.computePublicKey($,!1);else Q=$.publicKey;return n0(e0("0x"+Q.substring(4)).substring(26))}function QZ($,Q){return $Z(u$.recoverPublicKey($,Q))}var v6=K0(()=>{d$();n$()});function oF($){return{blobToKzgCommitment:(Z)=>{if("computeBlobProof"in $){if("blobToKzgCommitment"in $&&typeof $.blobToKzgCommitment==="function")return M0($.blobToKzgCommitment(O0(Z)))}else if("blobToKzgCommitment"in $&&typeof $.blobToKzgCommitment==="function")return M0($.blobToKzgCommitment(Z));if("blobToKZGCommitment"in $&&typeof $.blobToKZGCommitment==="function")return M0($.blobToKZGCommitment(O0(Z)));h(!1,"unsupported KZG library","kzg",$)},computeBlobKzgProof:(Z,Y)=>{if("computeBlobProof"in $&&typeof $.computeBlobProof==="function")return M0($.computeBlobProof(O0(Z),O0(Y)));if("computeBlobKzgProof"in $&&typeof $.computeBlobKzgProof==="function")return $.computeBlobKzgProof(Z,Y);if("computeBlobKZGProof"in $&&typeof $.computeBlobKZGProof==="function")return M0($.computeBlobKZGProof(O0(Z),O0(Y)));h(!1,"unsupported KZG library","kzg",$)}}}function SH($,Q){let X=$.toString(16);while(X.length<2)X="0"+X;return X+=m$(Q).substring(4),"0x"+X}function N8($){if($==="0x")return null;return n0($)}function K1($,Q){try{return SQ($)}catch(X){h(!1,X.message,Q,$)}}function nF($,Q){try{if(!Array.isArray($))throw new Error("authorizationList: invalid array");let X=[];for(let Z=0;Z<$.length;Z++){let Y=$[Z];if(!Array.isArray(Y))throw new Error(`authorization[${Z}]: invalid array`);if(Y.length!==6)throw new Error(`authorization[${Z}]: wrong length`);if(!Y[1])throw new Error(`authorization[${Z}]: null address`);X.push({address:N8(Y[1]),nonce:S$(Y[2],"nonce"),chainId:S$(Y[0],"chainId"),signature:P$.from({yParity:PJ(Y[3],"yParity"),r:c$(Y[4],32),s:c$(Y[5],32)})})}return X}catch(X){h(!1,X.message,Q,$)}}function PJ($,Q){if($==="0x")return 0;return o0($,Q)}function S$($,Q){if($==="0x")return MQ;let X=c0($,Q);return h(X<=lF,"value exceeds uint size",Q,X),X}function U$($,Q){let X=c0($,"value"),Z=z$(X);return h(Z.length<=32,"value too large",`tx.${Q}`,X),Z}function O1($){return SQ($).map((Q)=>[Q.address,Q.storageKeys])}function sF($){return $.map((Q)=>{return[U$(Q.chainId,"chainId"),Q.address,U$(Q.nonce,"nonce"),U$(Q.signature.yParity,"yParity"),z$(Q.signature.r),z$(Q.signature.s)]})}function iF($,Q){h(Array.isArray($),`invalid ${Q}`,"value",$);for(let X=0;X<$.length;X++)h(Q$($[X],32),"invalid ${ param } hash",`value[${X}]`,$[X]);return $}function rF($){let Q=uZ($);h(Array.isArray(Q)&&(Q.length===9||Q.length===6),"invalid field count for legacy transaction","data",$);let X={type:0,nonce:PJ(Q[0],"nonce"),gasPrice:S$(Q[1],"gasPrice"),gasLimit:S$(Q[2],"gasLimit"),to:N8(Q[3]),value:S$(Q[4],"value"),data:O0(Q[5]),chainId:MQ};if(Q.length===6)return X;let Z=S$(Q[6],"v"),Y=S$(Q[7],"r"),V=S$(Q[8],"s");if(Y===MQ&&V===MQ)X.chainId=Z;else{let G=(Z-dF)/cF;if(G<MQ)G=MQ;X.chainId=G,h(G!==MQ||(Z===mF||Z===uF),"non-canonical legacy v","v",Q[6]),X.signature=P$.from({r:c$(Q[7],32),s:c$(Q[8],32),v:Z})}return X}function aF($,Q){let X=[U$($.nonce,"nonce"),U$($.gasPrice||0,"gasPrice"),U$($.gasLimit,"gasLimit"),$.to||"0x",U$($.value,"value"),$.data],Z=MQ;if($.chainId!=MQ)Z=c0($.chainId,"tx.chainId"),h(!Q||Q.networkV==null||Q.legacyChainId===Z,"tx.chainId/sig.v mismatch","sig",Q);else if($.signature){let V=$.signature.legacyChainId;if(V!=null)Z=V}if(!Q){if(Z!==MQ)X.push(z$(Z)),X.push("0x"),X.push("0x");return pQ(X)}let Y=BigInt(27+Q.yParity);if(Z!==MQ)Y=P$.getChainIdV(Z,Q.v);else if(BigInt(Q.v)!==Y)h(!1,"tx.chainId/sig.v mismatch","sig",Q);return X.push(z$(Y)),X.push(z$(Q.r)),X.push(z$(Q.s)),pQ(X)}function z1($,Q){let X;try{if(X=PJ(Q[0],"yParity"),X!==0&&X!==1)throw new Error("bad yParity")}catch(G){h(!1,"invalid yParity","yParity",Q[0])}let Z=c$(Q[1],32),Y=c$(Q[2],32),V=P$.from({r:Z,s:Y,yParity:X});$.signature=V}function tF($){let Q=uZ(M0($).slice(1));h(Array.isArray(Q)&&(Q.length===9||Q.length===12),"invalid field count for transaction type: 2","data",O0($));let X={type:2,chainId:S$(Q[0],"chainId"),nonce:PJ(Q[1],"nonce"),maxPriorityFeePerGas:S$(Q[2],"maxPriorityFeePerGas"),maxFeePerGas:S$(Q[3],"maxFeePerGas"),gasPrice:null,gasLimit:S$(Q[4],"gasLimit"),to:N8(Q[5]),value:S$(Q[6],"value"),data:O0(Q[7]),accessList:K1(Q[8],"accessList")};if(Q.length===9)return X;return z1(X,Q.slice(9)),X}function eF($,Q){let X=[U$($.chainId,"chainId"),U$($.nonce,"nonce"),U$($.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),U$($.maxFeePerGas||0,"maxFeePerGas"),U$($.gasLimit,"gasLimit"),$.to||"0x",U$($.value,"value"),$.data,O1($.accessList||[])];if(Q)X.push(U$(Q.yParity,"yParity")),X.push(z$(Q.r)),X.push(z$(Q.s));return s0(["0x02",pQ(X)])}function $R($){let Q=uZ(M0($).slice(1));h(Array.isArray(Q)&&(Q.length===8||Q.length===11),"invalid field count for transaction type: 1","data",O0($));let X={type:1,chainId:S$(Q[0],"chainId"),nonce:PJ(Q[1],"nonce"),gasPrice:S$(Q[2],"gasPrice"),gasLimit:S$(Q[3],"gasLimit"),to:N8(Q[4]),value:S$(Q[5],"value"),data:O0(Q[6]),accessList:K1(Q[7],"accessList")};if(Q.length===8)return X;return z1(X,Q.slice(8)),X}function QR($,Q){let X=[U$($.chainId,"chainId"),U$($.nonce,"nonce"),U$($.gasPrice||0,"gasPrice"),U$($.gasLimit,"gasLimit"),$.to||"0x",U$($.value,"value"),$.data,O1($.accessList||[])];if(Q)X.push(U$(Q.yParity,"recoveryParam")),X.push(z$(Q.r)),X.push(z$(Q.s));return s0(["0x01",pQ(X)])}function XR($){let Q=uZ(M0($).slice(1)),X="3",Z=null;if(Q.length===4&&Array.isArray(Q[0])){X="3 (network format)";let V=Q[1],G=Q[2],H=Q[3];h(Array.isArray(V),"invalid network format: blobs not an array","fields[1]",V),h(Array.isArray(G),"invalid network format: commitments not an array","fields[2]",G),h(Array.isArray(H),"invalid network format: proofs not an array","fields[3]",H),h(V.length===G.length,"invalid network format: blobs/commitments length mismatch","fields",Q),h(V.length===H.length,"invalid network format: blobs/proofs length mismatch","fields",Q),Z=[];for(let D=0;D<Q[1].length;D++)Z.push({data:V[D],commitment:G[D],proof:H[D]});Q=Q[0]}h(Array.isArray(Q)&&(Q.length===11||Q.length===14),`invalid field count for transaction type: ${X}`,"data",O0($));let Y={type:3,chainId:S$(Q[0],"chainId"),nonce:PJ(Q[1],"nonce"),maxPriorityFeePerGas:S$(Q[2],"maxPriorityFeePerGas"),maxFeePerGas:S$(Q[3],"maxFeePerGas"),gasPrice:null,gasLimit:S$(Q[4],"gasLimit"),to:N8(Q[5]),value:S$(Q[6],"value"),data:O0(Q[7]),accessList:K1(Q[8],"accessList"),maxFeePerBlobGas:S$(Q[9],"maxFeePerBlobGas"),blobVersionedHashes:Q[10]};if(Z)Y.blobs=Z;h(Y.to!=null,`invalid address for transaction type: ${X}`,"data",$),h(Array.isArray(Y.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",$);for(let V=0;V<Y.blobVersionedHashes.length;V++)h(Q$(Y.blobVersionedHashes[V],32),`invalid blobVersionedHash at index ${V}: must be length 32`,"data",$);if(Q.length===11)return Y;return z1(Y,Q.slice(11)),Y}function ZR($,Q,X){let Z=[U$($.chainId,"chainId"),U$($.nonce,"nonce"),U$($.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),U$($.maxFeePerGas||0,"maxFeePerGas"),U$($.gasLimit,"gasLimit"),$.to||tX,U$($.value,"value"),$.data,O1($.accessList||[]),U$($.maxFeePerBlobGas||0,"maxFeePerBlobGas"),iF($.blobVersionedHashes||[],"blobVersionedHashes")];if(Q){if(Z.push(U$(Q.yParity,"yParity")),Z.push(z$(Q.r)),Z.push(z$(Q.s)),X)return s0(["0x03",pQ([Z,X.map((Y)=>Y.data),X.map((Y)=>Y.commitment),X.map((Y)=>Y.proof)])])}return s0(["0x03",pQ(Z)])}function YR($){let Q=uZ(M0($).slice(1));h(Array.isArray(Q)&&(Q.length===10||Q.length===13),"invalid field count for transaction type: 4","data",O0($));let X={type:4,chainId:S$(Q[0],"chainId"),nonce:PJ(Q[1],"nonce"),maxPriorityFeePerGas:S$(Q[2],"maxPriorityFeePerGas"),maxFeePerGas:S$(Q[3],"maxFeePerGas"),gasPrice:null,gasLimit:S$(Q[4],"gasLimit"),to:N8(Q[5]),value:S$(Q[6],"value"),data:O0(Q[7]),accessList:K1(Q[8],"accessList"),authorizationList:nF(Q[9],"authorizationList")};if(Q.length===10)return X;return z1(X,Q.slice(10)),X}function JR($,Q){let X=[U$($.chainId,"chainId"),U$($.nonce,"nonce"),U$($.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),U$($.maxFeePerGas||0,"maxFeePerGas"),U$($.gasLimit,"gasLimit"),$.to||"0x",U$($.value,"value"),$.data,O1($.accessList||[]),sF($.authorizationList||[])];if(Q)X.push(U$(Q.yParity,"yParity")),X.push(z$(Q.r)),X.push(z$(Q.s));return s0(["0x04",pQ(X)])}class s${#$;#Q;#X;#Z;#Y;#G;#J;#W;#O;#U;#L;#D;#V;#K;#z;#H;#M;get type(){return this.#$}set type($){switch($){case null:this.#$=null;break;case 0:case"legacy":this.#$=0;break;case 1:case"berlin":case"eip-2930":this.#$=1;break;case 2:case"london":case"eip-1559":this.#$=2;break;case 3:case"cancun":case"eip-4844":this.#$=3;break;case 4:case"pectra":case"eip-7702":this.#$=4;break;default:h(!1,"unsupported transaction type","type",$)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){let $=this.#Q;if($==null&&this.type===3)return tX;return $}set to($){this.#Q=$==null?null:n0($)}get nonce(){return this.#Z}set nonce($){this.#Z=o0($,"value")}get gasLimit(){return this.#Y}set gasLimit($){this.#Y=c0($)}get gasPrice(){let $=this.#G;if($==null&&(this.type===0||this.type===1))return MQ;return $}set gasPrice($){this.#G=$==null?null:c0($,"gasPrice")}get maxPriorityFeePerGas(){let $=this.#J;if($==null){if(this.type===2||this.type===3)return MQ;return null}return $}set maxPriorityFeePerGas($){this.#J=$==null?null:c0($,"maxPriorityFeePerGas")}get maxFeePerGas(){let $=this.#W;if($==null){if(this.type===2||this.type===3)return MQ;return null}return $}set maxFeePerGas($){this.#W=$==null?null:c0($,"maxFeePerGas")}get data(){return this.#X}set data($){this.#X=O0($)}get value(){return this.#O}set value($){this.#O=c0($,"value")}get chainId(){return this.#U}set chainId($){this.#U=c0($)}get signature(){return this.#L||null}set signature($){this.#L=$==null?null:P$.from($)}get accessList(){let $=this.#D||null;if($==null){if(this.type===1||this.type===2||this.type===3)return[];return null}return $}set accessList($){this.#D=$==null?null:SQ($)}get authorizationList(){let $=this.#M||null;if($==null){if(this.type===4)return[]}return $}set authorizationList($){this.#M=$==null?null:$.map((Q)=>IJ(Q))}get maxFeePerBlobGas(){let $=this.#V;if($==null&&this.type===3)return MQ;return $}set maxFeePerBlobGas($){this.#V=$==null?null:c0($,"maxFeePerBlobGas")}get blobVersionedHashes(){let $=this.#K;if($==null&&this.type===3)return[];return $}set blobVersionedHashes($){if($!=null){h(Array.isArray($),"blobVersionedHashes must be an Array","value",$),$=$.slice();for(let Q=0;Q<$.length;Q++)h(Q$($[Q],32),"invalid blobVersionedHash",`value[${Q}]`,$[Q])}this.#K=$}get blobs(){if(this.#H==null)return null;return this.#H.map(($)=>Object.assign({},$))}set blobs($){if($==null){this.#H=null;return}let Q=[],X=[];for(let Z=0;Z<$.length;Z++){let Y=$[Z];if(uX(Y)){J0(this.#z,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let V=M0(Y);if(h(V.length<=g6,"blob is too large",`blobs[${Z}]`,Y),V.length!==g6){let D=new Uint8Array(g6);D.set(V),V=D}let G=this.#z.blobToKzgCommitment(V),H=O0(this.#z.computeBlobKzgProof(V,G));Q.push({data:O0(V),commitment:O0(G),proof:H}),X.push(SH(1,G))}else{let V=O0(Y.commitment);Q.push({data:O0(Y.data),commitment:V,proof:O0(Y.proof)}),X.push(SH(1,V))}}this.#H=Q,this.#K=X}get kzg(){return this.#z}set kzg($){if($==null)this.#z=null;else this.#z=oF($)}constructor(){this.#$=null,this.#Q=null,this.#Z=0,this.#Y=MQ,this.#G=null,this.#J=null,this.#W=null,this.#X="0x",this.#O=MQ,this.#U=MQ,this.#L=null,this.#D=null,this.#V=null,this.#K=null,this.#z=null,this.#H=null,this.#M=null}get hash(){if(this.signature==null)return null;return e0(this.#q(!0,!1))}get unsignedHash(){return e0(this.unsignedSerialized)}get from(){if(this.signature==null)return null;return QZ(this.unsignedHash,this.signature)}get fromPublicKey(){if(this.signature==null)return null;return u$.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}#q($,Q){J0(!$||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});let X=$?this.signature:null;switch(this.inferType()){case 0:return aF(this,X);case 1:return QR(this,X);case 2:return eF(this,X);case 3:return ZR(this,X,Q?this.blobs:null);case 4:return JR(this,X)}J0(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#q(!0,!0)}get unsignedSerialized(){return this.#q(!1,!1)}inferType(){let $=this.inferTypes();if($.indexOf(2)>=0)return 2;return $.pop()}inferTypes(){let $=this.gasPrice!=null,Q=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,X=this.accessList!=null,Z=this.#V!=null||this.#K;if(this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null)J0(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this});J0(!Q||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),J0(this.type!==0||!X,"legacy transaction cannot have accessList","BAD_DATA",{value:this});let Y=[];if(this.type!=null)Y.push(this.type);else if(this.authorizationList&&this.authorizationList.length)Y.push(4);else if(Q)Y.push(2);else if($){if(Y.push(1),!X)Y.push(0)}else if(X)Y.push(1),Y.push(2);else if(Z&&this.to)Y.push(3);else Y.push(0),Y.push(1),Y.push(2),Y.push(3);return Y.sort(),Y}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return s$.from(this)}toJSON(){let $=(Q)=>{if(Q==null)return null;return Q.toString()};return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:$(this.gasLimit),gasPrice:$(this.gasPrice),maxPriorityFeePerGas:$(this.maxPriorityFeePerGas),maxFeePerGas:$(this.maxFeePerGas),value:$(this.value),chainId:$(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from($){if($==null)return new s$;if(typeof $==="string"){let X=M0($);if(X[0]>=127)return s$.from(rF(X));switch(X[0]){case 1:return s$.from($R(X));case 2:return s$.from(tF(X));case 3:return s$.from(XR(X));case 4:return s$.from(YR(X))}J0(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}let Q=new s$;if($.type!=null)Q.type=$.type;if($.to!=null)Q.to=$.to;if($.nonce!=null)Q.nonce=$.nonce;if($.gasLimit!=null)Q.gasLimit=$.gasLimit;if($.gasPrice!=null)Q.gasPrice=$.gasPrice;if($.maxPriorityFeePerGas!=null)Q.maxPriorityFeePerGas=$.maxPriorityFeePerGas;if($.maxFeePerGas!=null)Q.maxFeePerGas=$.maxFeePerGas;if($.maxFeePerBlobGas!=null)Q.maxFeePerBlobGas=$.maxFeePerBlobGas;if($.data!=null)Q.data=$.data;if($.value!=null)Q.value=$.value;if($.chainId!=null)Q.chainId=$.chainId;if($.signature!=null)Q.signature=P$.from($.signature);if($.accessList!=null)Q.accessList=$.accessList;if($.authorizationList!=null)Q.authorizationList=$.authorizationList;if($.blobVersionedHashes!=null)Q.blobVersionedHashes=$.blobVersionedHashes;if($.kzg!=null)Q.kzg=$.kzg;if($.blobs!=null)Q.blobs=$.blobs;if($.hash!=null)h(Q.isSigned(),"unsigned transaction cannot define '.hash'","tx",$),h(Q.hash===$.hash,"hash mismatch","tx",$);if($.from!=null)h(Q.isSigned(),"unsigned transaction cannot define '.from'","tx",$),h(Q.from.toLowerCase()===($.from||"").toLowerCase(),"from mismatch","tx",$);return Q}}var MQ,cF,mF,uF,dF,lF,g6=131072;var BH=K0(()=>{d$();n$();d0();k6();f6();v6();MQ=BigInt(0),cF=BigInt(2),mF=BigInt(27),uF=BigInt(28),dF=BigInt(35),lF=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")});var mQ=K0(()=>{k6();f6();v6();BH()});function w8($){return h(typeof $.address==="string","invalid address for hashAuthorization","auth.address",$),e0(s0(["0x05",pQ([$.chainId!=null?z$($.chainId):"0x",n0($.address),$.nonce!=null?z$($.nonce):"0x"])]))}function y6($,Q){return QZ(w8($),Q)}var jH=K0(()=>{d$();n$();mQ();d0()});function BQ($){return e0(F$($))}var h6=K0(()=>{n$();d0()});function WR($){let Q=0;function X(){return $[Q++]<<8|$[Q++]}let Z=X(),Y=1,V=[0,1];for(let v=1;v<Z;v++)V.push(Y+=X());let G=X(),H=Q;Q+=G;let D=0,A=0;function T(){if(D==0)A=A<<8|$[Q++],D=8;return A>>--D&1}let F=31,M=2**F,I=M>>>1,P=I>>1,S=M-1,j=0;for(let v=0;v<F;v++)j=j<<1|T();let N=[],w=0,k=M;while(!0){let v=Math.floor(((j-w+1)*Y-1)/k),c=0,u=Z;while(u-c>1){let p=c+u>>>1;if(v<V[p])u=p;else c=p}if(c==0)break;N.push(c);let Z0=w+Math.floor(k*V[c]/Y),e=w+Math.floor(k*V[c+1]/Y)-1;while(((Z0^e)&I)==0)j=j<<1&S|T(),Z0=Z0<<1&S,e=e<<1&S|1;while(Z0&~e&P)j=j&I|j<<1&S>>>1|T(),Z0=Z0<<1^I,e=(e^I)<<1|I|1;w=Z0,k=1+e-Z0}let f=Z-4;return N.map((v)=>{switch(v-f){case 3:return f+65792+($[H++]<<16|$[H++]<<8|$[H++]);case 2:return f+256+($[H++]<<8|$[H++]);case 1:return f+$[H++];default:return v-1}})}function VR($){let Q=0;return()=>$[Q++]}function fH($){return VR(WR(UR($)))}function UR($){let Q=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((Y,V)=>Q[Y.charCodeAt(0)]=V);let X=$.length,Z=new Uint8Array(6*X>>3);for(let Y=0,V=0,G=0,H=0;Y<X;Y++)if(H=H<<6|Q[$.charCodeAt(Y)],G+=6,G>=8)Z[V++]=H>>(G-=8);return Z}function KR($){return $&1?~$>>1:$>>1}function OR($,Q){let X=Array($);for(let Z=0,Y=0;Z<$;Z++)X[Z]=Y+=KR(Q());return X}function VW($,Q=0){let X=[];while(!0){let Z=$(),Y=$();if(!Y)break;Q+=Z;for(let V=0;V<Y;V++)X.push(Q+V);Q+=Y+1}return X}function vH($){return UW(()=>{let Q=VW($);if(Q.length)return Q})}function gH($){let Q=[];while(!0){let X=$();if(X==0)break;Q.push(zR(X,$))}while(!0){let X=$()-1;if(X<0)break;Q.push(HR(X,$))}return Q.flat()}function UW($){let Q=[];while(!0){let X=$(Q.length);if(!X)break;Q.push(X)}return Q}function yH($,Q,X){let Z=Array($).fill().map(()=>[]);for(let Y=0;Y<Q;Y++)OR($,X).forEach((V,G)=>Z[G].push(V));return Z}function zR($,Q){let X=1+Q(),Z=Q(),Y=UW(Q);return yH(Y.length,1+$,Q).flatMap((G,H)=>{let[D,...A]=G;return Array(Y[H]).fill().map((T,F)=>{let M=F*Z;return[D+F*X,A.map((I)=>I+M)]})})}function HR($,Q){let X=1+Q();return yH(X,1+$,Q).map((Y)=>[Y[0],Y.slice(1)])}function LR($){let Q=[],X=VW($);return Y(Z([]),[]),Q;function Z(V){let G=$(),H=UW(()=>{let D=VW($).map((A)=>X[A]);if(D.length)return Z(D)});return{S:G,B:H,Q:V}}function Y({S:V,B:G},H,D){if(V&4&&D===H[H.length-1])return;if(V&2)D=H[H.length-1];if(V&1)Q.push(H);for(let A of G)for(let T of A.Q)Y(A,[...H,T],D)}}function DR($){return $.toString(16).toUpperCase().padStart(2,"0")}function hH($){return`{${DR($)}}`}function qR($){let Q=[];for(let X=0,Z=$.length;X<Z;){let Y=$.codePointAt(X);X+=Y<65536?1:2,Q.push(Y)}return Q}function k8($){let X=$.length;if(X<4096)return String.fromCodePoint(...$);let Z=[];for(let Y=0;Y<X;)Z.push(String.fromCodePoint(...$.slice(Y,Y+=4096)));return Z.join("")}function MR($,Q){let X=$.length,Z=X-Q.length;for(let Y=0;Z==0&&Y<X;Y++)Z=$[Y]-Q[Y];return Z}function GW($){return $>>24&255}function cH($){return $&16777215}function IR(){let $=fH(AR);p6=new Map(vH($).flatMap((Q,X)=>Q.map((Z)=>[Z,X+1<<24]))),_H=new Set(VW($)),c6=new Map,H1=new Map;for(let[Q,X]of gH($)){if(!_H.has(Q)&&X.length==2){let[Z,Y]=X,V=H1.get(Z);if(!V)V=new Map,H1.set(Z,V);V.set(Y,Q)}c6.set(Q,X.reverse())}}function mH($){return $>=KW&&$<TR}function PR($,Q){if($>=L1&&$<FR&&Q>=D1&&Q<RR)return KW+($-L1)*M1+(Q-D1)*f8;else if(mH($)&&Q>q1&&Q<ER&&($-KW)%f8==0)return $+(Q-q1);else{let X=H1.get($);if(X){if(X=X.get(Q),X)return X}return-1}}function uH($){if(!p6)IR();let Q=[],X=[],Z=!1;function Y(V){let G=p6.get(V);if(G)Z=!0,V|=G;Q.push(V)}for(let V of $)while(!0){if(V<128)Q.push(V);else if(mH(V)){let G=V-KW,H=G/M1|0,D=G%M1/f8|0,A=G%f8;if(Y(L1+H),Y(D1+D),A>0)Y(q1+A)}else{let G=c6.get(V);if(G)X.push(...G);else Y(V)}if(!X.length)break;V=X.pop()}if(Z&&Q.length>1){let V=GW(Q[0]);for(let G=1;G<Q.length;G++){let H=GW(Q[G]);if(H==0||V<=H){V=H;continue}let D=G-1;while(!0){let A=Q[D+1];if(Q[D+1]=Q[D],Q[D]=A,!D)break;if(V=GW(Q[--D]),V<=H)break}V=GW(Q[G])}}return Q}function SR($){let Q=[],X=[],Z=-1,Y=0;for(let V of $){let G=GW(V),H=cH(V);if(Z==-1)if(G==0)Z=H;else Q.push(H);else if(Y>0&&Y>=G){if(G==0)Q.push(Z,...X),X.length=0,Z=H;else X.push(H);Y=G}else{let D=PR(Z,H);if(D>=0)Z=D;else if(Y==0&&G==0)Q.push(Z),Z=H;else X.push(H),Y=G}}if(Z>=0)Q.push(Z,...X);return Q}function dH($){return uH($).map(cH)}function BR($){return SR(uH($))}function OW($,Q){return $.P.has(Q)||$.Q.has(Q)}function l6(){if(m6)return;let $=fH(GR),Q=()=>VW($),X=()=>new Set(Q()),Z=(T,F)=>F.forEach((M)=>T.add(M));m6=new Map(gH($)),iH=X(),BJ=Q(),u6=new Set(Q().map((T)=>BJ[T])),BJ=new Set(BJ),rH=X(),jR=X();let Y=vH($),V=$(),G=()=>{let T=new Set;return Q().forEach((F)=>Z(T,Y[F])),Z(T,Q()),T};x8=UW((T)=>{let F=UW($).map((M)=>M+96);if(F.length){let M=T>=V;if(F[0]-=32,F=k8(F),M)F=`Restricted[${F}]`;let I=G(),P=G(),S=!$();return{N:F,P:I,Q:P,M:S,R:M}}}),b6=X(),_8=new Map;let H=Q().concat(A1(b6)).sort((T,F)=>T-F);H.forEach((T,F)=>{let M=$(),I=H[F]=M?H[F-M]:{V:[],M:new Map};if(I.V.push(T),!b6.has(T))_8.set(T,I)});for(let{V:T,M:F}of new Set(_8.values())){let M=[];for(let P of T){let S=x8.filter((N)=>OW(N,P)),j=M.find(({G:N})=>S.some((w)=>N.has(w)));if(!j)j={G:new Set,V:[]},M.push(j);j.V.push(P),Z(j.G,S)}let I=M.flatMap((P)=>A1(P.G));for(let{G:P,V:S}of M){let j=new Set(I.filter((N)=>!P.has(N)));for(let N of S)F.set(N,j)}}SJ=new Set;let D=new Set,A=(T)=>SJ.has(T)?D.add(T):SJ.add(T);for(let T of x8){for(let F of T.P)A(F);for(let F of T.Q)A(F)}for(let T of SJ)if(!_8.has(T)&&!D.has(T))_8.set(T,nH);Z(SJ,dH(SJ)),kH=LR($).map((T)=>sH.from(T)).sort(MR),d6=new Map;for(let T of kH){let F=[d6];for(let M of T){let I=F.map((P)=>{let S=P.get(M);if(!S)S=new Map,P.set(M,S);return S});if(M===oH)F.push(...I);else F=I}for(let M of F)M.V=T}}function o6($){return(aH($)?"":`${n6(C1([$]))} `)+hH($)}function n6($){return`"${$}"‎`}function NR($){if($.length>=4&&$[2]==xH&&$[3]==xH)throw new Error(`invalid label extension: "${k8($.slice(0,4))}"`)}function wR($){for(let X=$.lastIndexOf(95);X>0;)if($[--X]!==95)throw new Error("underscore allowed only at start")}function _R($){let Q=$[0],X=NH.get(Q);if(X)throw WW(`leading ${X}`);let Z=$.length,Y=-1;for(let V=1;V<Z;V++){Q=$[V];let G=NH.get(Q);if(G){if(Y==V)throw WW(`${X} + ${G}`);Y=V+1,X=G}}if(Y==Z)throw WW(`trailing ${X}`)}function C1($,Q=1/0,X=hH){let Z=[];if(xR($[0]))Z.push("◌");if($.length>Q)Q>>=1,$=[...$.slice(0,Q),8230,...$.slice(-Q)];let Y=0,V=$.length;for(let G=0;G<V;G++){let H=$[G];if(aH(H))Z.push(k8($.slice(Y,G))),Z.push(X(H)),Y=G+1}return Z.push(k8($.slice(Y,V))),Z.join("")}function xR($){return l6(),BJ.has($)}function aH($){return l6(),rH.has($)}function tH($){return gR(kR($,BR,bR))}function kR($,Q,X){if(!$)return[];l6();let Z=0;return $.split(lH).map((Y)=>{let V=qR(Y),G={input:V,offset:Z};Z+=V.length+1;try{let H=G.tokens=hR(V,Q,X),D=H.length,A;if(!D)throw new Error("empty label");let T=G.output=H.flat();if(wR(T),!(G.emoji=D>1||H[0].is_emoji)&&T.every((M)=>M<128))NR(T),A="ASCII";else{let M=H.flatMap((I)=>I.is_emoji?[]:I);if(!M.length)A="Emoji";else{if(BJ.has(T[0]))throw WW("leading combining mark");for(let S=1;S<D;S++){let j=H[S];if(!j.is_emoji&&BJ.has(j[0]))throw WW(`emoji + combining mark: "${k8(H[S-1])} + ${C1([j[0]])}"`)}_R(T);let I=A1(new Set(M)),[P]=vR(I);yR(P,M),fR(P,I),A=P.N}}G.type=A}catch(H){G.error=H}return G})}function fR($,Q){let X,Z=[];for(let Y of Q){let V=_8.get(Y);if(V===nH)return;if(V){let G=V.M.get(Y);if(X=X?X.filter((H)=>G.has(H)):A1(G),!X.length)return}else Z.push(Y)}if(X){for(let Y of X)if(Z.every((V)=>OW(Y,V)))throw new Error(`whole-script confusable: ${$.N}/${Y.N}`)}}function vR($){let Q=x8;for(let X of $){let Z=Q.filter((Y)=>OW(Y,X));if(!Z.length)if(!x8.some((Y)=>OW(Y,X)))throw eH(X);else throw $2(Q[0],X);if(Q=Z,Z.length==1)break}return Q}function gR($){return $.map(({input:Q,error:X,output:Z})=>{if(X){let Y=X.message;throw new Error($.length==1?Y:`Invalid label ${n6(C1(Q,63))}: ${Y}`)}return k8(Z)}).join(lH)}function eH($){return new Error(`disallowed character: ${o6($)}`)}function $2($,Q){let X=o6(Q),Z=x8.find((Y)=>Y.P.has(Q));if(Z)X=`${Z.N} ${X}`;return new Error(`illegal mixture: ${$.N} + ${X}`)}function WW($){return new Error(`illegal placement: ${$}`)}function yR($,Q){for(let X of Q)if(!OW($,X))throw $2($,X);if($.M){let X=dH(Q);for(let Z=1,Y=X.length;Z<Y;Z++)if(u6.has(X[Z])){let V=Z+1;for(let G;V<Y&&u6.has(G=X[V]);V++)for(let H=Z;H<V;H++)if(X[H]==G)throw new Error(`duplicate non-spacing marks: ${o6(G)}`);if(V-Z>wH)throw new Error(`excessive non-spacing marks: ${n6(C1(X.slice(Z-1,V)))} (${V-Z}/${wH})`);Z=V}}}function hR($,Q,X){let Z=[],Y=[];$=$.slice().reverse();while($.length){let V=pR($);if(V){if(Y.length)Z.push(Q(Y)),Y=[];Z.push(X(V))}else{let G=$.pop();if(SJ.has(G))Y.push(G);else{let H=m6.get(G);if(H)Y.push(...H);else if(!iH.has(G))throw eH(G)}}}if(Y.length)Z.push(Q(Y));return Z}function bR($){return $.filter((Q)=>Q!=oH)}function pR($,Q){let X=d6,Z,Y=$.length;while(Y){if(X=X.get($[--Y]),!X)break;let{V}=X;if(V){if(Z=V,Q)Q.push(...$.slice(Y).reverse());$.length=Y}}return Z}var GR="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI",NH,wH=4,AR="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g",KW=44032,L1=4352,D1=4449,q1=4519,bH=19,pH=21,f8=28,M1,CR,TR,FR,RR,ER,p6,_H,c6,H1,xH=45,lH=".",oH=65039,nH=1,A1=($)=>Array.from($),sH,m6,iH,BJ,u6,rH,jR,x8,b6,_8,SJ,kH,d6;var Q2=K0(()=>{NH=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]);M1=pH*f8,CR=bH*M1,TR=KW+CR,FR=L1+bH,RR=D1+pH,ER=q1+f8;sH=class sH extends Array{get is_emoji(){return!0}}});function X2($){return h($.length!==0,"invalid ENS name; empty component","comp",$),$}function s6($){let Q=F$(T1($)),X=[];if($.length===0)return X;let Z=0;for(let Y=0;Y<Q.length;Y++)if(Q[Y]===46)X.push(X2(Q.slice(Z,Y))),Z=Y+1;return h(Z<Q.length,"invalid ENS name; empty component","name",$),X.push(X2(Q.slice(Z))),X}function T1($){try{if($.length===0)throw new Error("empty label");return tH($)}catch(Q){h(!1,`invalid ENS name (${Q.message})`,"name",$)}}function i6($){try{return s6($).length!==0}catch(Q){}return!1}function SY($){h(typeof $==="string","invalid ENS name; not a string","name",$),h($.length,"invalid ENS name (empty label)","name",$);let Q=Z2,X=s6($);while(X.length)Q=e0(s0([Q,e0(X.pop())]));return O0(Q)}function zW($,Q){let X=Q!=null?Q:63;return h(X<=255,"DNS encoded label cannot exceed 255","length",X),O0(s0(s6($).map((Z)=>{h(Z.length<=X,`label ${JSON.stringify($)} exceeds ${X} bytes`,"name",$);let Y=new Uint8Array(Z.length+1);return Y.set(Z,1),Y[0]=Y.length-1,Y})))+"00"}var Z2;var Y2=K0(()=>{n$();d0();Q2();Z2=new Uint8Array(32);Z2.fill(0)});function v8($){if(typeof $==="string")$=F$($);return e0(s0([F$(JW),F$(String($.length)),$]))}function r6($,Q){let X=v8($);return QZ(X,Q)}var J2=K0(()=>{n$();P8();mQ();d0()});function G2($,Q,X){switch($){case"address":if(X)return M0(c$(Q,32));return M0(n0(Q));case"string":return F$(Q);case"bytes":return M0(Q);case"bool":if(Q=Q?"0x01":"0x00",X)return M0(c$(Q,32));return M0(Q)}let Z=$.match(mR);if(Z){let Y=Z[1]==="int",V=parseInt(Z[2]||"256");if(h((!Z[2]||Z[2]===String(V))&&V%8===0&&V!==0&&V<=256,"invalid number type","type",$),X)V=256;if(Y)Q=mZ(Q,V);return M0(c$(z$(Q),V/8))}if(Z=$.match(cR),Z){let Y=parseInt(Z[1]);if(h(String(Y)===Z[1]&&Y!==0&&Y<=32,"invalid bytes type","type",$),h(aQ(Q)===Y,`invalid value for ${$}`,"value",Q),X)return M0(pZ(Q,32));return Q}if(Z=$.match(uR),Z&&Array.isArray(Q)){let Y=Z[1],V=parseInt(Z[2]||String(Q.length));h(V===Q.length,`invalid array length for ${$}`,"value",Q);let G=[];return Q.forEach(function(H){G.push(G2(Y,H,!0))}),M0(s0(G))}h(!1,"invalid type","type",$)}function HW($,Q){h($.length===Q.length,"wrong number of values; expected ${ types.length }","values",Q);let X=[];return $.forEach(function(Z,Y){X.push(G2(Z,Q[Y]))}),O0(s0(X))}function a6($,Q){return e0(HW($,Q))}function t6($,Q){return m$(HW($,Q))}var cR,mR,uR;var W2=K0(()=>{d$();n$();d0();cR=new RegExp("^bytes([0-9]+)$"),mR=new RegExp("^(u?int)([0-9]*)$"),uR=new RegExp("^(.*)\\[([0-9]*)\\]$")});function oR($){let Q=M0($),X=Q.length%32;if(X)return s0([Q,O2.slice(X)]);return O0(Q)}function U2($){return function(Q){return h(typeof Q==="string",`invalid domain value for ${JSON.stringify($)}`,`domain.${$}`,Q),Q}}function $9($){{let Q=$.match(/^(u?)int(\d+)$/);if(Q){let X=Q[1]==="",Z=parseInt(Q[2]);h(Z%8===0&&Z!==0&&Z<=256&&Q[2]===String(Z),"invalid numeric width","type",$);let Y=UX(lR,X?Z-1:Z),V=X?(Y+H2)*dR:z2;return function(G){let H=c0(G,"value");return h(H>=V&&H<=Y,`value out-of-bounds for ${$}`,"value",H),qQ(X?mZ(H,256):H,32)}}}{let Q=$.match(/^bytes(\d+)$/);if(Q){let X=parseInt(Q[1]);return h(X!==0&&X<=32&&Q[1]===String(X),"invalid bytes width","type",$),function(Z){let Y=M0(Z);return h(Y.length===X,`invalid length for ${$}`,"value",Z),oR(Z)}}}switch($){case"address":return function(Q){return c$(n0(Q),32)};case"bool":return function(Q){return!Q?sR:nR};case"bytes":return function(Q){return e0(Q)};case"string":return function(Q){return BQ(Q)}}return null}function K2($,Q){return`${$}(${Q.map(({name:X,type:Z})=>Z+" "+X).join(",")})`}function F1($){let Q=$.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);if(Q)return{base:Q[1],index:Q[2]+Q[4],array:{base:Q[1],prefix:Q[1]+Q[2],count:Q[5]?parseInt(Q[5]):-1}};return{base:$}}class l${primaryType;#$;get types(){return JSON.parse(this.#$)}#Q;#X;constructor($){this.#Q=new Map,this.#X=new Map;let Q=new Map,X=new Map,Z=new Map,Y={};Object.keys($).forEach((H)=>{Y[H]=$[H].map(({name:D,type:A})=>{let{base:T,index:F}=F1(A);if(T==="int"&&!$.int)T="int256";if(T==="uint"&&!$.uint)T="uint256";return{name:D,type:T+(F||"")}}),Q.set(H,new Set),X.set(H,[]),Z.set(H,new Set)}),this.#$=JSON.stringify(Y);for(let H in Y){let D=new Set;for(let A of Y[H]){h(!D.has(A.name),`duplicate variable name ${JSON.stringify(A.name)} in ${JSON.stringify(H)}`,"types",$),D.add(A.name);let T=F1(A.type).base;if(h(T!==H,`circular type reference to ${JSON.stringify(T)}`,"types",$),$9(T))continue;h(X.has(T),`unknown type ${JSON.stringify(T)}`,"types",$),X.get(T).push(H),Q.get(H).add(T)}}let V=Array.from(X.keys()).filter((H)=>X.get(H).length===0);h(V.length!==0,"missing primary type","types",$),h(V.length===1,`ambiguous primary types or unused types: ${V.map((H)=>JSON.stringify(H)).join(", ")}`,"types",$),P0(this,{primaryType:V[0]});function G(H,D){h(!D.has(H),`circular type reference to ${JSON.stringify(H)}`,"types",$),D.add(H);for(let A of Q.get(H)){if(!X.has(A))continue;G(A,D);for(let T of D)Z.get(T).add(A)}D.delete(H)}G(this.primaryType,new Set);for(let[H,D]of Z){let A=Array.from(D);A.sort(),this.#Q.set(H,K2(H,Y[H])+A.map((T)=>K2(T,Y[T])).join(""))}}getEncoder($){let Q=this.#X.get($);if(!Q)Q=this.#Z($),this.#X.set($,Q);return Q}#Z($){{let Z=$9($);if(Z)return Z}let Q=F1($).array;if(Q){let Z=Q.prefix,Y=this.getEncoder(Z);return(V)=>{h(Q.count===-1||Q.count===V.length,`array length mismatch; expected length ${Q.count}`,"value",V);let G=V.map(Y);if(this.#Q.has(Z))G=G.map(e0);return e0(s0(G))}}let X=this.types[$];if(X){let Z=BQ(this.#Q.get($));return(Y)=>{let V=X.map(({name:G,type:H})=>{let D=this.getEncoder(H)(Y[G]);if(this.#Q.has(H))return e0(D);return D});return V.unshift(Z),s0(V)}}h(!1,`unknown type: ${$}`,"type",$)}encodeType($){let Q=this.#Q.get($);return h(Q,`unknown type: ${JSON.stringify($)}`,"name",$),Q}encodeData($,Q){return this.getEncoder($)(Q)}hashStruct($,Q){return e0(this.encodeData($,Q))}encode($){return this.encodeData(this.primaryType,$)}hash($){return this.hashStruct(this.primaryType,$)}_visit($,Q,X){if($9($))return X($,Q);let Z=F1($).array;if(Z)return h(Z.count===-1||Z.count===Q.length,`array length mismatch; expected length ${Z.count}`,"value",Q),Q.map((V)=>this._visit(Z.prefix,V,X));let Y=this.types[$];if(Y)return Y.reduce((V,{name:G,type:H})=>{return V[G]=this._visit(H,Q[G],X),V},{});h(!1,`unknown type: ${$}`,"type",$)}visit($,Q){return this._visit(this.primaryType,$,Q)}static from($){return new l$($)}static getPrimaryType($){return l$.from($).primaryType}static hashStruct($,Q,X){return l$.from(Q).hashStruct($,X)}static hashDomain($){let Q=[];for(let X in $){if($[X]==null)continue;let Z=V2[X];h(Z,`invalid typed-data domain key: ${JSON.stringify(X)}`,"domain",$),Q.push({name:X,type:Z})}return Q.sort((X,Z)=>{return e6.indexOf(X.name)-e6.indexOf(Z.name)}),l$.hashStruct("EIP712Domain",{EIP712Domain:Q},$)}static encode($,Q,X){return s0(["0x1901",l$.hashDomain($),l$.from(Q).hash(X)])}static hash($,Q,X){return e0(l$.encode($,Q,X))}static async resolveNames($,Q,X,Z){$=Object.assign({},$);for(let G in $)if($[G]==null)delete $[G];let Y={};if($.verifyingContract&&!Q$($.verifyingContract,20))Y[$.verifyingContract]="0x";let V=l$.from(Q);V.visit(X,(G,H)=>{if(G==="address"&&!Q$(H,20))Y[H]="0x";return H});for(let G in Y)Y[G]=await Z(G);if($.verifyingContract&&Y[$.verifyingContract])$.verifyingContract=Y[$.verifyingContract];return X=V.visit(X,(G,H)=>{if(G==="address"&&Y[H])return Y[H];return H}),{domain:$,value:X}}static getPayload($,Q,X){l$.hashDomain($);let Z={},Y=[];e6.forEach((H)=>{let D=$[H];if(D==null)return;Z[H]=iR[H](D),Y.push({name:H,type:V2[H]})});let V=l$.from(Q);Q=V.types;let G=Object.assign({},Q);return h(G.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",Q),G.EIP712Domain=Y,V.encode(X),{types:G,domain:Z,primaryType:V.primaryType,message:V.visit(X,(H,D)=>{if(H.match(/^bytes(\d*)/))return O0(M0(D));if(H.match(/^u?int/))return c0(D).toString();switch(H){case"address":return D.toLowerCase();case"bool":return!!D;case"string":return h(typeof D==="string","invalid string","value",D),D}h(!1,"unsupported type","type",H)})}}}function Q9($,Q,X,Z){return QZ(l$.hash($,Q,X),Z)}var O2,dR,z2,H2,lR,nR,sR,V2,e6,iR;var L2=K0(()=>{d$();n$();mQ();d0();h6();O2=new Uint8Array(32);O2.fill(0);dR=BigInt(-1),z2=BigInt(0),H2=BigInt(1),lR=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");nR=qQ(H2,32),sR=qQ(z2,32),V2={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},e6=["name","version","chainId","verifyingContract","salt"];iR={name:U2("name"),version:U2("version"),chainId:function($){let Q=c0($,"domain.chainId");if(h(Q>=0,"invalid chain ID","domain.chainId",$),Number.isSafeInteger(Q))return Number(Q);return OQ(Q)},verifyingContract:function($){try{return n0($).toLowerCase()}catch(Q){}h(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",$)},salt:function($){let Q=M0($,"domain.salt");return h(Q.length===32,'invalid domain value "salt"',"domain.salt",$),O0(Q)}}});var CZ=K0(()=>{jH();h6();Y2();J2();W2();L2()});function uQ($){let Q=new Set;return $.forEach((X)=>Q.add(X)),Object.freeze(Q)}class wX{#$;#Q;get offset(){return this.#$}get length(){return this.#Q.length-this.#$}constructor($){this.#$=0,this.#Q=$.slice()}clone(){return new wX(this.#Q)}reset(){this.#$=0}#X($=0,Q=0){return new wX(this.#Q.slice($,Q).map((X)=>{return Object.freeze(Object.assign({},X,{match:X.match-$,linkBack:X.linkBack-$,linkNext:X.linkNext-$}))}))}popKeyword($){let Q=this.peek();if(Q.type!=="KEYWORD"||!$.has(Q.text))throw new Error(`expected keyword ${Q.text}`);return this.pop().text}popType($){if(this.peek().type!==$){let Q=this.peek();throw new Error(`expected ${$}; got ${Q.type} ${JSON.stringify(Q.text)}`)}return this.pop().text}popParen(){let $=this.peek();if($.type!=="OPEN_PAREN")throw new Error("bad start");let Q=this.#X(this.#$+1,$.match+1);return this.#$=$.match+1,Q}popParams(){let $=this.peek();if($.type!=="OPEN_PAREN")throw new Error("bad start");let Q=[];while(this.#$<$.match-1){let X=this.peek().linkNext;Q.push(this.#X(this.#$+1,X)),this.#$=X}return this.#$=$.match+1,Q}peek(){if(this.#$>=this.#Q.length)throw new Error("out-of-bounds");return this.#Q[this.#$]}peekKeyword($){let Q=this.peekType("KEYWORD");return Q!=null&&$.has(Q)?Q:null}peekType($){if(this.length===0)return null;let Q=this.peek();return Q.type===$?Q.text:null}pop(){let $=this.peek();return this.#$++,$}toString(){let $=[];for(let Q=this.#$;Q<this.#Q.length;Q++){let X=this.#Q[Q];$.push(`${X.type}:${X.text}`)}return`<TokenString ${$.join(" ")}>`}}function BY($){let Q=[],X=(G)=>{let H=V<$.length?JSON.stringify($[V]):"$EOI";throw new Error(`invalid token ${H} at ${V}: ${G}`)},Z=[],Y=[],V=0;while(V<$.length){let G=$.substring(V),H=G.match(YE);if(H)V+=H[1].length,G=$.substring(V);let D={depth:Z.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:V,value:-1};Q.push(D);let A=ZE[G[0]]||"";if(A){if(D.type=A,D.text=G[0],V++,A==="OPEN_PAREN")Z.push(Q.length-1),Y.push(Q.length-1);else if(A=="CLOSE_PAREN"){if(Z.length===0)X("no matching open bracket");D.match=Z.pop(),Q[D.match].match=Q.length-1,D.depth--,D.linkBack=Y.pop(),Q[D.linkBack].linkNext=Q.length-1}else if(A==="COMMA")D.linkBack=Y.pop(),Q[D.linkBack].linkNext=Q.length-1,Y.push(Q.length-1);else if(A==="OPEN_BRACKET")D.type="BRACKET";else if(A==="CLOSE_BRACKET"){let T=Q.pop().text;if(Q.length>0&&Q[Q.length-1].type==="NUMBER"){let F=Q.pop().text;T=F+T,Q[Q.length-1].value=o0(F)}if(Q.length===0||Q[Q.length-1].type!=="BRACKET")throw new Error("missing opening bracket");Q[Q.length-1].text+=T}continue}if(H=G.match(GE),H){if(D.text=H[1],V+=D.text.length,XE.has(D.text)){D.type="KEYWORD";continue}if(D.text.match(N2)){D.type="TYPE";continue}D.type="ID";continue}if(H=G.match(JE),H){D.text=H[1],D.type="NUMBER",V+=D.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(G[0])} at position ${V}`)}return new wX(Q.map((G)=>Object.freeze(G)))}function D2($,Q){let X=[];for(let Z in Q.keys())if($.has(Z))X.push(Z);if(X.length>1)throw new Error(`conflicting types: ${X.join(", ")}`)}function R1($,Q){if(Q.peekKeyword(S2)){let X=Q.pop().text;if(X!==$)throw new Error(`expected ${$}, got ${X}`)}return Q.popType("ID")}function rZ($,Q){let X=new Set;while(!0){let Z=$.peekType("KEYWORD");if(Z==null||Q&&!Q.has(Z))break;if($.pop(),X.has(Z))throw new Error(`duplicate keywords: ${JSON.stringify(Z)}`);X.add(Z)}return Object.freeze(X)}function w2($){let Q=rZ($,tR);if(D2(Q,uQ("constant payable nonpayable".split(" "))),D2(Q,uQ("pure view payable nonpayable".split(" "))),Q.has("view"))return"view";if(Q.has("pure"))return"pure";if(Q.has("payable"))return"payable";if(Q.has("nonpayable"))return"nonpayable";if(Q.has("constant"))return"view";return"nonpayable"}function iZ($,Q){return $.popParams().map((X)=>R$.from(X,Q))}function _2($){if($.peekType("AT")){if($.pop(),$.peekType("NUMBER"))return c0($.pop().text);throw new Error("invalid gas")}return null}function jJ($){if($.length)throw new Error(`unexpected tokens at offset ${$.offset}: ${$.toString()}`)}function q2($){let Q=$.match(N2);if(h(Q,"invalid type","type",$),$==="uint")return"uint256";if($==="int")return"int256";if(Q[2]){let X=parseInt(Q[2]);h(X!==0&&X<=32,"invalid bytes length","type",$)}else if(Q[3]){let X=parseInt(Q[3]);h(X!==0&&X<=256&&X%8===0,"invalid numeric width","type",$)}return $}class R${name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor($,Q,X,Z,Y,V,G,H){if(IQ($,x$,"ParamType"),Object.defineProperty(this,QX,{value:M2}),V)V=Object.freeze(V.slice());if(Z==="array"){if(G==null||H==null)throw new Error("")}else if(G!=null||H!=null)throw new Error("");if(Z==="tuple"){if(V==null)throw new Error("")}else if(V!=null)throw new Error("");P0(this,{name:Q,type:X,baseType:Z,indexed:Y,components:V,arrayLength:G,arrayChildren:H})}format($){if($==null)$="sighash";if($==="json"){let X=this.name||"";if(this.isArray()){let Y=JSON.parse(this.arrayChildren.format("json"));return Y.name=X,Y.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(Y)}let Z={type:this.baseType==="tuple"?"tuple":this.type,name:X};if(typeof this.indexed==="boolean")Z.indexed=this.indexed;if(this.isTuple())Z.components=this.components.map((Y)=>JSON.parse(Y.format($)));return JSON.stringify(Z)}let Q="";if(this.isArray())Q+=this.arrayChildren.format($),Q+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`;else if(this.isTuple())Q+="("+this.components.map((X)=>X.format($)).join($==="full"?", ":",")+")";else Q+=this.type;if($!=="sighash"){if(this.indexed===!0)Q+=" indexed";if($==="full"&&this.name)Q+=" "+this.name}return Q}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk($,Q){if(this.isArray()){if(!Array.isArray($))throw new Error("invalid array value");if(this.arrayLength!==-1&&$.length!==this.arrayLength)throw new Error("array is wrong length");let X=this;return $.map((Z)=>X.arrayChildren.walk(Z,Q))}if(this.isTuple()){if(!Array.isArray($))throw new Error("invalid tuple value");if($.length!==this.components.length)throw new Error("array is wrong length");let X=this;return $.map((Z,Y)=>X.components[Y].walk(Z,Q))}return Q(this.type,$)}#$($,Q,X,Z){if(this.isArray()){if(!Array.isArray(Q))throw new Error("invalid array value");if(this.arrayLength!==-1&&Q.length!==this.arrayLength)throw new Error("array is wrong length");let V=this.arrayChildren,G=Q.slice();G.forEach((H,D)=>{V.#$($,H,X,(A)=>{G[D]=A})}),Z(G);return}if(this.isTuple()){let V=this.components,G;if(Array.isArray(Q))G=Q.slice();else{if(Q==null||typeof Q!=="object")throw new Error("invalid tuple value");G=V.map((H)=>{if(!H.name)throw new Error("cannot use object value with unnamed components");if(!(H.name in Q))throw new Error(`missing value for component ${H.name}`);return Q[H.name]})}if(G.length!==this.components.length)throw new Error("array is wrong length");G.forEach((H,D)=>{V[D].#$($,H,X,(A)=>{G[D]=A})}),Z(G);return}let Y=X(this.type,Q);if(Y.then)$.push(async function(){Z(await Y)}());else Z(Y)}async walkAsync($,Q){let X=[],Z=[$];if(this.#$(X,$,Q,(Y)=>{Z[0]=Y}),X.length)await Promise.all(X);return Z[0]}static from($,Q){if(R$.isParamType($))return $;if(typeof $==="string")try{return R$.from(BY($),Q)}catch(G){h(!1,"invalid param type","obj",$)}else if($ instanceof wX){let G="",H="",D=null;if(rZ($,uQ(["tuple"])).has("tuple")||$.peekType("OPEN_PAREN"))H="tuple",D=$.popParams().map((P)=>R$.from(P)),G=`tuple(${D.map((P)=>P.format()).join(",")})`;else G=q2($.popType("TYPE")),H=G;let A=null,T=null;while($.length&&$.peekType("BRACKET")){let P=$.pop();A=new R$(x$,"",G,H,null,D,T,A),T=P.value,G+=P.text,H="array",D=null}let F=null;if(rZ($,eR).has("indexed")){if(!Q)throw new Error("");F=!0}let I=$.peekType("ID")?$.pop().text:"";if($.length)throw new Error("leftover tokens");return new R$(x$,I,G,H,F,D,T,A)}let X=$.name;h(!X||typeof X==="string"&&X.match(j2),"invalid name","obj.name",X);let Z=$.indexed;if(Z!=null)h(Q,"parameter cannot be indexed","obj.indexed",$.indexed),Z=!!Z;let Y=$.type,V=Y.match(WE);if(V){let G=parseInt(V[2]||"-1"),H=R$.from({type:V[1],components:$.components});return new R$(x$,X||"",Y,"array",Z,null,G,H)}if(Y==="tuple"||Y.startsWith("tuple(")||Y.startsWith("(")){let G=$.components!=null?$.components.map((D)=>R$.from(D)):null;return new R$(x$,X||"",Y,"tuple",Z,G,null,null)}return Y=q2($.type),new R$(x$,X||"",Y,Y,Z,null,null,null)}static isParamType($){return $&&$[QX]===M2}}class XZ{type;inputs;constructor($,Q,X){IQ($,x$,"Fragment"),X=Object.freeze(X.slice()),P0(this,{type:Q,inputs:X})}static from($){if(typeof $==="string"){try{XZ.from(JSON.parse($))}catch(Q){}return XZ.from(BY($))}if($ instanceof wX)switch($.peekKeyword(S2)){case"constructor":return HX.from($);case"error":return AQ.from($);case"event":return eQ.from($);case"fallback":case"receive":return NX.from($);case"function":return $X.from($);case"struct":return TZ.from($)}else if(typeof $==="object"){switch($.type){case"constructor":return HX.from($);case"error":return AQ.from($);case"event":return eQ.from($);case"fallback":case"receive":return NX.from($);case"function":return $X.from($);case"struct":return TZ.from($)}J0(!1,`unsupported type: ${$.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}h(!1,"unsupported frgament object","obj",$)}static isConstructor($){return HX.isFragment($)}static isError($){return AQ.isFragment($)}static isEvent($){return eQ.isFragment($)}static isFunction($){return $X.isFragment($)}static isStruct($){return TZ.isFragment($)}}function LW($,Q){return"("+Q.map((X)=>X.format($)).join($==="full"?", ":",")+")"}var rR="external public payable override",aR,I2="constant external internal payable private public pure view override",tR,P2="constructor error event fallback function receive struct",S2,B2="calldata memory storage payable indexed",eR,$E="tuple returns",QE,XE,ZE,YE,JE,GE,j2,N2,WE,x$,QX,M2="_ParamTypeInternal",A2="_ErrorInternal",C2="_EventInternal",T2="_ConstructorInternal",F2="_FallbackInternal",R2="_FunctionInternal",E2="_StructInternal",jY,AQ,eQ,HX,NX,$X,TZ;var E1=K0(()=>{d0();CZ();aR=uQ(rR.split(" ")),tR=uQ(I2.split(" ")),S2=uQ(P2.split(" ")),eR=uQ(B2.split(" ")),QE=[P2,B2,$E,I2].join(" "),XE=uQ(QE.split(" ")),ZE={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},YE=new RegExp("^(\\s*)"),JE=new RegExp("^([0-9]+)"),GE=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),j2=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),N2=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");WE=new RegExp(/^(.*)\[([0-9]*)\]$/);x$={},QX=Symbol.for("_ethers_internal");jY=class jY extends XZ{name;constructor($,Q,X,Z){super($,Q,Z);h(typeof X==="string"&&X.match(j2),"invalid identifier","name",X),Z=Object.freeze(Z.slice()),P0(this,{name:X})}};AQ=class AQ extends jY{constructor($,Q,X){super($,"error",Q,X);Object.defineProperty(this,QX,{value:A2})}get selector(){return BQ(this.format("sighash")).substring(0,10)}format($){if($==null)$="sighash";if($==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((X)=>JSON.parse(X.format($)))});let Q=[];if($!=="sighash")Q.push("error");return Q.push(this.name+LW($,this.inputs)),Q.join(" ")}static from($){if(AQ.isFragment($))return $;if(typeof $==="string")return AQ.from(BY($));else if($ instanceof wX){let Q=R1("error",$),X=iZ($);return jJ($),new AQ(x$,Q,X)}return new AQ(x$,$.name,$.inputs?$.inputs.map(R$.from):[])}static isFragment($){return $&&$[QX]===A2}};eQ=class eQ extends jY{anonymous;constructor($,Q,X,Z){super($,"event",Q,X);Object.defineProperty(this,QX,{value:C2}),P0(this,{anonymous:Z})}get topicHash(){return BQ(this.format("sighash"))}format($){if($==null)$="sighash";if($==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((X)=>JSON.parse(X.format($)))});let Q=[];if($!=="sighash")Q.push("event");if(Q.push(this.name+LW($,this.inputs)),$!=="sighash"&&this.anonymous)Q.push("anonymous");return Q.join(" ")}static getTopicHash($,Q){return Q=(Q||[]).map((Z)=>R$.from(Z)),new eQ(x$,$,Q,!1).topicHash}static from($){if(eQ.isFragment($))return $;if(typeof $==="string")try{return eQ.from(BY($))}catch(Q){h(!1,"invalid event fragment","obj",$)}else if($ instanceof wX){let Q=R1("event",$),X=iZ($,!0),Z=!!rZ($,uQ(["anonymous"])).has("anonymous");return jJ($),new eQ(x$,Q,X,Z)}return new eQ(x$,$.name,$.inputs?$.inputs.map((Q)=>R$.from(Q,!0)):[],!!$.anonymous)}static isFragment($){return $&&$[QX]===C2}};HX=class HX extends XZ{payable;gas;constructor($,Q,X,Z,Y){super($,Q,X);Object.defineProperty(this,QX,{value:T2}),P0(this,{payable:Z,gas:Y})}format($){if(J0($!=null&&$!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),$==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map((X)=>JSON.parse(X.format($)))});let Q=[`constructor${LW($,this.inputs)}`];if(this.payable)Q.push("payable");if(this.gas!=null)Q.push(`@${this.gas.toString()}`);return Q.join(" ")}static from($){if(HX.isFragment($))return $;if(typeof $==="string")try{return HX.from(BY($))}catch(Q){h(!1,"invalid constuctor fragment","obj",$)}else if($ instanceof wX){rZ($,uQ(["constructor"]));let Q=iZ($),X=!!rZ($,aR).has("payable"),Z=_2($);return jJ($),new HX(x$,"constructor",Q,X,Z)}return new HX(x$,"constructor",$.inputs?$.inputs.map(R$.from):[],!!$.payable,$.gas!=null?$.gas:null)}static isFragment($){return $&&$[QX]===T2}};NX=class NX extends XZ{payable;constructor($,Q,X){super($,"fallback",Q);Object.defineProperty(this,QX,{value:F2}),P0(this,{payable:X})}format($){let Q=this.inputs.length===0?"receive":"fallback";if($==="json"){let X=this.payable?"payable":"nonpayable";return JSON.stringify({type:Q,stateMutability:X})}return`${Q}()${this.payable?" payable":""}`}static from($){if(NX.isFragment($))return $;if(typeof $==="string")try{return NX.from(BY($))}catch(Q){h(!1,"invalid fallback fragment","obj",$)}else if($ instanceof wX){let Q=$.toString(),X=$.peekKeyword(uQ(["fallback","receive"]));if(h(X,"type must be fallback or receive","obj",Q),$.popKeyword(uQ(["fallback","receive"]))==="receive"){let G=iZ($);return h(G.length===0,"receive cannot have arguments","obj.inputs",G),rZ($,uQ(["payable"])),jJ($),new NX(x$,[],!0)}let Y=iZ($);if(Y.length)h(Y.length===1&&Y[0].type==="bytes","invalid fallback inputs","obj.inputs",Y.map((G)=>G.format("minimal")).join(", "));else Y=[R$.from("bytes")];let V=w2($);if(h(V==="nonpayable"||V==="payable","fallback cannot be constants","obj.stateMutability",V),rZ($,uQ(["returns"])).has("returns")){let G=iZ($);h(G.length===1&&G[0].type==="bytes","invalid fallback outputs","obj.outputs",G.map((H)=>H.format("minimal")).join(", "))}return jJ($),new NX(x$,Y,V==="payable")}if($.type==="receive")return new NX(x$,[],!0);if($.type==="fallback"){let Q=[R$.from("bytes")],X=$.stateMutability==="payable";return new NX(x$,Q,X)}h(!1,"invalid fallback description","obj",$)}static isFragment($){return $&&$[QX]===F2}};$X=class $X extends jY{constant;outputs;stateMutability;payable;gas;constructor($,Q,X,Z,Y,V){super($,"function",Q,Z);Object.defineProperty(this,QX,{value:R2}),Y=Object.freeze(Y.slice()),P0(this,{constant:X==="view"||X==="pure",gas:V,outputs:Y,payable:X==="payable",stateMutability:X})}get selector(){return BQ(this.format("sighash")).substring(0,10)}format($){if($==null)$="sighash";if($==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map((X)=>JSON.parse(X.format($))),outputs:this.outputs.map((X)=>JSON.parse(X.format($)))});let Q=[];if($!=="sighash")Q.push("function");if(Q.push(this.name+LW($,this.inputs)),$!=="sighash"){if(this.stateMutability!=="nonpayable")Q.push(this.stateMutability);if(this.outputs&&this.outputs.length)Q.push("returns"),Q.push(LW($,this.outputs));if(this.gas!=null)Q.push(`@${this.gas.toString()}`)}return Q.join(" ")}static getSelector($,Q){return Q=(Q||[]).map((Z)=>R$.from(Z)),new $X(x$,$,"view",Q,[],null).selector}static from($){if($X.isFragment($))return $;if(typeof $==="string")try{return $X.from(BY($))}catch(X){h(!1,"invalid function fragment","obj",$)}else if($ instanceof wX){let X=R1("function",$),Z=iZ($),Y=w2($),V=[];if(rZ($,uQ(["returns"])).has("returns"))V=iZ($);let G=_2($);return jJ($),new $X(x$,X,Y,Z,V,G)}let Q=$.stateMutability;if(Q==null){if(Q="payable",typeof $.constant==="boolean"){if(Q="view",!$.constant){if(Q="payable",typeof $.payable==="boolean"&&!$.payable)Q="nonpayable"}}else if(typeof $.payable==="boolean"&&!$.payable)Q="nonpayable"}return new $X(x$,$.name,Q,$.inputs?$.inputs.map(R$.from):[],$.outputs?$.outputs.map(R$.from):[],$.gas!=null?$.gas:null)}static isFragment($){return $&&$[QX]===R2}};TZ=class TZ extends jY{constructor($,Q,X){super($,"struct",Q,X);Object.defineProperty(this,QX,{value:E2})}format(){throw new Error("@TODO")}static from($){if(typeof $==="string")try{return TZ.from(BY($))}catch(Q){h(!1,"invalid struct fragment","obj",$)}else if($ instanceof wX){let Q=R1("struct",$),X=iZ($);return jJ($),new TZ(x$,Q,X)}return new TZ(x$,$.name,$.inputs?$.inputs.map(R$.from):[])}static isFragment($){return $&&$[QX]===E2}}});function KE($,Q,X,Z){let Y="missing revert data",V=null,G=null,H=null;if(X){Y="execution reverted";let A=M0(X);if(X=O0(X),A.length===0)Y+=" (no data present; likely require(false) occurred",V="require(false)";else if(A.length%32!==4)Y+=" (could not decode reason; invalid data length)";else if(O0(A.slice(0,4))==="0x08c379a0")try{V=Z.decode(["string"],A.slice(4))[0],H={signature:"Error(string)",name:"Error",args:[V]},Y+=`: ${JSON.stringify(V)}`}catch(T){Y+=" (could not decode reason; invalid string data)"}else if(O0(A.slice(0,4))==="0x4e487b71")try{let T=Number(Z.decode(["uint256"],A.slice(4))[0]);H={signature:"Panic(uint256)",name:"Panic",args:[T]},V=`Panic due to ${ZZ.get(T)||"UNKNOWN"}(${T})`,Y+=`: ${V}`}catch(T){Y+=" (could not decode panic code)"}else Y+=" (unknown custom error)"}let D={to:Q.to?n0(Q.to):null,data:Q.data||"0x"};if(Q.from)D.from=n0(Q.from);return W$(Y,"CALL_EXCEPTION",{action:$,data:X,reason:V,transaction:D,invocation:G,revert:H})}class LX{#$($){if($.isArray())return new E6(this.#$($.arrayChildren),$.arrayLength,$.name);if($.isTuple())return new j8($.components.map((X)=>this.#$(X)),$.name);switch($.baseType){case"address":return new C6($.name);case"bool":return new P6($.name);case"string":return new _6($.name);case"bytes":return new S6($.name);case"":return new N6($.name)}let Q=$.type.match(UE);if(Q){let X=parseInt(Q[2]||"256");return h(X!==0&&X<=256&&X%8===0,"invalid "+Q[1]+" bit length","param",$),new w6(X/8,Q[1]==="int",$.name)}if(Q=$.type.match(VE),Q){let X=parseInt(Q[1]);return h(X!==0&&X<=32,"invalid bytes length","param",$),new j6(X,$.name)}h(!1,"invalid type","type",$.type)}getDefaultValue($){let Q=$.map((Z)=>this.#$(R$.from(Z)));return new j8(Q,"_").defaultValue()}encode($,Q){VJ(Q.length,$.length,"types/values length mismatch");let X=$.map((V)=>this.#$(R$.from(V))),Z=new j8(X,"_"),Y=new A8;return Z.encode(Y,Q),Y.data}decode($,Q,X){let Z=$.map((V)=>this.#$(R$.from(V)));return new j8(Z,"_").decode(new mV(Q,X,x2))}static _setDefaultMaxInflation($){h(typeof $==="number"&&Number.isInteger($),"invalid defaultMaxInflation factor","value",$),x2=$}static defaultAbiCoder(){if(X9==null)X9=new LX;return X9}static getBuiltinCallException($,Q,X){return KE($,Q,X,LX.defaultAbiCoder())}}var ZZ,VE,UE,X9=null,x2=1024;var Z9=K0(()=>{d0();BX();AH();I6();TH();B6();FH();RH();EH();IH();PH();E1();d$();d0();ZZ=new Map;ZZ.set(0,"GENERIC_PANIC");ZZ.set(1,"ASSERT_FALSE");ZZ.set(17,"OVERFLOW");ZZ.set(18,"DIVIDE_BY_ZERO");ZZ.set(33,"ENUM_RANGE_ERROR");ZZ.set(34,"BAD_STORAGE_DATA");ZZ.set(49,"STACK_UNDERFLOW");ZZ.set(50,"ARRAY_RANGE_ERROR");ZZ.set(65,"OUT_OF_MEMORY");ZZ.set(81,"UNINITIALIZED_FUNCTION_CALL");VE=new RegExp(/^bytes([0-9]*)$/),UE=new RegExp(/^(u?int)([0-9]*)$/)});function Y9($){let Q=F$($);if(Q.length>31)throw new Error("bytes32 string must be less than 32 bytes");return pZ(Q,32)}function J9($){let Q=M0($,"bytes");if(Q.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(Q[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let X=31;while(Q[X-1]===0)X--;return bQ(Q.slice(0,X))}var k2=K0(()=>{d0()});class DW{fragment;name;signature;topic;args;constructor($,Q,X){let Z=$.name,Y=$.format();P0(this,{fragment:$,name:Z,signature:Y,topic:Q,args:X})}}class qW{fragment;name;args;signature;selector;value;constructor($,Q,X,Z){let Y=$.name,V=$.format();P0(this,{fragment:$,name:Y,args:X,signature:V,selector:Q,value:Z})}}class MW{fragment;name;args;signature;selector;constructor($,Q,X){let Z=$.name,Y=$.format();P0(this,{fragment:$,name:Z,args:X,signature:Y,selector:Q})}}class g8{hash;_isIndexed;static isIndexed($){return!!($&&$._isIndexed)}constructor($){P0(this,{hash:$,_isIndexed:!0})}}class DX{fragments;deploy;fallback;receive;#$;#Q;#X;#Z;constructor($){let Q=[];if(typeof $==="string")Q=JSON.parse($);else Q=$;this.#X=new Map,this.#$=new Map,this.#Q=new Map;let X=[];for(let V of Q)try{X.push(XZ.from(V))}catch(G){console.log(`[Warning] Invalid Fragment ${JSON.stringify(V)}:`,G.message)}P0(this,{fragments:Object.freeze(X)});let Z=null,Y=!1;if(this.#Z=this.getAbiCoder(),this.fragments.forEach((V,G)=>{let H;switch(V.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}P0(this,{deploy:V});return;case"fallback":if(V.inputs.length===0)Y=!0;else h(!Z||V.payable!==Z.payable,"conflicting fallback fragments",`fragments[${G}]`,V),Z=V,Y=Z.payable;return;case"function":H=this.#X;break;case"event":H=this.#Q;break;case"error":H=this.#$;break;default:return}let D=V.format();if(H.has(D))return;H.set(D,V)}),!this.deploy)P0(this,{deploy:HX.from("constructor()")});P0(this,{fallback:Z,receive:Y})}format($){let Q=$?"minimal":"full";return this.fragments.map((Z)=>Z.format(Q))}formatJson(){let $=this.fragments.map((Q)=>Q.format("json"));return JSON.stringify($.map((Q)=>JSON.parse(Q)))}getAbiCoder(){return LX.defaultAbiCoder()}#Y($,Q,X){if(Q$($)){let Y=$.toLowerCase();for(let V of this.#X.values())if(Y===V.selector)return V;return null}if($.indexOf("(")===-1){let Y=[];for(let[V,G]of this.#X)if(V.split("(")[0]===$)Y.push(G);if(Q){let V=Q.length>0?Q[Q.length-1]:null,G=Q.length,H=!0;if(V$.isTyped(V)&&V.type==="overrides")H=!1,G--;for(let D=Y.length-1;D>=0;D--){let A=Y[D].inputs.length;if(A!==G&&(!H||A!==G-1))Y.splice(D,1)}for(let D=Y.length-1;D>=0;D--){let A=Y[D].inputs;for(let T=0;T<Q.length;T++){if(!V$.isTyped(Q[T]))continue;if(T>=A.length){if(Q[T].type==="overrides")continue;Y.splice(D,1);break}if(Q[T].type!==A[T].baseType){Y.splice(D,1);break}}}}if(Y.length===1&&Q&&Q.length!==Y[0].inputs.length){let V=Q[Q.length-1];if(V==null||Array.isArray(V)||typeof V!=="object")Y.splice(0,1)}if(Y.length===0)return null;if(Y.length>1&&X){let V=Y.map((G)=>JSON.stringify(G.format())).join(", ");h(!1,`ambiguous function description (i.e. matches ${V})`,"key",$)}return Y[0]}let Z=this.#X.get($X.from($).format());if(Z)return Z;return null}getFunctionName($){let Q=this.#Y($,null,!1);return h(Q,"no matching function","key",$),Q.name}hasFunction($){return!!this.#Y($,null,!1)}getFunction($,Q){return this.#Y($,Q||null,!0)}forEachFunction($){let Q=Array.from(this.#X.keys());Q.sort((X,Z)=>X.localeCompare(Z));for(let X=0;X<Q.length;X++){let Z=Q[X];$(this.#X.get(Z),X)}}#G($,Q,X){if(Q$($)){let Y=$.toLowerCase();for(let V of this.#Q.values())if(Y===V.topicHash)return V;return null}if($.indexOf("(")===-1){let Y=[];for(let[V,G]of this.#Q)if(V.split("(")[0]===$)Y.push(G);if(Q){for(let V=Y.length-1;V>=0;V--)if(Y[V].inputs.length<Q.length)Y.splice(V,1);for(let V=Y.length-1;V>=0;V--){let G=Y[V].inputs;for(let H=0;H<Q.length;H++){if(!V$.isTyped(Q[H]))continue;if(Q[H].type!==G[H].baseType){Y.splice(V,1);break}}}}if(Y.length===0)return null;if(Y.length>1&&X){let V=Y.map((G)=>JSON.stringify(G.format())).join(", ");h(!1,`ambiguous event description (i.e. matches ${V})`,"key",$)}return Y[0]}let Z=this.#Q.get(eQ.from($).format());if(Z)return Z;return null}getEventName($){let Q=this.#G($,null,!1);return h(Q,"no matching event","key",$),Q.name}hasEvent($){return!!this.#G($,null,!1)}getEvent($,Q){return this.#G($,Q||null,!0)}forEachEvent($){let Q=Array.from(this.#Q.keys());Q.sort((X,Z)=>X.localeCompare(Z));for(let X=0;X<Q.length;X++){let Z=Q[X];$(this.#Q.get(Z),X)}}getError($,Q){if(Q$($)){let Z=$.toLowerCase();if(v2[Z])return AQ.from(v2[Z].signature);for(let Y of this.#$.values())if(Z===Y.selector)return Y;return null}if($.indexOf("(")===-1){let Z=[];for(let[Y,V]of this.#$)if(Y.split("(")[0]===$)Z.push(V);if(Z.length===0){if($==="Error")return AQ.from("error Error(string)");if($==="Panic")return AQ.from("error Panic(uint256)");return null}else if(Z.length>1){let Y=Z.map((V)=>JSON.stringify(V.format())).join(", ");h(!1,`ambiguous error description (i.e. ${Y})`,"name",$)}return Z[0]}if($=AQ.from($).format(),$==="Error(string)")return AQ.from("error Error(string)");if($==="Panic(uint256)")return AQ.from("error Panic(uint256)");let X=this.#$.get($);if(X)return X;return null}forEachError($){let Q=Array.from(this.#$.keys());Q.sort((X,Z)=>X.localeCompare(Z));for(let X=0;X<Q.length;X++){let Z=Q[X];$(this.#$.get(Z),X)}}_decodeParams($,Q){return this.#Z.decode($,Q)}_encodeParams($,Q){return this.#Z.encode($,Q)}encodeDeploy($){return this._encodeParams(this.deploy.inputs,$||[])}decodeErrorResult($,Q){if(typeof $==="string"){let X=this.getError($);h(X,"unknown error","fragment",$),$=X}return h(O$(Q,0,4)===$.selector,`data signature does not match error ${$.name}.`,"data",Q),this._decodeParams($.inputs,O$(Q,4))}encodeErrorResult($,Q){if(typeof $==="string"){let X=this.getError($);h(X,"unknown error","fragment",$),$=X}return s0([$.selector,this._encodeParams($.inputs,Q||[])])}decodeFunctionData($,Q){if(typeof $==="string"){let X=this.getFunction($);h(X,"unknown function","fragment",$),$=X}return h(O$(Q,0,4)===$.selector,`data signature does not match function ${$.name}.`,"data",Q),this._decodeParams($.inputs,O$(Q,4))}encodeFunctionData($,Q){if(typeof $==="string"){let X=this.getFunction($);h(X,"unknown function","fragment",$),$=X}return s0([$.selector,this._encodeParams($.inputs,Q||[])])}decodeFunctionResult($,Q){if(typeof $==="string"){let Y=this.getFunction($);h(Y,"unknown function","fragment",$),$=Y}let X="invalid length for result data",Z=j$(Q);if(Z.length%32===0)try{return this.#Z.decode($.outputs,Z)}catch(Y){X="could not decode result data"}J0(!1,X,"BAD_DATA",{value:O0(Z),info:{method:$.name,signature:$.format()}})}makeError($,Q){let X=M0($,"data"),Z=LX.getBuiltinCallException("call",Q,X),Y="execution reverted (unknown custom error)";if(Z.message.startsWith("execution reverted (unknown custom error)")){let G=O0(X.slice(0,4)),H=this.getError(G);if(H)try{let D=this.#Z.decode(H.inputs,X.slice(4));Z.revert={name:H.name,signature:H.format(),args:D},Z.reason=Z.revert.signature,Z.message=`execution reverted: ${Z.reason}`}catch(D){Z.message="execution reverted (coult not decode custom error)"}}let V=this.parseTransaction(Q);if(V)Z.invocation={method:V.name,signature:V.signature,args:V.args};return Z}encodeFunctionResult($,Q){if(typeof $==="string"){let X=this.getFunction($);h(X,"unknown function","fragment",$),$=X}return O0(this.#Z.encode($.outputs,Q||[]))}encodeFilterTopics($,Q){if(typeof $==="string"){let Y=this.getEvent($);h(Y,"unknown event","eventFragment",$),$=Y}J0(Q.length<=$.inputs.length,`too many arguments for ${$.format()}`,"UNEXPECTED_ARGUMENT",{count:Q.length,expectedCount:$.inputs.length});let X=[];if(!$.anonymous)X.push($.topicHash);let Z=(Y,V)=>{if(Y.type==="string")return BQ(V);else if(Y.type==="bytes")return e0(O0(V));if(Y.type==="bool"&&typeof V==="boolean")V=V?"0x01":"0x00";else if(Y.type.match(/^u?int/))V=qQ(V);else if(Y.type.match(/^bytes/))V=pZ(V,32);else if(Y.type==="address")this.#Z.encode(["address"],[V]);return c$(O0(V),32)};Q.forEach((Y,V)=>{let G=$.inputs[V];if(!G.indexed){h(Y==null,"cannot filter non-indexed parameters; must be null","contract."+G.name,Y);return}if(Y==null)X.push(null);else if(G.baseType==="array"||G.baseType==="tuple")h(!1,"filtering with tuples or arrays not supported","contract."+G.name,Y);else if(Array.isArray(Y))X.push(Y.map((H)=>Z(G,H)));else X.push(Z(G,Y))});while(X.length&&X[X.length-1]===null)X.pop();return X}encodeEventLog($,Q){if(typeof $==="string"){let V=this.getEvent($);h(V,"unknown event","eventFragment",$),$=V}let X=[],Z=[],Y=[];if(!$.anonymous)X.push($.topicHash);return h(Q.length===$.inputs.length,"event arguments/values mismatch","values",Q),$.inputs.forEach((V,G)=>{let H=Q[G];if(V.indexed)if(V.type==="string")X.push(BQ(H));else if(V.type==="bytes")X.push(e0(H));else if(V.baseType==="tuple"||V.baseType==="array")throw new Error("not implemented");else X.push(this.#Z.encode([V.type],[H]));else Z.push(V),Y.push(H)}),{data:this.#Z.encode(Z,Y),topics:X}}decodeEventLog($,Q,X){if(typeof $==="string"){let M=this.getEvent($);h(M,"unknown event","eventFragment",$),$=M}if(X!=null&&!$.anonymous){let M=$.topicHash;h(Q$(X[0],32)&&X[0].toLowerCase()===M,"fragment/topic mismatch","topics[0]",X[0]),X=X.slice(1)}let Z=[],Y=[],V=[];$.inputs.forEach((M,I)=>{if(M.indexed)if(M.type==="string"||M.type==="bytes"||M.baseType==="tuple"||M.baseType==="array")Z.push(R$.from({type:"bytes32",name:M.name})),V.push(!0);else Z.push(M),V.push(!1);else Y.push(M),V.push(!1)});let G=X!=null?this.#Z.decode(Z,s0(X)):null,H=this.#Z.decode(Y,Q,!0),D=[],A=[],T=0,F=0;return $.inputs.forEach((M,I)=>{let P=null;if(M.indexed)if(G==null)P=new g8(null);else if(V[I])P=new g8(G[F++]);else try{P=G[F++]}catch(S){P=S}else try{P=H[T++]}catch(S){P=S}D.push(P),A.push(M.name||null)}),tQ.fromItems(D,A)}parseTransaction($){let Q=M0($.data,"tx.data"),X=c0($.value!=null?$.value:0,"tx.value"),Z=this.getFunction(O0(Q.slice(0,4)));if(!Z)return null;let Y=this.#Z.decode(Z.inputs,Q.slice(4));return new qW(Z,Z.selector,Y,X)}parseCallResult($){throw new Error("@TODO")}parseLog($){let Q=this.getEvent($.topics[0]);if(!Q||Q.anonymous)return null;return new DW(Q,Q.topicHash,this.decodeEventLog(Q,$.data,$.topics))}parseError($){let Q=O0($),X=this.getError(O$(Q,0,4));if(!X)return null;let Z=this.#Z.decode(X.inputs,O$(Q,4));return new MW(X,X.selector,Z)}static from($){if($ instanceof DX)return $;if(typeof $==="string")return new DX(JSON.parse($));if(typeof $.formatJson==="function")return new DX($.formatJson());if(typeof $.format==="function")return new DX($.format("json"));return new DX($)}}var f2,v2;var g2=K0(()=>{n$();CZ();d0();Z9();BX();E1();AZ();f2={"0":"generic panic","1":"assert(false)","17":"arithmetic overflow","18":"division or modulo by zero","33":"enum overflow","34":"invalid encoded storage byte array accessed","49":"out-of-bounds array access; popping on an empty array","50":"out-of-bounds access of an array or bytesN","65":"out of memory","81":"uninitialized function"},v2={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:($)=>{return`reverted with reason string ${JSON.stringify($)}`}},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:($)=>{let Q="unknown panic code";if($>=0&&$<=255&&f2[$.toString()])Q=f2[$.toString()];return`reverted with panic code 0x${$.toString(16)} (${Q})`}}}});var y8=K0(()=>{Z9();k2();E1();g2();AZ()});function h8($){if($==null)return null;return $}function o$($){if($==null)return null;return $.toString()}class NJ{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor($,Q,X){P0(this,{gasPrice:h8($),maxFeePerGas:h8(Q),maxPriorityFeePerGas:h8(X)})}toJSON(){let{gasPrice:$,maxFeePerGas:Q,maxPriorityFeePerGas:X}=this;return{_type:"FeeData",gasPrice:o$($),maxFeePerGas:o$(Q),maxPriorityFeePerGas:o$(X)}}}function _X($){let Q={};if($.to)Q.to=$.to;if($.from)Q.from=$.from;if($.data)Q.data=O0($.data);let X="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(let Y of X){if(!(Y in $)||$[Y]==null)continue;Q[Y]=c0($[Y],`request.${Y}`)}let Z="type,nonce".split(/,/);for(let Y of Z){if(!(Y in $)||$[Y]==null)continue;Q[Y]=o0($[Y],`request.${Y}`)}if($.accessList)Q.accessList=SQ($.accessList);if($.authorizationList)Q.authorizationList=$.authorizationList.slice();if("blockTag"in $)Q.blockTag=$.blockTag;if("enableCcipRead"in $)Q.enableCcipRead=!!$.enableCcipRead;if("customData"in $)Q.customData=$.customData;if("blobVersionedHashes"in $&&$.blobVersionedHashes)Q.blobVersionedHashes=$.blobVersionedHashes.slice();if("kzg"in $)Q.kzg=$.kzg;if("blobs"in $&&$.blobs)Q.blobs=$.blobs.map((Y)=>{if(uX(Y))return O0(Y);return Object.assign({},Y)});return Q}class xX{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor($,Q){this.provider=Q;let X=Object.freeze($.topics.slice());P0(this,{transactionHash:$.transactionHash,blockHash:$.blockHash,blockNumber:$.blockNumber,removed:$.removed,address:$.address,data:$.data,topics:X,index:$.index,transactionIndex:$.transactionIndex})}toJSON(){let{address:$,blockHash:Q,blockNumber:X,data:Z,index:Y,removed:V,topics:G,transactionHash:H,transactionIndex:D}=this;return{_type:"log",address:$,blockHash:Q,blockNumber:X,data:Z,index:Y,removed:V,topics:G,transactionHash:H,transactionIndex:D}}async getBlock(){let $=await this.provider.getBlock(this.blockHash);return J0(!!$,"failed to find transaction","UNKNOWN_ERROR",{}),$}async getTransaction(){let $=await this.provider.getTransaction(this.transactionHash);return J0(!!$,"failed to find transaction","UNKNOWN_ERROR",{}),$}async getTransactionReceipt(){let $=await this.provider.getTransactionReceipt(this.transactionHash);return J0(!!$,"failed to find transaction receipt","UNKNOWN_ERROR",{}),$}removedEvent(){return zE(this)}}class FZ{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#$;constructor($,Q){this.provider=Q,this.blockNumber=$.blockNumber!=null?$.blockNumber:null,this.blockHash=$.blockHash!=null?$.blockHash:null,this.hash=$.hash,this.index=$.index,this.type=$.type,this.from=$.from,this.to=$.to||null,this.gasLimit=$.gasLimit,this.nonce=$.nonce,this.data=$.data,this.value=$.value,this.gasPrice=$.gasPrice,this.maxPriorityFeePerGas=$.maxPriorityFeePerGas!=null?$.maxPriorityFeePerGas:null,this.maxFeePerGas=$.maxFeePerGas!=null?$.maxFeePerGas:null,this.maxFeePerBlobGas=$.maxFeePerBlobGas!=null?$.maxFeePerBlobGas:null,this.chainId=$.chainId,this.signature=$.signature,this.accessList=$.accessList!=null?$.accessList:null,this.blobVersionedHashes=$.blobVersionedHashes!=null?$.blobVersionedHashes:null,this.authorizationList=$.authorizationList!=null?$.authorizationList:null,this.#$=-1}toJSON(){let{blockNumber:$,blockHash:Q,index:X,hash:Z,type:Y,to:V,from:G,nonce:H,data:D,signature:A,accessList:T,blobVersionedHashes:F}=this;return{_type:"TransactionResponse",accessList:T,blockNumber:$,blockHash:Q,blobVersionedHashes:F,chainId:o$(this.chainId),data:D,from:G,gasLimit:o$(this.gasLimit),gasPrice:o$(this.gasPrice),hash:Z,maxFeePerGas:o$(this.maxFeePerGas),maxPriorityFeePerGas:o$(this.maxPriorityFeePerGas),maxFeePerBlobGas:o$(this.maxFeePerBlobGas),nonce:H,signature:A,to:V,index:X,type:Y,value:o$(this.value)}}async getBlock(){let $=this.blockNumber;if($==null){let X=await this.getTransaction();if(X)$=X.blockNumber}if($==null)return null;let Q=this.provider.getBlock($);if(Q==null)throw new Error("TODO");return Q}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){let{tx:Q,blockNumber:X}=await B$({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});if(Q==null||Q.blockNumber==null)return 0;return X-Q.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait($,Q){let X=$==null?1:$,Z=Q==null?0:Q,Y=this.#$,V=-1,G=Y===-1?!0:!1,H=async()=>{if(G)return null;let{blockNumber:F,nonce:M}=await B$({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(M<this.nonce){Y=F;return}if(G)return null;let I=await this.getTransaction();if(I&&I.blockNumber!=null)return;if(V===-1){if(V=Y-3,V<this.#$)V=this.#$}while(V<=F){if(G)return null;let P=await this.provider.getBlock(V,!0);if(P==null)return;for(let S of P)if(S===this.hash)return;for(let S=0;S<P.length;S++){let j=await P.getTransaction(S);if(j.from===this.from&&j.nonce===this.nonce){if(G)return null;let N=await this.provider.getTransactionReceipt(j.hash);if(N==null)return;if(F-N.blockNumber+1<X)return;let w="replaced";if(j.data===this.data&&j.to===this.to&&j.value===this.value)w="repriced";else if(j.data==="0x"&&j.from===j.to&&j.value===y2)w="cancelled";J0(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:w==="replaced"||w==="cancelled",reason:w,replacement:j.replaceableTransaction(Y),hash:j.hash,receipt:N})}}V++}return},D=(F)=>{if(F==null||F.status!==0)return F;J0(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:F.to,from:F.from,data:""},receipt:F})},A=await this.provider.getTransactionReceipt(this.hash);if(X===0)return D(A);if(A){if(X===1||await A.confirmations()>=X)return D(A)}else if(await H(),X===0)return null;return await new Promise((F,M)=>{let I=[],P=()=>{I.forEach((j)=>j())};if(I.push(()=>{G=!0}),Z>0){let j=setTimeout(()=>{P(),M(W$("wait for transaction timeout","TIMEOUT"))},Z);I.push(()=>{clearTimeout(j)})}let S=async(j)=>{if(await j.confirmations()>=X){P();try{F(D(j))}catch(N){M(N)}}};if(I.push(()=>{this.provider.off(this.hash,S)}),this.provider.on(this.hash,S),Y>=0){let j=async()=>{try{await H()}catch(N){if(D$(N,"TRANSACTION_REPLACED")){P(),M(N);return}}if(!G)this.provider.once("block",j)};I.push(()=>{this.provider.off("block",j)}),this.provider.once("block",j)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return J0(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),b2(this)}reorderedEvent($){return J0(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),J0(!$||$.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),h2(this,$)}replaceableTransaction($){h(Number.isInteger($)&&$>=0,"invalid startBlock","startBlock",$);let Q=new FZ(this,this.provider);return Q.#$=$,Q}}function OE($){return{orphan:"drop-block",hash:$.hash,number:$.number}}function h2($,Q){return{orphan:"reorder-transaction",tx:$,other:Q}}function b2($){return{orphan:"drop-transaction",tx:$}}function zE($){return{orphan:"drop-log",log:{transactionHash:$.transactionHash,blockHash:$.blockHash,blockNumber:$.blockNumber,address:$.address,data:$.data,topics:Object.freeze($.topics.slice()),index:$.index}}}var y2,b8,NY;var p8=K0(()=>{d0();mQ();y2=BigInt(0);b8=class b8{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#$;constructor($,Q){this.#$=$.transactions.map((X)=>{if(typeof X!=="string")return new FZ(X,Q);return X}),P0(this,{provider:Q,hash:h8($.hash),number:$.number,timestamp:$.timestamp,parentHash:$.parentHash,parentBeaconBlockRoot:$.parentBeaconBlockRoot,nonce:$.nonce,difficulty:$.difficulty,gasLimit:$.gasLimit,gasUsed:$.gasUsed,blobGasUsed:$.blobGasUsed,excessBlobGas:$.excessBlobGas,miner:$.miner,prevRandao:h8($.prevRandao),extraData:$.extraData,baseFeePerGas:h8($.baseFeePerGas),stateRoot:$.stateRoot,receiptsRoot:$.receiptsRoot})}get transactions(){return this.#$.map(($)=>{if(typeof $==="string")return $;return $.hash})}get prefetchedTransactions(){let $=this.#$.slice();if($.length===0)return[];return J0(typeof $[0]==="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),$}toJSON(){let{baseFeePerGas:$,difficulty:Q,extraData:X,gasLimit:Z,gasUsed:Y,hash:V,miner:G,prevRandao:H,nonce:D,number:A,parentHash:T,parentBeaconBlockRoot:F,stateRoot:M,receiptsRoot:I,timestamp:P,transactions:S}=this;return{_type:"Block",baseFeePerGas:o$($),difficulty:o$(Q),extraData:X,gasLimit:o$(Z),gasUsed:o$(Y),blobGasUsed:o$(this.blobGasUsed),excessBlobGas:o$(this.excessBlobGas),hash:V,miner:G,prevRandao:H,nonce:D,number:A,parentHash:T,timestamp:P,parentBeaconBlockRoot:F,stateRoot:M,receiptsRoot:I,transactions:S}}[Symbol.iterator](){let $=0,Q=this.transactions;return{next:()=>{if($<this.length)return{value:Q[$++],done:!1};return{value:void 0,done:!0}}}}get length(){return this.#$.length}get date(){if(this.timestamp==null)return null;return new Date(this.timestamp*1000)}async getTransaction($){let Q=void 0;if(typeof $==="number")Q=this.#$[$];else{let X=$.toLowerCase();for(let Z of this.#$)if(typeof Z==="string"){if(Z!==X)continue;Q=Z;break}else{if(Z.hash!==X)continue;Q=Z;break}}if(Q==null)throw new Error("no such tx");if(typeof Q==="string")return await this.provider.getTransaction(Q);else return Q}getPrefetchedTransaction($){let Q=this.prefetchedTransactions;if(typeof $==="number")return Q[$];$=$.toLowerCase();for(let X of Q)if(X.hash===$)return X;h(!1,"no matching transaction","indexOrHash",$)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return OE(this)}};NY=class NY{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#$;constructor($,Q){this.#$=Object.freeze($.logs.map((Z)=>{return new xX(Z,Q)}));let X=y2;if($.effectiveGasPrice!=null)X=$.effectiveGasPrice;else if($.gasPrice!=null)X=$.gasPrice;P0(this,{provider:Q,to:$.to,from:$.from,contractAddress:$.contractAddress,hash:$.hash,index:$.index,blockHash:$.blockHash,blockNumber:$.blockNumber,logsBloom:$.logsBloom,gasUsed:$.gasUsed,cumulativeGasUsed:$.cumulativeGasUsed,blobGasUsed:$.blobGasUsed,gasPrice:X,blobGasPrice:$.blobGasPrice,type:$.type,status:$.status,root:$.root})}get logs(){return this.#$}toJSON(){let{to:$,from:Q,contractAddress:X,hash:Z,index:Y,blockHash:V,blockNumber:G,logsBloom:H,logs:D,status:A,root:T}=this;return{_type:"TransactionReceipt",blockHash:V,blockNumber:G,contractAddress:X,cumulativeGasUsed:o$(this.cumulativeGasUsed),from:Q,gasPrice:o$(this.gasPrice),blobGasUsed:o$(this.blobGasUsed),blobGasPrice:o$(this.blobGasPrice),gasUsed:o$(this.gasUsed),hash:Z,index:Y,logs:D,logsBloom:H,root:T,status:A,to:$}}get length(){return this.logs.length}[Symbol.iterator](){let $=0;return{next:()=>{if($<this.length)return{value:this.logs[$++],done:!1};return{value:void 0,done:!0}}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){let $=await this.provider.getBlock(this.blockHash);if($==null)throw new Error("TODO");return $}async getTransaction(){let $=await this.provider.getTransaction(this.hash);if($==null)throw new Error("TODO");return $}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return b2(this)}reorderedEvent($){return J0(!$||$.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),h2(this,$)}}});var wY,wJ,AW,_Y,_J,c8;var G9=K0(()=>{p8();d0();wY=class wY extends xX{interface;fragment;args;constructor($,Q,X){super($,$.provider);let Z=Q.decodeEventLog(X,$.data,$.topics);P0(this,{args:Z,fragment:X,interface:Q})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}};wJ=class wJ extends xX{error;constructor($,Q){super($,$.provider);P0(this,{error:Q})}};AW=class AW extends NY{#$;constructor($,Q,X){super(X,Q);this.#$=$}get logs(){return super.logs.map(($)=>{let Q=$.topics.length?this.#$.getEvent($.topics[0]):null;if(Q)try{return new wY($,this.#$,Q)}catch(X){return new wJ($,X)}return $})}};_Y=class _Y extends FZ{#$;constructor($,Q,X){super(X,Q);this.#$=$}async wait($,Q){let X=await super.wait($,Q);if(X==null)return null;return new AW(this.#$,this.provider,X)}};_J=class _J extends AY{log;constructor($,Q,X,Z){super($,Q,X);P0(this,{log:Z})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}};c8=class c8 extends _J{constructor($,Q,X,Z,Y){super($,Q,X,new wY(Y,$.interface,Z));let V=$.interface.decodeEventLog(Z,this.log.data,this.log.topics);P0(this,{args:V,fragment:Z})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}});function m2($){return $&&typeof $.call==="function"}function u2($){return $&&typeof $.estimateGas==="function"}function S1($){return $&&typeof $.resolveName==="function"}function d2($){return $&&typeof $.sendTransaction==="function"}function l2($){if($!=null){if(S1($))return $;if($.provider)return $.provider}return}class o2{#$;fragment;constructor($,Q,X){if(P0(this,{fragment:Q}),Q.inputs.length<X.length)throw new Error("too many arguments");let Z=kJ($.runner,"resolveName"),Y=S1(Z)?Z:null;this.#$=async function(){let V=await Promise.all(Q.inputs.map((G,H)=>{if(X[H]==null)return null;return G.walkAsync(X[H],(A,T)=>{if(A==="address"){if(Array.isArray(T))return Promise.all(T.map((F)=>N$(F,Y)));return N$(T,Y)}return T})}));return $.interface.encodeFilterTopics(Q,V)}()}getTopicFilter(){return this.#$}}function kJ($,Q){if($==null)return null;if(typeof $[Q]==="function")return $;if($.provider&&typeof $.provider[Q]==="function")return $.provider;return null}function xJ($){if($==null)return null;return $.provider||null}async function B1($,Q){let X=V$.dereference($,"overrides");h(typeof X==="object","invalid overrides parameter","overrides",$);let Z=_X(X);if(h(Z.to==null||(Q||[]).indexOf("to")>=0,"cannot override to","overrides.to",Z.to),h(Z.data==null||(Q||[]).indexOf("data")>=0,"cannot override data","overrides.data",Z.data),Z.from)Z.from=Z.from;return Z}async function U9($,Q,X){let Z=kJ($,"resolveName"),Y=S1(Z)?Z:null;return await Promise.all(Q.map((V,G)=>{return V.walkAsync(X[G],(H,D)=>{if(D=V$.dereference(D,H),H==="address")return N$(D,Y);return D})}))}function HE($){let Q=async function(G){let H=await B1(G,["data"]);if(H.to=await $.getAddress(),H.from)H.from=await N$(H.from,l2($.runner));let D=$.interface,A=c0(H.value||p2,"overrides.value")===p2,T=(H.data||"0x")==="0x";if(D.fallback&&!D.fallback.payable&&D.receive&&!T&&!A)h(!1,"cannot send data to receive or send value to non-payable fallback","overrides",G);h(D.fallback||T,"cannot send data to receive-only contract","overrides.data",H.data);let F=D.receive||D.fallback&&D.fallback.payable;return h(F||A,"cannot send value to non-payable fallback","overrides.value",H.value),h(D.fallback||T,"cannot send data to receive-only contract","overrides.data",H.data),H},X=async function(G){let H=kJ($.runner,"call");J0(m2(H),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let D=await Q(G);try{return await H.call(D)}catch(A){if(MY(A)&&A.data)throw $.interface.makeError(A.data,D);throw A}},Z=async function(G){let H=$.runner;J0(d2(H),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let D=await H.sendTransaction(await Q(G)),A=xJ($.runner);return new _Y($.interface,A,D)},Y=async function(G){let H=kJ($.runner,"estimateGas");return J0(u2(H),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await H.estimateGas(await Q(G))},V=async(G)=>{return await Z(G)};return P0(V,{_contract:$,estimateGas:Y,populateTransaction:Q,send:Z,staticCall:X}),V}function LE($,Q){let X=function(...A){let T=$.interface.getFunction(Q,A);return J0(T,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:Q,args:A}}),T},Z=async function(...A){let T=X(...A),F={};if(T.inputs.length+1===A.length){if(F=await B1(A.pop()),F.from)F.from=await N$(F.from,l2($.runner))}if(T.inputs.length!==A.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");let M=await U9($.runner,T.inputs,A);return Object.assign({},F,await B$({to:$.getAddress(),data:$.interface.encodeFunctionData(T,M)}))},Y=async function(...A){let T=await H(...A);if(T.length===1)return T[0];return T},V=async function(...A){let T=$.runner;J0(d2(T),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let F=await T.sendTransaction(await Z(...A)),M=xJ($.runner);return new _Y($.interface,M,F)},G=async function(...A){let T=kJ($.runner,"estimateGas");return J0(u2(T),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await T.estimateGas(await Z(...A))},H=async function(...A){let T=kJ($.runner,"call");J0(m2(T),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let F=await Z(...A),M="0x";try{M=await T.call(F)}catch(P){if(MY(P)&&P.data)throw $.interface.makeError(P.data,F);throw P}let I=X(...A);return $.interface.decodeFunctionResult(I,M)},D=async(...A)=>{if(X(...A).constant)return await Y(...A);return await V(...A)};return P0(D,{name:$.interface.getFunctionName(Q),_contract:$,_key:Q,getFragment:X,estimateGas:G,populateTransaction:Z,send:V,staticCall:Y,staticCallResult:H}),Object.defineProperty(D,"fragment",{configurable:!1,enumerable:!0,get:()=>{let A=$.interface.getFunction(Q);return J0(A,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:Q}}),A}}),D}function DE($,Q){let X=function(...Y){let V=$.interface.getEvent(Q,Y);return J0(V,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:Q,args:Y}}),V},Z=function(...Y){return new o2($,X(...Y),Y)};return P0(Z,{name:$.interface.getEventName(Q),_contract:$,_key:Q,getFragment:X}),Object.defineProperty(Z,"fragment",{configurable:!1,enumerable:!0,get:()=>{let Y=$.interface.getEvent(Q);return J0(Y,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:Q}}),Y}}),Z}function qE($,Q){n2.set($[P1],Q)}function qX($){return n2.get($[P1])}function ME($){return $&&typeof $==="object"&&"getTopicFilter"in $&&typeof $.getTopicFilter==="function"&&$.fragment}async function K9($,Q){let X,Z=null;if(Array.isArray(Q)){let V=function(G){if(Q$(G,32))return G;let H=$.interface.getEvent(G);return h(H,"unknown fragment","name",G),H.topicHash};X=Q.map((G)=>{if(G==null)return null;if(Array.isArray(G))return G.map(V);return V(G)})}else if(Q==="*")X=[null];else if(typeof Q==="string")if(Q$(Q,32))X=[Q];else Z=$.interface.getEvent(Q),h(Z,"unknown fragment","event",Q),X=[Z.topicHash];else if(ME(Q))X=await Q.getTopicFilter();else if("fragment"in Q)Z=Q.fragment,X=[Z.topicHash];else h(!1,"unknown event name","event",Q);X=X.map((V)=>{if(V==null)return null;if(Array.isArray(V)){let G=Array.from(new Set(V.map((H)=>H.toLowerCase())).values());if(G.length===1)return G[0];return G.sort(),G}return V.toLowerCase()});let Y=X.map((V)=>{if(V==null)return"null";if(Array.isArray(V))return V.join("|");return V}).join("&");return{fragment:Z,tag:Y,topics:X}}async function CW($,Q){let{subs:X}=qX($);return X.get((await K9($,Q)).tag)||null}async function c2($,Q,X){let Z=xJ($.runner);J0(Z,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:Q});let{fragment:Y,tag:V,topics:G}=await K9($,X),{addr:H,subs:D}=qX($),A=D.get(V);if(!A){let F={address:H?H:$,topics:G},M=(j)=>{let N=Y;if(N==null)try{N=$.interface.getEvent(j.topics[0])}catch(w){}if(N){let w=N,k=Y?$.interface.decodeEventLog(Y,j.data,j.topics):[];V9($,X,k,(f)=>{return new c8($,f,X,w,j)})}else V9($,X,[],(w)=>{return new _J($,w,X,j)})},I=[];A={tag:V,listeners:[],start:()=>{if(I.length)return;I.push(Z.on(F,M))},stop:async()=>{if(I.length==0)return;let j=I;I=[],await Promise.all(j),Z.off(F,M)}},D.set(V,A)}return A}async function AE($,Q,X,Z){await W9;let Y=await CW($,Q);if(!Y)return!1;let V=Y.listeners.length;if(Y.listeners=Y.listeners.filter(({listener:G,once:H})=>{let D=Array.from(X);if(Z)D.push(Z(H?null:G));try{G.call($,...D)}catch(A){}return!H}),Y.listeners.length===0)Y.stop(),qX($).subs.delete(Y.tag);return V>0}async function V9($,Q,X,Z){try{await W9}catch(V){}let Y=AE($,Q,X,Z);return W9=Y,await Y}function CE(){return YZ}var p2,P1,n2,W9,I1,YZ,MX;var O9=K0(()=>{y8();d$();p8();d0();G9();p2=BigInt(0);P1=Symbol.for("_ethersInternal_contract"),n2=new WeakMap;W9=Promise.resolve();I1=["then"];YZ=class YZ{target;interface;runner;filters;[P1];fallback;constructor($,Q,X,Z){if(h(typeof $==="string"||B8($),"invalid value for Contract target","target",$),X==null)X=null;let Y=DX.from(Q);P0(this,{target:$,runner:X,interface:Y}),Object.defineProperty(this,P1,{value:{}});let V,G=null,H=null;if(Z){let T=xJ(X);H=new _Y(this.interface,T,Z)}let D=new Map;if(typeof $==="string")if(Q$($))G=$,V=Promise.resolve($);else{let T=kJ(X,"resolveName");if(!S1(T))throw W$("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});V=T.resolveName($).then((F)=>{if(F==null)throw W$("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:$});return qX(this).addr=F,F})}else V=$.getAddress().then((T)=>{if(T==null)throw new Error("TODO");return qX(this).addr=T,T});qE(this,{addrPromise:V,addr:G,deployTx:H,subs:D});let A=new Proxy({},{get:(T,F,M)=>{if(typeof F==="symbol"||I1.indexOf(F)>=0)return Reflect.get(T,F,M);try{return this.getEvent(F)}catch(I){if(!D$(I,"INVALID_ARGUMENT")||I.argument!=="key")throw I}return},has:(T,F)=>{if(I1.indexOf(F)>=0)return Reflect.has(T,F);return Reflect.has(T,F)||this.interface.hasEvent(String(F))}});return P0(this,{filters:A}),P0(this,{fallback:Y.receive||Y.fallback?HE(this):null}),new Proxy(this,{get:(T,F,M)=>{if(typeof F==="symbol"||F in T||I1.indexOf(F)>=0)return Reflect.get(T,F,M);try{return T.getFunction(F)}catch(I){if(!D$(I,"INVALID_ARGUMENT")||I.argument!=="key")throw I}return},has:(T,F)=>{if(typeof F==="symbol"||F in T||I1.indexOf(F)>=0)return Reflect.has(T,F);return T.interface.hasFunction(F)}})}connect($){return new YZ(this.target,this.interface,$)}attach($){return new YZ($,this.interface,this.runner)}async getAddress(){return await qX(this).addrPromise}async getDeployedCode(){let $=xJ(this.runner);J0($,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});let Q=await $.getCode(await this.getAddress());if(Q==="0x")return null;return Q}async waitForDeployment(){let $=this.deploymentTransaction();if($)return await $.wait(),this;if(await this.getDeployedCode()!=null)return this;let X=xJ(this.runner);return J0(X!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((Z,Y)=>{let V=async()=>{try{if(await this.getDeployedCode()!=null)return Z(this);X.once("block",V)}catch(G){Y(G)}};V()})}deploymentTransaction(){return qX(this).deployTx}getFunction($){if(typeof $!=="string")$=$.format();return LE(this,$)}getEvent($){if(typeof $!=="string")$=$.format();return DE(this,$)}async queryTransaction($){throw new Error("@TODO")}async queryFilter($,Q,X){if(Q==null)Q=0;if(X==null)X="latest";let{addr:Z,addrPromise:Y}=qX(this),V=Z?Z:await Y,{fragment:G,topics:H}=await K9(this,$),D={address:V,topics:H,fromBlock:Q,toBlock:X},A=xJ(this.runner);return J0(A,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await A.getLogs(D)).map((T)=>{let F=G;if(F==null)try{F=this.interface.getEvent(T.topics[0])}catch(M){}if(F)try{return new wY(T,this.interface,F)}catch(M){return new wJ(T,M)}return new xX(T,A)})}async on($,Q){let X=await c2(this,"on",$);return X.listeners.push({listener:Q,once:!1}),X.start(),this}async once($,Q){let X=await c2(this,"once",$);return X.listeners.push({listener:Q,once:!0}),X.start(),this}async emit($,...Q){return await V9(this,$,Q,null)}async listenerCount($){if($){let Z=await CW(this,$);if(!Z)return 0;return Z.listeners.length}let{subs:Q}=qX(this),X=0;for(let{listeners:Z}of Q.values())X+=Z.length;return X}async listeners($){if($){let Z=await CW(this,$);if(!Z)return[];return Z.listeners.map(({listener:Y})=>Y)}let{subs:Q}=qX(this),X=[];for(let{listeners:Z}of Q.values())X=X.concat(Z.map(({listener:Y})=>Y));return X}async off($,Q){let X=await CW(this,$);if(!X)return this;if(Q){let Z=X.listeners.map(({listener:Y})=>Y).indexOf(Q);if(Z>=0)X.listeners.splice(Z,1)}if(Q==null||X.listeners.length===0)X.stop(),qX(this).subs.delete(X.tag);return this}async removeAllListeners($){if($){let Q=await CW(this,$);if(!Q)return this;Q.stop(),qX(this).subs.delete(Q.tag)}else{let{subs:Q}=qX(this);for(let{tag:X,stop:Z}of Q.values())Z(),Q.delete(X)}return this}async addListener($,Q){return await this.on($,Q)}async removeListener($,Q){return await this.off($,Q)}static buildClass($){class Q extends YZ{constructor(X,Z=null){super(X,$,Z)}}return Q}static from($,Q,X){if(X==null)X=null;return new this($,Q,X)}};MX=class MX extends CE(){}});class TW{interface;bytecode;runner;constructor($,Q,X){let Z=DX.from($);if(Q instanceof Uint8Array)Q=O0(M0(Q));else{if(typeof Q==="object")Q=Q.object;if(!Q.startsWith("0x"))Q="0x"+Q;Q=O0(M0(Q))}P0(this,{bytecode:Q,interface:Z,runner:X||null})}attach($){return new YZ($,this.interface,this.runner)}async getDeployTransaction(...$){let Q={},X=this.interface.deploy;if(X.inputs.length+1===$.length)Q=await B1($.pop());if(X.inputs.length!==$.length)throw new Error("incorrect number of arguments to constructor");let Z=await U9(this.runner,X.inputs,$),Y=s0([this.bytecode,this.interface.encodeDeploy(Z)]);return Object.assign({},Q,{data:Y})}async deploy(...$){let Q=await this.getDeployTransaction(...$);J0(this.runner&&typeof this.runner.sendTransaction==="function","factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let X=await this.runner.sendTransaction(Q),Z=EJ(X);return new YZ(Z,this.interface,this.runner,X)}connect($){return new TW(this.interface,this.bytecode,$)}static fromSolidity($,Q){if(h($!=null,"bad compiler output","output",$),typeof $==="string")$=JSON.parse($);let X=$.abi,Z="";if($.bytecode)Z=$.bytecode;else if($.evm&&$.evm.bytecode)Z=$.evm.bytecode;return new this(X,Z,Q)}}var s2=K0(()=>{y8();d$();d0();O9()});var FW=K0(()=>{O9();s2();G9()});function z9($){if($.match(/^ipfs:\/\/ipfs\//i))$=$.substring(12);else if($.match(/^ipfs:\/\//i))$=$.substring(7);else h(!1,"unsupported IPFS format","link",$);return`https://gateway.ipfs.io/ipfs/${$}`}class RW{name;constructor($){P0(this,{name:$})}connect($){return this}supportsCoinType($){return!1}async encodeAddress($,Q){throw new Error("unsupported coin")}async decodeAddress($,Q){throw new Error("unsupported coin")}}class RZ{provider;address;name;#$;#Q;constructor($,Q,X){P0(this,{provider:$,address:Q,name:X}),this.#$=null,this.#Q=new MX(Q,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],$)}async supportsWildcard(){if(this.#$==null)this.#$=(async()=>{try{return await this.#Q.supportsInterface("0x9061b923")}catch($){if(D$($,"CALL_EXCEPTION"))return!1;throw this.#$=null,$}})();return await this.#$}async#X($,Q){Q=(Q||[]).slice();let X=this.#Q.interface;Q.unshift(SY(this.name));let Z=null;if(await this.supportsWildcard())Z=X.getFunction($),J0(Z,"missing fragment","UNKNOWN_ERROR",{info:{funcName:$}}),Q=[zW(this.name,255),X.encodeFunctionData(Z,Q)],$="resolve(bytes,bytes)";Q.push({enableCcipRead:!0});try{let Y=await this.#Q[$](...Q);if(Z)return X.decodeFunctionResult(Z,Y)[0];return Y}catch(Y){if(!D$(Y,"CALL_EXCEPTION"))throw Y}return null}async getAddress($){if($==null)$=60;if($===60)try{let Y=await this.#X("addr(bytes32)");if(Y==null||Y===tX)return null;return Y}catch(Y){if(D$(Y,"CALL_EXCEPTION"))return null;throw Y}if($>=0&&$<2147483648){let Y=$+2147483648,V=await this.#X("addr(bytes32,uint)",[Y]);if(Q$(V,20))return n0(V)}let Q=null;for(let Y of this.provider.plugins){if(!(Y instanceof RW))continue;if(Y.supportsCoinType($)){Q=Y;break}}if(Q==null)return null;let X=await this.#X("addr(bytes32,uint)",[$]);if(X==null||X==="0x")return null;let Z=await Q.decodeAddress($,X);if(Z!=null)return Z;J0(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${$})`,info:{coinType:$,data:X}})}async getText($){let Q=await this.#X("text(bytes32,string)",[$]);if(Q==null||Q==="0x")return null;return Q}async getContentHash(){let $=await this.#X("contenthash(bytes32)");if($==null||$==="0x")return null;let Q=$.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(Q){let Z=Q[1]==="e3010170"?"ipfs":"ipns",Y=parseInt(Q[4],16);if(Q[5].length===Y*2)return`${Z}://${OJ("0x"+Q[2])}`}let X=$.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(X&&X[1].length===64)return`bzz://${X[1]}`;J0(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:$}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){let $=[{type:"name",value:this.name}];try{let Q=await this.getText("avatar");if(Q==null)return $.push({type:"!avatar",value:""}),{url:null,linkage:$};$.push({type:"avatar",value:Q});for(let X=0;X<i2.length;X++){let Z=Q.match(i2[X]);if(Z==null)continue;let Y=Z[1].toLowerCase();switch(Y){case"https":case"data":return $.push({type:"url",value:Q}),{linkage:$,url:Q};case"ipfs":{let V=z9(Q);return $.push({type:"ipfs",value:Q}),$.push({type:"url",value:V}),{linkage:$,url:V}}case"erc721":case"erc1155":{let V=Y==="erc721"?"tokenURI(uint256)":"uri(uint256)";$.push({type:Y,value:Q});let G=await this.getAddress();if(G==null)return $.push({type:"!owner",value:""}),{url:null,linkage:$};let H=(Z[2]||"").split("/");if(H.length!==2)return $.push({type:`!${Y}caip`,value:Z[2]||""}),{url:null,linkage:$};let D=H[1],A=new MX(H[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(Y==="erc721"){let P=await A.ownerOf(D);if(G!==P)return $.push({type:"!owner",value:P}),{url:null,linkage:$};$.push({type:"owner",value:P})}else if(Y==="erc1155"){let P=await A.balanceOf(G,D);if(!P)return $.push({type:"!balance",value:"0"}),{url:null,linkage:$};$.push({type:"balance",value:P.toString()})}let T=await A[V](D);if(T==null||T==="0x")return $.push({type:"!metadata-url",value:""}),{url:null,linkage:$};if($.push({type:"metadata-url-base",value:T}),Y==="erc1155")T=T.replace("{id}",qQ(D,32).substring(2)),$.push({type:"metadata-url-expanded",value:T});if(T.match(/^ipfs:/i))T=z9(T);$.push({type:"metadata-url",value:T});let F={},M=await new q$(T).send();M.assertOk();try{F=M.bodyJson}catch(P){try{$.push({type:"!metadata",value:M.bodyText})}catch(S){let j=M.body;if(j)$.push({type:"!metadata",value:O0(j)});return{url:null,linkage:$}}return{url:null,linkage:$}}if(!F)return $.push({type:"!metadata",value:""}),{url:null,linkage:$};$.push({type:"metadata",value:JSON.stringify(F)});let I=F.image;if(typeof I!=="string")return $.push({type:"!imageUrl",value:""}),{url:null,linkage:$};if(I.match(/^(https:\/\/|data:)/i));else{if(I.match(r2)==null)return $.push({type:"!imageUrl-ipfs",value:I}),{url:null,linkage:$};$.push({type:"imageUrl-ipfs",value:I}),I=z9(I)}return $.push({type:"url",value:I}),{linkage:$,url:I}}}}}catch(Q){}return{linkage:$,url:null}}static async getEnsAddress($){let Q=await $.getNetwork(),X=Q.getPlugin("org.ethers.plugins.network.Ens");return J0(X,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:Q}}),X.address}static async#Z($,Q){let X=await RZ.getEnsAddress($);try{let Y=await new MX(X,["function resolver(bytes32) view returns (address)"],$).resolver(SY(Q),{enableCcipRead:!0});if(Y===tX)return null;return Y}catch(Z){throw Z}return null}static async fromName($,Q){let X=Q;while(!0){if(X===""||X===".")return null;if(Q!=="eth"&&X==="eth")return null;let Z=await RZ.#Z($,X);if(Z!=null){let Y=new RZ($,Z,Q);if(X!==Q&&!await Y.supportsWildcard())return null;return Y}X=X.split(".").slice(1).join(".")}}}var r2,i2;var H9=K0(()=>{d$();P8();FW();CZ();d0();r2=new RegExp("^(ipfs)://(.*)$","i"),i2=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),r2,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")]});function K$($,Q){return function(X){if(X==null)return Q;return $(X)}}function EW($,Q){return(X)=>{if(Q&&X==null)return null;if(!Array.isArray(X))throw new Error("not an array");return X.map((Z)=>$(Z))}}function IW($,Q){return(X)=>{let Z={};for(let Y in $){let V=Y;if(Q&&Y in Q&&!(V in X)){for(let G of Q[Y])if(G in X){V=G;break}}try{let G=$[Y](X[V]);if(G!==void 0)Z[Y]=G}catch(G){let H=G instanceof Error?G.message:"not-an-error";J0(!1,`invalid value for value.${Y} (${H})`,"BAD_DATA",{value:X})}}return Z}}function TE($){switch($){case!0:case"true":return!0;case!1:case"false":return!1}h(!1,`invalid boolean; ${JSON.stringify($)}`,"value",$)}function m8($){return h(Q$($,!0),"invalid data","value",$),$}function jQ($){return h(Q$($,32),"invalid hash","value",$),$}function t2($){return FE($)}function e2($){let Q=RE($);return Q.transactions=$.transactions.map((X)=>{if(typeof X==="string")return X;return L9(X)}),Q}function IE($){return EE($)}function $L($){return PE($)}function L9($){if($.to&&c0($.to)===a2)$.to="0x0000000000000000000000000000000000000000";let Q=IW({hash:jQ,index:K$(o0,void 0),type:(X)=>{if(X==="0x"||X==null)return 0;return o0(X)},accessList:K$(SQ,null),blobVersionedHashes:K$(EW(jQ,!0),null),authorizationList:K$(EW((X)=>{let Z;if(X.signature)Z=X.signature;else{let Y=X.yParity;if(Y==="0x1b")Y=0;else if(Y==="0x1c")Y=1;Z=Object.assign({},X,{yParity:Y})}return{address:n0(X.address),chainId:c0(X.chainId),nonce:c0(X.nonce),signature:P$.from(Z)}},!1),null),blockHash:K$(jQ,null),blockNumber:K$(o0,null),transactionIndex:K$(o0,null),from:n0,gasPrice:K$(c0),maxPriorityFeePerGas:K$(c0),maxFeePerGas:K$(c0),maxFeePerBlobGas:K$(c0,null),gasLimit:c0,to:K$(n0,null),value:c0,nonce:o0,data:m8,creates:K$(n0,null),chainId:K$(c0,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})($);if(Q.to==null&&Q.creates==null)Q.creates=EJ(Q);if(($.type===1||$.type===2)&&$.accessList==null)Q.accessList=[];if($.signature)Q.signature=P$.from($.signature);else Q.signature=P$.from($);if(Q.chainId==null){let X=Q.signature.legacyChainId;if(X!=null)Q.chainId=X}if(Q.blockHash&&c0(Q.blockHash)===a2)Q.blockHash=null;return Q}var a2,FE,RE,EE,PE;var QL=K0(()=>{d$();n$();mQ();d0();a2=BigInt(0);FE=IW({address:n0,blockHash:jQ,blockNumber:o0,data:m8,index:o0,removed:K$(TE,!1),topics:EW(jQ),transactionHash:jQ,transactionIndex:o0},{index:["logIndex"]});RE=IW({hash:K$(jQ),parentHash:jQ,parentBeaconBlockRoot:K$(jQ,null),number:o0,timestamp:o0,nonce:K$(m8),difficulty:c0,gasLimit:c0,gasUsed:c0,stateRoot:K$(jQ,null),receiptsRoot:K$(jQ,null),blobGasUsed:K$(c0,null),excessBlobGas:K$(c0,null),miner:K$(n0),prevRandao:K$(jQ,null),extraData:m8,baseFeePerGas:K$(c0)},{prevRandao:["mixHash"]});EE=IW({transactionIndex:o0,blockNumber:o0,transactionHash:jQ,address:n0,topics:EW(jQ),data:m8,index:o0,blockHash:jQ},{index:["logIndex"]});PE=IW({to:K$(n0,null),from:K$(n0,null),contractAddress:K$(n0,null),index:o0,root:K$(O0),gasUsed:c0,blobGasUsed:K$(c0,null),logsBloom:K$(m8),blockHash:jQ,hash:jQ,logs:EW(IE),blockNumber:o0,cumulativeGasUsed:c0,effectiveGasPrice:K$(c0),blobGasPrice:K$(c0,null),status:K$(o0),type:K$(o0,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]})});class JZ{name;constructor($){P0(this,{name:$})}clone(){return new JZ(this.name)}}var SE="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",xY,kY,PW,u8;var j1=K0(()=>{d0();xY=class xY extends JZ{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor($,Q){if($==null)$=0;super(`org.ethers.network.plugins.GasCost#${$||0}`);let X={effectiveBlock:$};function Z(Y,V){let G=(Q||{})[Y];if(G==null)G=V;h(typeof G==="number",`invalud value for ${Y}`,"costs",Q),X[Y]=G}Z("txBase",21000),Z("txCreate",32000),Z("txDataZero",4),Z("txDataNonzero",16),Z("txAccessListStorageKey",1900),Z("txAccessListAddress",2400),P0(this,X)}clone(){return new xY(this.effectiveBlock,this)}};kY=class kY extends JZ{address;targetNetwork;constructor($,Q){super("org.ethers.plugins.network.Ens");P0(this,{address:$||SE,targetNetwork:Q==null?1:Q})}clone(){return new kY(this.address,this.targetNetwork)}};PW=class PW extends JZ{#$;get feeDataFunc(){return this.#$}constructor($){super("org.ethers.plugins.network.FeeData");this.#$=$}async getFeeData($){return await this.#$($)}clone(){return new PW(this.#$)}};u8=class u8 extends JZ{#$;#Q;get url(){return this.#$}get processFunc(){return this.#Q}constructor($,Q){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");this.#$=$,this.#Q=Q}clone(){return this}}});class Y${#$;#Q;#X;constructor($,Q){this.#$=$,this.#Q=c0(Q),this.#X=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#$}set name($){this.#$=$}get chainId(){return this.#Q}set chainId($){this.#Q=c0($,"chainId")}matches($){if($==null)return!1;if(typeof $==="string"){try{return this.chainId===c0($)}catch(Q){}return this.name===$}if(typeof $==="number"||typeof $==="bigint"){try{return this.chainId===c0($)}catch(Q){}return!1}if(typeof $==="object"){if($.chainId!=null){try{return this.chainId===c0($.chainId)}catch(Q){}return!1}if($.name!=null)return this.name===$.name;return!1}return!1}get plugins(){return Array.from(this.#X.values())}attachPlugin($){if(this.#X.get($.name))throw new Error(`cannot replace existing plugin: ${$.name} `);return this.#X.set($.name,$.clone()),this}getPlugin($){return this.#X.get($)||null}getPlugins($){return this.plugins.filter((Q)=>Q.name.split("#")[0]===$)}clone(){let $=new Y$(this.name,this.chainId);return this.plugins.forEach((Q)=>{$.attachPlugin(Q.clone())}),$}computeIntrinsicGas($){let Q=this.getPlugin("org.ethers.plugins.network.GasCost")||new xY,X=Q.txBase;if($.to==null)X+=Q.txCreate;if($.data)for(let Z=2;Z<$.data.length;Z+=2)if($.data.substring(Z,Z+2)==="00")X+=Q.txDataZero;else X+=Q.txDataNonzero;if($.accessList){let Z=SQ($.accessList);for(let Y in Z)X+=Q.txAccessListAddress+Q.txAccessListStorageKey*Z[Y].storageKeys.length}return X}static from($){if(BE(),$==null)return Y$.from("mainnet");if(typeof $==="number")$=BigInt($);if(typeof $==="string"||typeof $==="bigint"){let Q=D9.get($);if(Q)return Q();if(typeof $==="bigint")return new Y$("unknown",$);h(!1,"unknown network","network",$)}if(typeof $.clone==="function")return $.clone();if(typeof $==="object"){h(typeof $.name==="string"&&typeof $.chainId==="number","invalid network object name or chainId","network",$);let Q=new Y$($.name,$.chainId);if($.ensAddress||$.ensNetwork!=null)Q.attachPlugin(new kY($.ensAddress,$.ensNetwork));return Q}h(!1,"invalid network","network",$)}static register($,Q){if(typeof $==="number")$=BigInt($);let X=D9.get($);if(X)h(!1,`conflicting network for ${JSON.stringify(X.name)}`,"nameOrChainId",$);D9.set($,Q)}}function XL($,Q){let X=String($);if(!X.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${$}`);let Z=X.split(".");if(Z.length===1)Z.push("");if(Z.length!==2)throw new Error(`invalid gwei value: ${$}`);while(Z[1].length<Q)Z[1]+="0";if(Z[1].length>9){let Y=BigInt(Z[1].substring(0,9));if(!Z[1].substring(9).match(/^0+$/))Y++;Z[1]=Y.toString()}return BigInt(Z[0]+Z[1])}function ZL($){return new u8($,async(Q,X,Z)=>{Z.setHeader("User-Agent","ethers");let Y;try{let[V,G]=await Promise.all([Z.send(),Q()]);Y=V;let H=Y.bodyJson.standard;return{gasPrice:G.gasPrice,maxFeePerGas:XL(H.maxFee,9),maxPriorityFeePerGas:XL(H.maxPriorityFee,9)}}catch(V){J0(!1,`error encountered with polygon gas station (${JSON.stringify(Z.url)})`,"SERVER_ERROR",{request:Z,response:Y,error:V})}})}function BE(){if(YL)return;YL=!0;function $(Q,X,Z){let Y=function(){let V=new Y$(Q,X);if(Z.ensNetwork!=null)V.attachPlugin(new kY(null,Z.ensNetwork));return V.attachPlugin(new xY),(Z.plugins||[]).forEach((G)=>{V.attachPlugin(G)}),V};if(Y$.register(Q,Y),Y$.register(X,Y),Z.altNames)Z.altNames.forEach((V)=>{Y$.register(V,Y)})}$("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),$("ropsten",3,{ensNetwork:3}),$("rinkeby",4,{ensNetwork:4}),$("goerli",5,{ensNetwork:5}),$("kovan",42,{ensNetwork:42}),$("sepolia",11155111,{ensNetwork:11155111}),$("holesky",17000,{ensNetwork:17000}),$("classic",61,{}),$("classicKotti",6,{}),$("arbitrum",42161,{ensNetwork:1}),$("arbitrum-goerli",421613,{}),$("arbitrum-sepolia",421614,{}),$("base",8453,{ensNetwork:1}),$("base-goerli",84531,{}),$("base-sepolia",84532,{}),$("bnb",56,{ensNetwork:1}),$("bnbt",97,{}),$("linea",59144,{ensNetwork:1}),$("linea-goerli",59140,{}),$("linea-sepolia",59141,{}),$("matic",137,{ensNetwork:1,plugins:[ZL("https://gasstation.polygon.technology/v2")]}),$("matic-amoy",80002,{}),$("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[ZL("https://gasstation-testnet.polygon.technology/v2")]}),$("optimism",10,{ensNetwork:1,plugins:[]}),$("optimism-goerli",420,{}),$("optimism-sepolia",11155420,{}),$("xdai",100,{ensNetwork:1})}var D9,YL=!1;var dQ=K0(()=>{mQ();d0();j1();D9=new Map});function q9($){return JSON.parse(JSON.stringify($))}class M9{#$;#Q;#X;#Z;constructor($){this.#$=$,this.#Q=null,this.#X=4000,this.#Z=-2}get pollingInterval(){return this.#X}set pollingInterval($){this.#X=$}async#Y(){try{let $=await this.#$.getBlockNumber();if(this.#Z===-2){this.#Z=$;return}if($!==this.#Z){for(let Q=this.#Z+1;Q<=$;Q++){if(this.#Q==null)return;await this.#$.emit("block",Q)}this.#Z=$}}catch($){}if(this.#Q==null)return;this.#Q=this.#$._setTimeout(this.#Y.bind(this),this.#X)}start(){if(this.#Q)return;this.#Q=this.#$._setTimeout(this.#Y.bind(this),this.#X),this.#Y()}stop(){if(!this.#Q)return;this.#$._clearTimeout(this.#Q),this.#Q=null}pause($){if(this.stop(),$)this.#Z=-2}resume(){this.start()}}class N1{#$;#Q;#X;constructor($){this.#$=$,this.#X=!1,this.#Q=(Q)=>{this._poll(Q,this.#$)}}async _poll($,Q){throw new Error("sub-classes must override this")}start(){if(this.#X)return;this.#X=!0,this.#Q(-2),this.#$.on("block",this.#Q)}stop(){if(!this.#X)return;this.#X=!1,this.#$.off("block",this.#Q)}pause($){this.stop()}resume(){this.start()}}class fJ{#$;#Q;#X;#Z;#Y;constructor($,Q){this.#$=$,this.#Q=q9(Q),this.#X=this.#G.bind(this),this.#Z=!1,this.#Y=-2}async#G($){if(this.#Y===-2)return;let Q=q9(this.#Q);Q.fromBlock=this.#Y+1,Q.toBlock=$;let X=await this.#$.getLogs(Q);if(X.length===0){if(this.#Y<$-60)this.#Y=$-60;return}for(let Z of X)this.#$.emit(this.#Q,Z),this.#Y=Z.blockNumber}start(){if(this.#Z)return;if(this.#Z=!0,this.#Y===-2)this.#$.getBlockNumber().then(($)=>{this.#Y=$});this.#$.on("block",this.#X)}stop(){if(!this.#Z)return;this.#Z=!1,this.#$.off("block",this.#X)}pause($){if(this.stop(),$)this.#Y=-2}resume(){this.start()}}var A9,C9,T9;var w1=K0(()=>{A9=class A9 extends N1{#$;#Q;constructor($,Q){super($);this.#$=Q,this.#Q=-2}pause($){if($)this.#Q=-2;super.pause($)}async _poll($,Q){let X=await Q.getBlock(this.#$);if(X==null)return;if(this.#Q===-2)this.#Q=X.number;else if(X.number>this.#Q)Q.emit(this.#$,X.number),this.#Q=X.number}};C9=class C9 extends N1{#$;constructor($,Q){super($);this.#$=q9(Q)}async _poll($,Q){throw new Error("@TODO")}};T9=class T9 extends N1{#$;constructor($,Q){super($);this.#$=Q}async _poll($,Q){let X=await Q.getTransactionReceipt(this.#$);if(X)Q.emit(this.#$,X)}}});function _1($){return $&&typeof $.then==="function"}function x1($,Q){return $+":"+JSON.stringify(Q,(X,Z)=>{if(Z==null)return"null";if(typeof Z==="bigint")return`bigint:${Z.toString()}`;if(typeof Z==="string")return Z.toLowerCase();if(typeof Z==="object"&&!Array.isArray(Z)){let Y=Object.keys(Z);return Y.sort(),Y.reduce((V,G)=>{return V[G]=Z[G],V},{})}return Z})}class EZ{name;constructor($){P0(this,{name:$})}start(){}stop(){}pause($){}resume(){}}function wE($){return JSON.parse(JSON.stringify($))}function E9($){return $=Array.from(new Set($).values()),$.sort(),$}async function F9($,Q){if($==null)throw new Error("invalid event");if(Array.isArray($))$={topics:$};if(typeof $==="string")switch($){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:$,tag:$}}if(Q$($,32)){let X=$.toLowerCase();return{type:"transaction",tag:x1("tx",{hash:X}),hash:X}}if($.orphan){let X=$;return{type:"orphan",tag:x1("orphan",X),filter:wE(X)}}if($.address||$.topics){let X=$,Z={topics:(X.topics||[]).map((Y)=>{if(Y==null)return null;if(Array.isArray(Y))return E9(Y.map((V)=>V.toLowerCase()));return Y.toLowerCase()})};if(X.address){let Y=[],V=[],G=(H)=>{if(Q$(H))Y.push(H);else V.push((async()=>{Y.push(await N$(H,Q))})())};if(Array.isArray(X.address))X.address.forEach(G);else G(X.address);if(V.length)await Promise.all(V);Z.address=E9(Y.map((H)=>H.toLowerCase()))}return{filter:Z,tag:x1("event",Z),type:"event"}}h(!1,"unknown ProviderEvent","event",$)}function R9(){return new Date().getTime()}class GZ{#$;#Q;#X;#Z;#Y;#G;#J;#W;#O;#U;#L;#D;constructor($,Q){if(this.#D=Object.assign({},_E,Q||{}),$==="any")this.#G=!0,this.#Y=null;else if($){let X=Y$.from($);this.#G=!1,this.#Y=Promise.resolve(X),setTimeout(()=>{this.emit("network",X,null)},0)}else this.#G=!1,this.#Y=null;this.#W=-1,this.#J=new Map,this.#$=new Map,this.#Q=new Map,this.#X=null,this.#Z=!1,this.#O=1,this.#U=new Map,this.#L=!1}get pollingInterval(){return this.#D.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#Q.values())}attachPlugin($){if(this.#Q.get($.name))throw new Error(`cannot replace existing plugin: ${$.name} `);return this.#Q.set($.name,$.connect(this)),this}getPlugin($){return this.#Q.get($)||null}get disableCcipRead(){return this.#L}set disableCcipRead($){this.#L=!!$}async#V($){let Q=this.#D.cacheTimeout;if(Q<0)return await this._perform($);let X=x1($.method,$),Z=this.#J.get(X);if(!Z)Z=this._perform($),this.#J.set(X,Z),setTimeout(()=>{if(this.#J.get(X)===Z)this.#J.delete(X)},Q);return await Z}async ccipReadFetch($,Q,X){if(this.disableCcipRead||X.length===0||$.to==null)return null;let Z=$.to.toLowerCase(),Y=Q.toLowerCase(),V=[];for(let G=0;G<X.length;G++){let H=X[G],D=H.replace("{sender}",Z).replace("{data}",Y),A=new q$(D);if(H.indexOf("{data}")===-1)A.body={data:Y,sender:Z};this.emit("debug",{action:"sendCcipReadFetchRequest",request:A,index:G,urls:X});let T="unknown error",F;try{F=await A.send()}catch(M){V.push(M.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:A,result:{error:M}});continue}try{let M=F.bodyJson;if(M.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:A,result:M}),M.data;if(M.message)T=M.message;this.emit("debug",{action:"receiveCcipReadFetchError",request:A,result:M})}catch(M){}J0(F.statusCode<400||F.statusCode>=500,`response not found during CCIP fetch: ${T}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:$,info:{url:H,errorMessage:T}}),V.push(T)}J0(!1,`error encountered during CCIP fetch: ${V.map((G)=>JSON.stringify(G)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:$,info:{urls:X,errorMessages:V}})}_wrapBlock($,Q){return new b8(e2($),this)}_wrapLog($,Q){return new xX(t2($),this)}_wrapTransactionReceipt($,Q){return new NY($L($),this)}_wrapTransactionResponse($,Q){return new FZ(L9($),this)}_detectNetwork(){J0(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform($){J0(!1,`unsupported method: ${$.method}`,"UNSUPPORTED_OPERATION",{operation:$.method,info:$})}async getBlockNumber(){let $=o0(await this.#V({method:"getBlockNumber"}),"%response");if(this.#W>=0)this.#W=$;return $}_getAddress($){return N$($,this)}_getBlockTag($){if($==null)return"latest";switch($){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return $}if(Q$($)){if(Q$($,32))return $;return OQ($)}if(typeof $==="bigint")$=o0($,"blockTag");if(typeof $==="number"){if($>=0)return OQ($);if(this.#W>=0)return OQ(this.#W+$);return this.getBlockNumber().then((Q)=>OQ(Q+$))}h(!1,"invalid blockTag","blockTag",$)}_getFilter($){let Q=($.topics||[]).map((H)=>{if(H==null)return null;if(Array.isArray(H))return E9(H.map((D)=>D.toLowerCase()));return H.toLowerCase()}),X="blockHash"in $?$.blockHash:void 0,Z=(H,D,A)=>{let T=void 0;switch(H.length){case 0:break;case 1:T=H[0];break;default:H.sort(),T=H}if(X){if(D!=null||A!=null)throw new Error("invalid filter")}let F={};if(T)F.address=T;if(Q.length)F.topics=Q;if(D)F.fromBlock=D;if(A)F.toBlock=A;if(X)F.blockHash=X;return F},Y=[];if($.address)if(Array.isArray($.address))for(let H of $.address)Y.push(this._getAddress(H));else Y.push(this._getAddress($.address));let V=void 0;if("fromBlock"in $)V=this._getBlockTag($.fromBlock);let G=void 0;if("toBlock"in $)G=this._getBlockTag($.toBlock);if(Y.filter((H)=>typeof H!=="string").length||V!=null&&typeof V!=="string"||G!=null&&typeof G!=="string")return Promise.all([Promise.all(Y),V,G]).then((H)=>{return Z(H[0],H[1],H[2])});return Z(Y,V,G)}_getTransactionRequest($){let Q=_X($),X=[];if(["to","from"].forEach((Z)=>{if(Q[Z]==null)return;let Y=N$(Q[Z],this);if(_1(Y))X.push(async function(){Q[Z]=await Y}());else Q[Z]=Y}),Q.blockTag!=null){let Z=this._getBlockTag(Q.blockTag);if(_1(Z))X.push(async function(){Q.blockTag=await Z}());else Q.blockTag=Z}if(X.length)return async function(){return await Promise.all(X),Q}();return Q}async getNetwork(){if(this.#Y==null){let Z=(async()=>{try{let Y=await this._detectNetwork();return this.emit("network",Y,null),Y}catch(Y){if(this.#Y===Z)this.#Y=null;throw Y}})();return this.#Y=Z,(await Z).clone()}let $=this.#Y,[Q,X]=await Promise.all([$,this._detectNetwork()]);if(Q.chainId!==X.chainId)if(this.#G){if(this.emit("network",X,Q),this.#Y===$)this.#Y=Promise.resolve(X)}else J0(!1,`network changed: ${Q.chainId} => ${X.chainId} `,"NETWORK_ERROR",{event:"changed"});return Q.clone()}async getFeeData(){let $=await this.getNetwork(),Q=async()=>{let{_block:Z,gasPrice:Y,priorityFee:V}=await B$({_block:this.#M("latest",!1),gasPrice:(async()=>{try{let A=await this.#V({method:"getGasPrice"});return c0(A,"%response")}catch(A){}return null})(),priorityFee:(async()=>{try{let A=await this.#V({method:"getPriorityFee"});return c0(A,"%response")}catch(A){}return null})()}),G=null,H=null,D=this._wrapBlock(Z,$);if(D&&D.baseFeePerGas)H=V!=null?V:BigInt("1000000000"),G=D.baseFeePerGas*jE+H;return new NJ(Y,G,H)},X=$.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(X){let Z=new q$(X.url),Y=await X.processFunc(Q,this,Z);return new NJ(Y.gasPrice,Y.maxFeePerGas,Y.maxPriorityFeePerGas)}return await Q()}async estimateGas($){let Q=this._getTransactionRequest($);if(_1(Q))Q=await Q;return c0(await this.#V({method:"estimateGas",transaction:Q}),"%response")}async#K($,Q,X){J0(X<NE,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},$,{blockTag:Q,enableCcipRead:!0})});let Z=_X($);try{return O0(await this._perform({method:"call",transaction:Z,blockTag:Q}))}catch(Y){if(!this.disableCcipRead&&MY(Y)&&Y.data&&X>=0&&Q==="latest"&&Z.to!=null&&O$(Y.data,0,4)==="0x556f1830"){let V=Y.data,G=await N$(Z.to,this),H;try{H=gE(O$(Y.data,4))}catch(T){J0(!1,T.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:Z,info:{data:V}})}J0(H.sender.toLowerCase()===G.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:V,reason:"OffchainLookup",transaction:Z,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:H.errorArgs}});let D=await this.ccipReadFetch(Z,H.calldata,H.urls);J0(D!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:Z,info:{data:Y.data,errorArgs:H.errorArgs}});let A={to:G,data:s0([H.selector,vE([D,H.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:A});try{let T=await this.#K(A,Q,X+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},A),result:T}),T}catch(T){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},A),error:T}),T}}throw Y}}async#z($){let{value:Q}=await B$({network:this.getNetwork(),value:$});return Q}async call($){let{tx:Q,blockTag:X}=await B$({tx:this._getTransactionRequest($),blockTag:this._getBlockTag($.blockTag)});return await this.#z(this.#K(Q,X,$.enableCcipRead?0:-1))}async#H($,Q,X){let Z=this._getAddress(Q),Y=this._getBlockTag(X);if(typeof Z!=="string"||typeof Y!=="string")[Z,Y]=await Promise.all([Z,Y]);return await this.#z(this.#V(Object.assign($,{address:Z,blockTag:Y})))}async getBalance($,Q){return c0(await this.#H({method:"getBalance"},$,Q),"%response")}async getTransactionCount($,Q){return o0(await this.#H({method:"getTransactionCount"},$,Q),"%response")}async getCode($,Q){return O0(await this.#H({method:"getCode"},$,Q))}async getStorage($,Q,X){let Z=c0(Q,"position");return O0(await this.#H({method:"getStorage",position:Z},$,X))}async broadcastTransaction($){let{blockNumber:Q,hash:X,network:Z}=await B$({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:$}),network:this.getNetwork()}),Y=s$.from($);if(Y.hash!==X)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(Y,Z).replaceableTransaction(Q)}async#M($,Q){if(Q$($,32))return await this.#V({method:"getBlock",blockHash:$,includeTransactions:Q});let X=this._getBlockTag($);if(typeof X!=="string")X=await X;return await this.#V({method:"getBlock",blockTag:X,includeTransactions:Q})}async getBlock($,Q){let{network:X,params:Z}=await B$({network:this.getNetwork(),params:this.#M($,!!Q)});if(Z==null)return null;return this._wrapBlock(Z,X)}async getTransaction($){let{network:Q,params:X}=await B$({network:this.getNetwork(),params:this.#V({method:"getTransaction",hash:$})});if(X==null)return null;return this._wrapTransactionResponse(X,Q)}async getTransactionReceipt($){let{network:Q,params:X}=await B$({network:this.getNetwork(),params:this.#V({method:"getTransactionReceipt",hash:$})});if(X==null)return null;if(X.gasPrice==null&&X.effectiveGasPrice==null){let Z=await this.#V({method:"getTransaction",hash:$});if(Z==null)throw new Error("report this; could not find tx or effectiveGasPrice");X.effectiveGasPrice=Z.gasPrice}return this._wrapTransactionReceipt(X,Q)}async getTransactionResult($){let{result:Q}=await B$({network:this.getNetwork(),result:this.#V({method:"getTransactionResult",hash:$})});if(Q==null)return null;return O0(Q)}async getLogs($){let Q=this._getFilter($);if(_1(Q))Q=await Q;let{network:X,params:Z}=await B$({network:this.getNetwork(),params:this.#V({method:"getLogs",filter:Q})});return Z.map((Y)=>this._wrapLog(Y,X))}_getProvider($){J0(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver($){return await RZ.fromName(this,$)}async getAvatar($){let Q=await this.getResolver($);if(Q)return await Q.getAvatar();return null}async resolveName($){let Q=await this.getResolver($);if(Q)return await Q.getAddress();return null}async lookupAddress($){$=n0($);let Q=SY($.substring(2).toLowerCase()+".addr.reverse");try{let X=await RZ.getEnsAddress(this),Y=await new MX(X,["function resolver(bytes32) view returns (address)"],this).resolver(Q);if(Y==null||Y===tX)return null;let G=await new MX(Y,["function name(bytes32) view returns (string)"],this).name(Q);if(await this.resolveName(G)!==$)return null;return G}catch(X){if(D$(X,"BAD_DATA")&&X.value==="0x")return null;if(D$(X,"CALL_EXCEPTION"))return null;throw X}return null}async waitForTransaction($,Q,X){let Z=Q!=null?Q:1;if(Z===0)return this.getTransactionReceipt($);return new Promise(async(Y,V)=>{let G=null,H=async(D)=>{try{let A=await this.getTransactionReceipt($);if(A!=null){if(D-A.blockNumber+1>=Z){if(Y(A),G)clearTimeout(G),G=null;return}}}catch(A){console.log("EEE",A)}this.once("block",H)};if(X!=null)G=setTimeout(()=>{if(G==null)return;G=null,this.off("block",H),V(W$("timeout","TIMEOUT",{reason:"timeout"}))},X);H(await this.getBlockNumber())})}async waitForBlock($){J0(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout($){let Q=this.#U.get($);if(!Q)return;if(Q.timer)clearTimeout(Q.timer);this.#U.delete($)}_setTimeout($,Q){if(Q==null)Q=0;let X=this.#O++,Z=()=>{this.#U.delete(X),$()};if(this.paused)this.#U.set(X,{timer:null,func:Z,time:Q});else{let Y=setTimeout(Z,Q);this.#U.set(X,{timer:Y,func:Z,time:R9()})}return X}_forEachSubscriber($){for(let Q of this.#$.values())$(Q.subscriber)}_getSubscriber($){switch($.type){case"debug":case"error":case"network":return new EZ($.type);case"block":{let Q=new M9(this);return Q.pollingInterval=this.pollingInterval,Q}case"safe":case"finalized":return new A9(this,$.type);case"event":return new fJ(this,$.filter);case"transaction":return new T9(this,$.hash);case"orphan":return new C9(this,$.filter)}throw new Error(`unsupported event: ${$.type}`)}_recoverSubscriber($,Q){for(let X of this.#$.values())if(X.subscriber===$){if(X.started)X.subscriber.stop();if(X.subscriber=Q,X.started)Q.start();if(this.#X!=null)Q.pause(this.#X);break}}async#q($,Q){let X=await F9($,this);if(X.type==="event"&&Q&&Q.length>0&&Q[0].removed===!0)X=await F9({orphan:"drop-log",log:Q[0]},this);return this.#$.get(X.tag)||null}async#A($){let Q=await F9($,this),X=Q.tag,Z=this.#$.get(X);if(!Z)Z={subscriber:this._getSubscriber(Q),tag:X,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#$.set(X,Z);return Z}async on($,Q){let X=await this.#A($);if(X.listeners.push({listener:Q,once:!1}),!X.started){if(X.subscriber.start(),X.started=!0,this.#X!=null)X.subscriber.pause(this.#X)}return this}async once($,Q){let X=await this.#A($);if(X.listeners.push({listener:Q,once:!0}),!X.started){if(X.subscriber.start(),X.started=!0,this.#X!=null)X.subscriber.pause(this.#X)}return this}async emit($,...Q){let X=await this.#q($,Q);if(!X||X.listeners.length===0)return!1;let Z=X.listeners.length;if(X.listeners=X.listeners.filter(({listener:Y,once:V})=>{let G=new AY(this,V?null:Y,$);try{Y.call(this,...Q,G)}catch(H){}return!V}),X.listeners.length===0){if(X.started)X.subscriber.stop();this.#$.delete(X.tag)}return Z>0}async listenerCount($){if($){let X=await this.#q($);if(!X)return 0;return X.listeners.length}let Q=0;for(let{listeners:X}of this.#$.values())Q+=X.length;return Q}async listeners($){if($){let X=await this.#q($);if(!X)return[];return X.listeners.map(({listener:Z})=>Z)}let Q=[];for(let{listeners:X}of this.#$.values())Q=Q.concat(X.map(({listener:Z})=>Z));return Q}async off($,Q){let X=await this.#q($);if(!X)return this;if(Q){let Z=X.listeners.map(({listener:Y})=>Y).indexOf(Q);if(Z>=0)X.listeners.splice(Z,1)}if(!Q||X.listeners.length===0){if(X.started)X.subscriber.stop();this.#$.delete(X.tag)}return this}async removeAllListeners($){if($){let{tag:Q,started:X,subscriber:Z}=await this.#A($);if(X)Z.stop();this.#$.delete(Q)}else for(let[Q,{started:X,subscriber:Z}]of this.#$){if(X)Z.stop();this.#$.delete(Q)}return this}async addListener($,Q){return await this.on($,Q)}async removeListener($,Q){return this.off($,Q)}get destroyed(){return this.#Z}destroy(){this.removeAllListeners();for(let $ of this.#U.keys())this._clearTimeout($);this.#Z=!0}get paused(){return this.#X!=null}set paused($){if(!!$===this.paused)return;if(this.paused)this.resume();else this.pause(!1)}pause($){if(this.#W=-1,this.#X!=null){if(this.#X==!!$)return;J0(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber((Q)=>Q.pause($)),this.#X=!!$;for(let Q of this.#U.values()){if(Q.timer)clearTimeout(Q.timer);Q.time=R9()-Q.time}}resume(){if(this.#X==null)return;this._forEachSubscriber(($)=>$.resume()),this.#X=null;for(let $ of this.#U.values()){let Q=$.time;if(Q<0)Q=0;$.time=R9(),setTimeout($.func,Q)}}}function xE($,Q){try{let X=I9($,Q);if(X)return bQ(X)}catch(X){}return null}function I9($,Q){if($==="0x")return null;try{let X=o0(O$($,Q,Q+32)),Z=o0(O$($,X,X+32));return O$($,X+32,X+32+Z)}catch(X){}return null}function JL($){let Q=z$($);if(Q.length>32)throw new Error("internal; should not happen");let X=new Uint8Array(32);return X.set(Q,32-Q.length),X}function kE($){if($.length%32===0)return $;let Q=new Uint8Array(Math.ceil($.length/32)*32);return Q.set($),Q}function vE($){let Q=[],X=0;for(let Z=0;Z<$.length;Z++)Q.push(fE),X+=32;for(let Z=0;Z<$.length;Z++){let Y=M0($[Z]);Q[Z]=JL(X),Q.push(JL(Y.length)),Q.push(kE(Y)),X+=32+Math.ceil(Y.length/32)*32}return s0(Q)}function gE($){let Q={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};J0(aQ($)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});let X=O$($,0,32);J0(O$(X,0,12)===O$(GL,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),Q.sender=O$(X,12);try{let Z=[],Y=o0(O$($,32,64)),V=o0(O$($,Y,Y+32)),G=O$($,Y+32);for(let H=0;H<V;H++){let D=xE(G,H*32);if(D==null)throw new Error("abort");Z.push(D)}Q.urls=Z}catch(Z){J0(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{let Z=I9($,64);if(Z==null)throw new Error("abort");Q.calldata=Z}catch(Z){J0(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}J0(O$($,100,128)===O$(GL,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),Q.selector=O$($,96,100);try{let Z=I9($,128);if(Z==null)throw new Error("abort");Q.extraData=Z}catch(Z){J0(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return Q.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map((Z)=>Q[Z]),Q}var jE,NE=10,_E,fE,GL="0x0000000000000000000000000000000000000000000000000000000000000000";var d8=K0(()=>{d$();P8();FW();CZ();mQ();d0();H9();QL();dQ();p8();w1();jE=BigInt(2);_E={cacheTimeout:250,pollingInterval:4000};fE=new Uint8Array([])});function vJ($,Q){if($.provider)return $.provider;J0(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:Q})}async function WL($,Q){let X=_X(Q);if(X.to!=null)X.to=N$(X.to,$);if(X.from!=null){let Z=X.from;X.from=Promise.all([$.getAddress(),N$(Z,$)]).then(([Y,V])=>{return h(Y.toLowerCase()===V.toLowerCase(),"transaction from mismatch","tx.from",V),Y})}else X.from=$.getAddress();return await B$(X)}class WZ{provider;constructor($){P0(this,{provider:$||null})}async getNonce($){return vJ(this,"getTransactionCount").getTransactionCount(await this.getAddress(),$)}async populateCall($){return await WL(this,$)}async populateTransaction($){let Q=vJ(this,"populateTransaction"),X=await WL(this,$);if(X.nonce==null)X.nonce=await this.getNonce("pending");if(X.gasLimit==null)X.gasLimit=await this.estimateGas(X);let Z=await this.provider.getNetwork();if(X.chainId!=null){let V=c0(X.chainId);h(V===Z.chainId,"transaction chainId mismatch","tx.chainId",$.chainId)}else X.chainId=Z.chainId;let Y=X.maxFeePerGas!=null||X.maxPriorityFeePerGas!=null;if(X.gasPrice!=null&&(X.type===2||Y))h(!1,"eip-1559 transaction do not support gasPrice","tx",$);else if((X.type===0||X.type===1)&&Y)h(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",$);if((X.type===2||X.type==null)&&(X.maxFeePerGas!=null&&X.maxPriorityFeePerGas!=null))X.type=2;else if(X.type===0||X.type===1){let V=await Q.getFeeData();if(J0(V.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),X.gasPrice==null)X.gasPrice=V.gasPrice}else{let V=await Q.getFeeData();if(X.type==null)if(V.maxFeePerGas!=null&&V.maxPriorityFeePerGas!=null){if(X.authorizationList&&X.authorizationList.length)X.type=4;else X.type=2;if(X.gasPrice!=null){let G=X.gasPrice;delete X.gasPrice,X.maxFeePerGas=G,X.maxPriorityFeePerGas=G}else{if(X.maxFeePerGas==null)X.maxFeePerGas=V.maxFeePerGas;if(X.maxPriorityFeePerGas==null)X.maxPriorityFeePerGas=V.maxPriorityFeePerGas}}else if(V.gasPrice!=null){if(J0(!Y,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),X.gasPrice==null)X.gasPrice=V.gasPrice;X.type=0}else J0(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else if(X.type===2||X.type===3||X.type===4){if(X.maxFeePerGas==null)X.maxFeePerGas=V.maxFeePerGas;if(X.maxPriorityFeePerGas==null)X.maxPriorityFeePerGas=V.maxPriorityFeePerGas}}return await B$(X)}async populateAuthorization($){let Q=Object.assign({},$);if(Q.chainId==null)Q.chainId=(await vJ(this,"getNetwork").getNetwork()).chainId;if(Q.nonce==null)Q.nonce=await this.getNonce();return Q}async estimateGas($){return vJ(this,"estimateGas").estimateGas(await this.populateCall($))}async call($){return vJ(this,"call").call(await this.populateCall($))}async resolveName($){return await vJ(this,"resolveName").resolveName($)}async sendTransaction($){let Q=vJ(this,"sendTransaction"),X=await this.populateTransaction($);delete X.from;let Z=s$.from(X);return await Q.broadcastTransaction(await this.signTransaction(Z))}authorize($){J0(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}var gJ;var k1=K0(()=>{d$();mQ();d0();p8();gJ=class gJ extends WZ{address;constructor($,Q){super(Q);P0(this,{address:$})}async getAddress(){return this.address}connect($){return new gJ(this.address,$)}#$($,Q){J0(!1,`VoidSigner cannot sign ${$}`,"UNSUPPORTED_OPERATION",{operation:Q})}async signTransaction($){this.#$("transactions","signTransaction")}async signMessage($){this.#$("messages","signMessage")}async signTypedData($,Q,X){this.#$("typed-data","signTypedData")}}});function NQ($){if(VL.has($))return;VL.add($),console.log("========= NOTICE ========="),console.log(`Request-Rate Exceeded for ${$} (this message will not be repeated)`),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("==========================")}var VL;var aZ=K0(()=>{VL=new Set});function yE($){return JSON.parse(JSON.stringify($))}class P9{#$;#Q;#X;#Z;#Y;#G;constructor($){this.#$=$,this.#Q=null,this.#X=this.#J.bind(this),this.#Z=!1,this.#Y=null,this.#G=!1}_subscribe($){throw new Error("subclasses must override this")}_emitResults($,Q){throw new Error("subclasses must override this")}_recover($){throw new Error("subclasses must override this")}async#J($){try{if(this.#Q==null)this.#Q=this._subscribe(this.#$);let Q=null;try{Q=await this.#Q}catch(Y){if(!D$(Y,"UNSUPPORTED_OPERATION")||Y.operation!=="eth_newFilter")throw Y}if(Q==null){this.#Q=null,this.#$._recoverSubscriber(this,this._recover(this.#$));return}let X=await this.#$.getNetwork();if(!this.#Y)this.#Y=X;if(this.#Y.chainId!==X.chainId)throw new Error("chaid changed");if(this.#G)return;let Z=await this.#$.send("eth_getFilterChanges",[Q]);await this._emitResults(this.#$,Z)}catch(Q){console.log("@TODO",Q)}this.#$.once("block",this.#X)}#W(){let $=this.#Q;if($)this.#Q=null,$.then((Q)=>{if(this.#$.destroyed)return;this.#$.send("eth_uninstallFilter",[Q])})}start(){if(this.#Z)return;this.#Z=!0,this.#J(-2)}stop(){if(!this.#Z)return;this.#Z=!1,this.#G=!0,this.#W(),this.#$.off("block",this.#X)}pause($){if($)this.#W();this.#$.off("block",this.#X)}resume(){this.start()}}var S9,B9;var UL=K0(()=>{d0();w1();S9=class S9 extends P9{#$;constructor($,Q){super($);this.#$=yE(Q)}_recover($){return new fJ($,this.#$)}async _subscribe($){return await $.send("eth_newFilter",[this.#$])}async _emitResults($,Q){for(let X of Q)$.emit(this.#$,$._wrapLog(X,$._network))}};B9=class B9 extends P9{async _subscribe($){return await $.send("eth_newPendingTransactionFilter",[])}async _emitResults($,Q){for(let X of Q)$.emit("pending",X)}}});function f1($){if($==null||hE.indexOf(typeof $)>=0)return $;if(typeof $.getAddress==="function")return $;if(Array.isArray($))return $.map(f1);if(typeof $==="object")return Object.keys($).reduce((Q,X)=>{return Q[X]=$[X],Q},{});throw new Error(`should not happen: ${$} (${typeof $})`)}function bE($){return new Promise((Q)=>{setTimeout(Q,$)})}function l8($){if($)return $.toLowerCase();return $}function KL($){return $&&typeof $.pollingInterval==="number"}function j9($){if($==null)return null;if(typeof $.message==="string"&&$.message.match(/revert/i)&&Q$($.data))return{message:$.message,data:$.data};if(typeof $==="object"){for(let Q in $){let X=j9($[Q]);if(X)return X}return null}if(typeof $==="string")try{return j9(JSON.parse($))}catch(Q){}return null}function N9($,Q){if($==null)return;if(typeof $.message==="string")Q.push($.message);if(typeof $==="object")for(let X in $)N9($[X],Q);if(typeof $==="string")try{return N9(JSON.parse($),Q)}catch(X){}}function pE($){let Q=[];return N9($,Q),Q}var hE,OL,yJ,hJ,v1,_$;var AX=K0(()=>{y8();d$();CZ();mQ();d0();d8();k1();dQ();UL();w1();hE="bigint,boolean,function,number,string,symbol".split(/,/g);OL={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1048576,batchMaxCount:100,cacheTimeout:250,pollingInterval:4000};yJ=class yJ extends WZ{address;constructor($,Q){super($);Q=n0(Q),P0(this,{address:Q})}connect($){J0(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction($){return await this.populateCall($)}async sendUncheckedTransaction($){let Q=f1($),X=[];if(Q.from){let Y=Q.from;X.push((async()=>{let V=await N$(Y,this.provider);h(V!=null&&V.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",$),Q.from=V})())}else Q.from=this.address;if(Q.gasLimit==null)X.push((async()=>{Q.gasLimit=await this.provider.estimateGas({...Q,from:this.address})})());if(Q.to!=null){let Y=Q.to;X.push((async()=>{Q.to=await N$(Y,this.provider)})())}if(X.length)await Promise.all(X);let Z=this.provider.getRpcTransaction(Q);return this.provider.send("eth_sendTransaction",[Z])}async sendTransaction($){let Q=await this.provider.getBlockNumber(),X=await this.sendUncheckedTransaction($);return await new Promise((Z,Y)=>{let V=[1000,100],G=0,H=async()=>{try{let D=await this.provider.getTransaction(X);if(D!=null){Z(D.replaceableTransaction(Q));return}}catch(D){if(D$(D,"CANCELLED")||D$(D,"BAD_DATA")||D$(D,"NETWORK_ERROR")||D$(D,"UNSUPPORTED_OPERATION")){if(D.info==null)D.info={};D.info.sendTransactionHash=X,Y(D);return}if(D$(D,"INVALID_ARGUMENT")){if(G++,D.info==null)D.info={};if(D.info.sendTransactionHash=X,G>10){Y(D);return}}this.provider.emit("error",W$("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:D}))}this.provider._setTimeout(()=>{H()},V.pop()||4000)};H()})}async signTransaction($){let Q=f1($);if(Q.from){let Z=await N$(Q.from,this.provider);h(Z!=null&&Z.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",$),Q.from=Z}else Q.from=this.address;let X=this.provider.getRpcTransaction(Q);return await this.provider.send("eth_signTransaction",[X])}async signMessage($){let Q=typeof $==="string"?F$($):$;return await this.provider.send("personal_sign",[O0(Q),this.address.toLowerCase()])}async signTypedData($,Q,X){let Z=f1(X),Y=await l$.resolveNames($,Q,Z,async(V)=>{let G=await N$(V);return h(G!=null,"TypedData does not support null address","value",V),G});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(l$.getPayload(Y.domain,Q,Y.value))])}async unlock($){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),$,null])}async _legacySignMessage($){let Q=typeof $==="string"?F$($):$;return await this.provider.send("eth_sign",[this.address.toLowerCase(),O0(Q)])}};hJ=class hJ extends GZ{#$;#Q;#X;#Z;#Y;#G;#J;#W(){if(this.#Z)return;let $=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#Z=setTimeout(()=>{this.#Z=null;let Q=this.#X;this.#X=[];while(Q.length){let X=[Q.shift()];while(Q.length){if(X.length===this.#$.batchMaxCount)break;if(X.push(Q.shift()),JSON.stringify(X.map((Y)=>Y.payload)).length>this.#$.batchMaxSize){Q.unshift(X.pop());break}}(async()=>{let Z=X.length===1?X[0].payload:X.map((Y)=>Y.payload);this.emit("debug",{action:"sendRpcPayload",payload:Z});try{let Y=await this._send(Z);this.emit("debug",{action:"receiveRpcResult",result:Y});for(let{resolve:V,reject:G,payload:H}of X){if(this.destroyed){G(W$("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:H.method}));continue}let D=Y.filter((A)=>A.id===H.id)[0];if(D==null){let A=W$("missing response for request","BAD_DATA",{value:Y,info:{payload:H}});this.emit("error",A),G(A);continue}if("error"in D){G(this.getRpcError(H,D));continue}V(D.result)}}catch(Y){this.emit("debug",{action:"receiveRpcError",error:Y});for(let{reject:V}of X)V(Y)}})()}},$)}constructor($,Q){super($,Q);this.#Q=1,this.#$=Object.assign({},OL,Q||{}),this.#X=[],this.#Z=null,this.#G=null,this.#J=null;{let Z=null,Y=new Promise((V)=>{Z=V});this.#Y={promise:Y,resolve:Z}}let X=this._getOption("staticNetwork");if(typeof X==="boolean"){if(h(!X||$!=="any","staticNetwork cannot be used on special network 'any'","options",Q),X&&$!=null)this.#G=Y$.from($)}else if(X)h($==null||X.matches($),"staticNetwork MUST match network object","options",Q),this.#G=X}_getOption($){return this.#$[$]}get _network(){return J0(this.#G,"network is not available yet","NETWORK_ERROR"),this.#G}async _perform($){if($.method==="call"||$.method==="estimateGas"){let X=$.transaction;if(X&&X.type!=null&&c0(X.type)){if(X.maxFeePerGas==null&&X.maxPriorityFeePerGas==null){let Z=await this.getFeeData();if(Z.maxFeePerGas==null&&Z.maxPriorityFeePerGas==null)$=Object.assign({},$,{transaction:Object.assign({},X,{type:void 0})})}}}let Q=this.getRpcRequest($);if(Q!=null)return await this.send(Q.method,Q.args);return super._perform($)}async _detectNetwork(){let $=this._getOption("staticNetwork");if($)if($===!0){if(this.#G)return this.#G}else return $;if(this.#J)return await this.#J;if(this.ready)return this.#J=(async()=>{try{let Q=Y$.from(c0(await this.send("eth_chainId",[])));return this.#J=null,Q}catch(Q){throw this.#J=null,Q}})(),await this.#J;return this.#J=(async()=>{let Q={id:this.#Q++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:Q});let X;try{X=(await this._send(Q))[0],this.#J=null}catch(Z){throw this.#J=null,this.emit("debug",{action:"receiveRpcError",error:Z}),Z}if(this.emit("debug",{action:"receiveRpcResult",result:X}),"result"in X)return Y$.from(c0(X.result));throw this.getRpcError(Q,X)})(),await this.#J}_start(){if(this.#Y==null||this.#Y.resolve==null)return;this.#Y.resolve(),this.#Y=null,(async()=>{while(this.#G==null&&!this.destroyed)try{this.#G=await this._detectNetwork()}catch($){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",W$("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:$}})),await bE(1000)}this.#W()})()}async _waitUntilReady(){if(this.#Y==null)return;return await this.#Y.promise}_getSubscriber($){if($.type==="pending")return new B9(this);if($.type==="event"){if(this._getOption("polling"))return new fJ(this,$.filter);return new S9(this,$.filter)}if($.type==="orphan"&&$.filter.orphan==="drop-log")return new EZ("orphan");return super._getSubscriber($)}get ready(){return this.#Y==null}getRpcTransaction($){let Q={};if(["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((X)=>{if($[X]==null)return;let Z=X;if(X==="gasLimit")Z="gas";Q[Z]=OQ(c0($[X],`tx.${X}`))}),["from","to","data"].forEach((X)=>{if($[X]==null)return;Q[X]=O0($[X])}),$.accessList)Q.accessList=SQ($.accessList);if($.blobVersionedHashes)Q.blobVersionedHashes=$.blobVersionedHashes.map((X)=>X.toLowerCase());if($.authorizationList)Q.authorizationList=$.authorizationList.map((X)=>{let Z=IJ(X);return{address:Z.address,nonce:OQ(Z.nonce),chainId:OQ(Z.chainId),yParity:OQ(Z.signature.yParity),r:OQ(Z.signature.r),s:OQ(Z.signature.s)}});return Q}getRpcRequest($){switch($.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[l8($.address),$.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[l8($.address),$.blockTag]};case"getCode":return{method:"eth_getCode",args:[l8($.address),$.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[l8($.address),"0x"+$.position.toString(16),$.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[$.signedTransaction]};case"getBlock":if("blockTag"in $)return{method:"eth_getBlockByNumber",args:[$.blockTag,!!$.includeTransactions]};else if("blockHash"in $)return{method:"eth_getBlockByHash",args:[$.blockHash,!!$.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[$.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[$.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction($.transaction),$.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction($.transaction)]};case"getLogs":if($.filter&&$.filter.address!=null)if(Array.isArray($.filter.address))$.filter.address=$.filter.address.map(l8);else $.filter.address=l8($.filter.address);return{method:"eth_getLogs",args:[$.filter]}}return null}getRpcError($,Q){let{method:X}=$,{error:Z}=Q;if(X==="eth_estimateGas"&&Z.message){let G=Z.message;if(!G.match(/revert/i)&&G.match(/insufficient funds/i))return W$("insufficient funds","INSUFFICIENT_FUNDS",{transaction:$.params[0],info:{payload:$,error:Z}});else if(G.match(/nonce/i)&&G.match(/too low/i))return W$("nonce has already been used","NONCE_EXPIRED",{transaction:$.params[0],info:{payload:$,error:Z}})}if(X==="eth_call"||X==="eth_estimateGas"){let G=j9(Z),H=LX.getBuiltinCallException(X==="eth_call"?"call":"estimateGas",$.params[0],G?G.data:null);return H.info={error:Z,payload:$},H}let Y=JSON.stringify(pE(Z));if(typeof Z.message==="string"&&Z.message.match(/user denied|ethers-user-denied/i))return W$("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[X]||"unknown",reason:"rejected",info:{payload:$,error:Z}});if(X==="eth_sendRawTransaction"||X==="eth_sendTransaction"){let G=$.params[0];if(Y.match(/insufficient funds|base fee exceeds gas limit/i))return W$("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:G,info:{error:Z}});if(Y.match(/nonce/i)&&Y.match(/too low/i))return W$("nonce has already been used","NONCE_EXPIRED",{transaction:G,info:{error:Z}});if(Y.match(/replacement transaction/i)&&Y.match(/underpriced/i))return W$("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:G,info:{error:Z}});if(Y.match(/only replay-protected/i))return W$("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:X,info:{transaction:G,info:{error:Z}}})}let V=!!Y.match(/the method .* does not exist/i);if(!V){if(Z&&Z.details&&Z.details.startsWith("Unauthorized method:"))V=!0}if(V)return W$("unsupported operation","UNSUPPORTED_OPERATION",{operation:$.method,info:{error:Z,payload:$}});return W$("could not coalesce error","UNKNOWN_ERROR",{error:Z,payload:$})}send($,Q){if(this.destroyed)return Promise.reject(W$("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:$}));let X=this.#Q++,Z=new Promise((Y,V)=>{this.#X.push({resolve:Y,reject:V,payload:{method:$,params:Q,id:X,jsonrpc:"2.0"}})});return this.#W(),Z}async getSigner($){if($==null)$=0;let Q=this.send("eth_accounts",[]);if(typeof $==="number"){let Z=await Q;if($>=Z.length)throw new Error("no such account");return new yJ(this,Z[$])}let{accounts:X}=await B$({network:this.getNetwork(),accounts:Q});$=n0($);for(let Z of X)if(n0(Z)===$)return new yJ(this,$);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map((Q)=>new yJ(this,Q))}destroy(){if(this.#Z)clearTimeout(this.#Z),this.#Z=null;for(let{payload:$,reject:Q}of this.#X)Q(W$("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:$.method}));this.#X=[],super.destroy()}};v1=class v1 extends hJ{#$;constructor($,Q){super($,Q);let X=this._getOption("pollingInterval");if(X==null)X=OL.pollingInterval;this.#$=X}_getSubscriber($){let Q=super._getSubscriber($);if(KL(Q))Q.pollingInterval=this.#$;return Q}get pollingInterval(){return this.#$}set pollingInterval($){if(!Number.isInteger($)||$<0)throw new Error("invalid interval");this.#$=$,this._forEachSubscriber((Q)=>{if(KL(Q))Q.pollingInterval=this.#$})}};_$=class _$ extends v1{#$;constructor($,Q,X){if($==null)$="http://localhost:8545";super(Q,X);if(typeof $==="string")this.#$=new q$($);else this.#$=$.clone()}_getConnection(){return this.#$.clone()}async send($,Q){return await this._start(),await super.send($,Q)}async _send($){let Q=this._getConnection();Q.body=JSON.stringify($),Q.setHeader("content-type","application/json");let X=await Q.send();X.assertOk();let Z=X.bodyJson;if(!Array.isArray(Z))Z=[Z];return Z}}});function cE($){switch($){case"mainnet":return"rpc.ankr.com/eth";case"goerli":return"rpc.ankr.com/eth_goerli";case"sepolia":return"rpc.ankr.com/eth_sepolia";case"arbitrum":return"rpc.ankr.com/arbitrum";case"base":return"rpc.ankr.com/base";case"base-goerli":return"rpc.ankr.com/base_goerli";case"base-sepolia":return"rpc.ankr.com/base_sepolia";case"bnb":return"rpc.ankr.com/bsc";case"bnbt":return"rpc.ankr.com/bsc_testnet_chapel";case"matic":return"rpc.ankr.com/polygon";case"matic-mumbai":return"rpc.ankr.com/polygon_mumbai";case"optimism":return"rpc.ankr.com/optimism";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia"}h(!1,"unsupported network","network",$)}var g1="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972",fY;var w9=K0(()=>{d0();aZ();dQ();AX();fY=class fY extends _${apiKey;constructor($,Q){if($==null)$="mainnet";let X=Y$.from($);if(Q==null)Q=g1;let Z={polling:!0,staticNetwork:X},Y=fY.getRequest(X,Q);super(Y,X,Z);P0(this,{apiKey:Q})}_getProvider($){try{return new fY($,this.apiKey)}catch(Q){}return super._getProvider($)}static getRequest($,Q){if(Q==null)Q=g1;let X=new q$(`https://${cE($.name)}/${Q}`);if(X.allowGzip=!0,Q===g1)X.retryFunc=async(Z,Y,V)=>{return NQ("AnkrProvider"),!0};return X}getRpcError($,Q){if($.method==="eth_sendRawTransaction"){if(Q&&Q.error&&Q.error.message==="INTERNAL_ERROR: could not replace existing tx")Q.error.message="replacement transaction underpriced"}return super.getRpcError($,Q)}isCommunityResource(){return this.apiKey===g1}}});function mE($){switch($){case"mainnet":return"eth-mainnet.alchemyapi.io";case"goerli":return"eth-goerli.g.alchemy.com";case"sepolia":return"eth-sepolia.g.alchemy.com";case"arbitrum":return"arb-mainnet.g.alchemy.com";case"arbitrum-goerli":return"arb-goerli.g.alchemy.com";case"arbitrum-sepolia":return"arb-sepolia.g.alchemy.com";case"base":return"base-mainnet.g.alchemy.com";case"base-goerli":return"base-goerli.g.alchemy.com";case"base-sepolia":return"base-sepolia.g.alchemy.com";case"matic":return"polygon-mainnet.g.alchemy.com";case"matic-amoy":return"polygon-amoy.g.alchemy.com";case"matic-mumbai":return"polygon-mumbai.g.alchemy.com";case"optimism":return"opt-mainnet.g.alchemy.com";case"optimism-goerli":return"opt-goerli.g.alchemy.com";case"optimism-sepolia":return"opt-sepolia.g.alchemy.com"}h(!1,"unsupported network","network",$)}var y1="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC",vY;var _9=K0(()=>{d0();aZ();dQ();AX();vY=class vY extends _${apiKey;constructor($,Q){if($==null)$="mainnet";let X=Y$.from($);if(Q==null)Q=y1;let Z=vY.getRequest(X,Q);super(Z,X,{staticNetwork:X});P0(this,{apiKey:Q})}_getProvider($){try{return new vY($,this.apiKey)}catch(Q){}return super._getProvider($)}async _perform($){if($.method==="getTransactionResult"){let{trace:Q,tx:X}=await B$({trace:this.send("trace_transaction",[$.hash]),tx:this.getTransaction($.hash)});if(Q==null||X==null)return null;let Z,Y=!1;try{Z=Q[0].result.output,Y=Q[0].error==="Reverted"}catch(V){}if(Z)return J0(!Y,"an error occurred during transaction executions","CALL_EXCEPTION",{action:"getTransactionResult",data:Z,reason:null,transaction:X,invocation:null,revert:null}),Z;J0(!1,"could not parse trace result","BAD_DATA",{value:Q})}return await super._perform($)}isCommunityResource(){return this.apiKey===y1}static getRequest($,Q){if(Q==null)Q=y1;let X=new q$(`https://${mE($.name)}/v2/${Q}`);if(X.allowGzip=!0,Q===y1)X.retryFunc=async(Z,Y,V)=>{return NQ("alchemy"),!0};return X}}});function h1($){switch($){case"mainnet":return"39f1d67cedf8b7831010a665328c9197";case"arbitrum":return"0550c209db33c3abf4cc927e1e18cea1";case"bnb":return"98b5a77e531614387366f6fc5da097f8";case"matic":return"cd9d4d70377471aa7c142ec4a4205249"}h(!1,"unsupported network","network",$)}function uE($){switch($){case"mainnet":return"ethereum-mainnet.core.chainstack.com";case"arbitrum":return"arbitrum-mainnet.core.chainstack.com";case"bnb":return"bsc-mainnet.core.chainstack.com";case"matic":return"polygon-mainnet.core.chainstack.com"}h(!1,"unsupported network","network",$)}var gY;var x9=K0(()=>{d0();aZ();dQ();AX();gY=class gY extends _${apiKey;constructor($,Q){if($==null)$="mainnet";let X=Y$.from($);if(Q==null)Q=h1(X.name);let Z=gY.getRequest(X,Q);super(Z,X,{staticNetwork:X});P0(this,{apiKey:Q})}_getProvider($){try{return new gY($,this.apiKey)}catch(Q){}return super._getProvider($)}isCommunityResource(){return this.apiKey===h1(this._network.name)}static getRequest($,Q){if(Q==null)Q=h1($.name);let X=new q$(`https://${uE($.name)}/${Q}`);if(X.allowGzip=!0,Q===h1($.name))X.retryFunc=async(Z,Y,V)=>{return NQ("ChainstackProvider"),!0};return X}}});var o8;var k9=K0(()=>{d0();dQ();AX();o8=class o8 extends _${constructor($){if($==null)$="mainnet";let Q=Y$.from($);h(Q.name==="mainnet","unsupported network","network",$);super("https://cloudflare-eth.com/",Q,{staticNetwork:Q})}}});function dE($){return $&&typeof $.then==="function"}var zL=2000,HL="org.ethers.plugins.provider.Etherscan",SW,lE,oE=1,n8;var f9=K0(()=>{y8();FW();mQ();d0();d8();dQ();j1();aZ();SW=class SW extends JZ{baseUrl;constructor($){super(HL);P0(this,{baseUrl:$})}clone(){return new SW(this.baseUrl)}};lE=["enableCcipRead"];n8=class n8 extends GZ{network;apiKey;#$;constructor($,Q){let X=Q!=null?Q:null;super();let Z=Y$.from($);this.#$=Z.getPlugin(HL),P0(this,{apiKey:X,network:Z})}getBaseUrl(){if(this.#$)return this.#$.baseUrl;switch(this.network.name){case"mainnet":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"holesky":return"https://api-holesky.etherscan.io";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"base":return"https://api.basescan.org";case"base-sepolia":return"https://api-sepolia.basescan.org";case"bnb":return"https://api.bscscan.com";case"bnbt":return"https://api-testnet.bscscan.com";case"matic":return"https://api.polygonscan.com";case"matic-amoy":return"https://api-amoy.polygonscan.com";case"matic-mumbai":return"https://api-testnet.polygonscan.com";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io";default:}h(!1,"unsupported network","network",this.network)}getUrl($,Q){let X=Object.keys(Q).reduce((Z,Y)=>{let V=Q[Y];if(V!=null)Z+=`&${Y}=${V}`;return Z},"");if(this.apiKey)X+=`&apikey=${this.apiKey}`;return`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}&module=${$}${X}`}getPostUrl(){return`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}`}getPostData($,Q){return Q.module=$,Q.apikey=this.apiKey,Q.chainid=this.network.chainId,Q}async detectNetwork(){return this.network}async fetch($,Q,X){let Z=oE++,Y=X?this.getPostUrl():this.getUrl($,Q),V=X?this.getPostData($,Q):null;this.emit("debug",{action:"sendRequest",id:Z,url:Y,payload:V});let G=new q$(Y);if(G.setThrottleParams({slotInterval:1000}),G.retryFunc=(A,T,F)=>{if(this.isCommunityResource())NQ("Etherscan");return Promise.resolve(!0)},G.processFunc=async(A,T)=>{let F=T.hasBody()?JSON.parse(bQ(T.body)):{},M=(typeof F.result==="string"?F.result:"").toLowerCase().indexOf("rate limit")>=0;if($==="proxy"){if(F&&F.status==0&&F.message=="NOTOK"&&M)this.emit("debug",{action:"receiveError",id:Z,reason:"proxy-NOTOK",error:F}),T.throwThrottleError(F.result,zL)}else if(M)this.emit("debug",{action:"receiveError",id:Z,reason:"null result",error:F.result}),T.throwThrottleError(F.result,zL);return T},V)G.setHeader("content-type","application/x-www-form-urlencoded; charset=UTF-8"),G.body=Object.keys(V).map((A)=>`${A}=${V[A]}`).join("&");let H=await G.send();try{H.assertOk()}catch(A){this.emit("debug",{action:"receiveError",id:Z,error:A,reason:"assertOk"}),J0(!1,"response error","SERVER_ERROR",{request:G,response:H})}if(!H.hasBody())this.emit("debug",{action:"receiveError",id:Z,error:"missing body",reason:"null body"}),J0(!1,"missing response","SERVER_ERROR",{request:G,response:H});let D=JSON.parse(bQ(H.body));if($==="proxy"){if(D.jsonrpc!="2.0")this.emit("debug",{action:"receiveError",id:Z,result:D,reason:"invalid JSON-RPC"}),J0(!1,"invalid JSON-RPC response (missing jsonrpc='2.0')","SERVER_ERROR",{request:G,response:H,info:{result:D}});if(D.error)this.emit("debug",{action:"receiveError",id:Z,result:D,reason:"JSON-RPC error"}),J0(!1,"error response","SERVER_ERROR",{request:G,response:H,info:{result:D}});return this.emit("debug",{action:"receiveRequest",id:Z,result:D}),D.result}else{if(D.status==0&&(D.message==="No records found"||D.message==="No transactions found"))return this.emit("debug",{action:"receiveRequest",id:Z,result:D}),D.result;if(D.status!=1||typeof D.message==="string"&&!D.message.match(/^OK/))this.emit("debug",{action:"receiveError",id:Z,result:D}),J0(!1,"error response","SERVER_ERROR",{request:G,response:H,info:{result:D}});return this.emit("debug",{action:"receiveRequest",id:Z,result:D}),D.result}}_getTransactionPostData($){let Q={};for(let X in $){if(lE.indexOf(X)>=0)continue;if($[X]==null)continue;let Z=$[X];if(X==="type"&&Z===0)continue;if(X==="blockTag"&&Z==="latest")continue;if({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[X])Z=OQ(Z);else if(X==="accessList")Z="["+SQ(Z).map((Y)=>{return`{address:"${Y.address}",storageKeys:["${Y.storageKeys.join('","')}"]}`}).join(",")+"]";else if(X==="blobVersionedHashes"){if(Z.length===0)continue;J0(!1,"Etherscan API does not support blobVersionedHashes","UNSUPPORTED_OPERATION",{operation:"_getTransactionPostData",info:{transaction:$}})}else Z=O0(Z);Q[X]=Z}return Q}_checkError($,Q,X){let Z="";if(D$(Q,"SERVER_ERROR")){try{Z=Q.info.result.error.message}catch(Y){}if(!Z)try{Z=Q.info.message}catch(Y){}}if($.method==="estimateGas"){if(!Z.match(/revert/i)&&Z.match(/insufficient funds/i))J0(!1,"insufficient funds","INSUFFICIENT_FUNDS",{transaction:$.transaction})}if($.method==="call"||$.method==="estimateGas"){if(Z.match(/execution reverted/i)){let Y="";try{Y=Q.info.result.error.data}catch(G){}let V=LX.getBuiltinCallException($.method,$.transaction,Y);throw V.info={request:$,error:Q},V}}if(Z){if($.method==="broadcastTransaction"){let Y=s$.from($.signedTransaction);if(Z.match(/replacement/i)&&Z.match(/underpriced/i))J0(!1,"replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:Y});if(Z.match(/insufficient funds/))J0(!1,"insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:Y});if(Z.match(/same hash was already imported|transaction nonce is too low|nonce too low/))J0(!1,"nonce has already been used","NONCE_EXPIRED",{transaction:Y})}}throw Q}async _detectNetwork(){return this.network}async _perform($){switch($.method){case"chainId":return this.network.chainId;case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getPriorityFee":if(this.network.name==="mainnet")return"1000000000";else if(this.network.name==="optimism")return"1000000";else throw new Error("fallback onto the AbstractProvider default");case"getBalance":return this.fetch("account",{action:"balance",address:$.address,tag:$.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:$.address,tag:$.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:$.address,tag:$.blockTag});case"getStorage":return this.fetch("proxy",{action:"eth_getStorageAt",address:$.address,position:$.position,tag:$.blockTag});case"broadcastTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:$.signedTransaction},!0).catch((Q)=>{return this._checkError($,Q,$.signedTransaction)});case"getBlock":if("blockTag"in $)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:$.blockTag,boolean:$.includeTransactions?"true":"false"});J0(!1,"getBlock by blockHash not supported by Etherscan","UNSUPPORTED_OPERATION",{operation:"getBlock(blockHash)"});case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:$.hash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:$.hash});case"call":{if($.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");let Q=this._getTransactionPostData($.transaction);Q.module="proxy",Q.action="eth_call";try{return await this.fetch("proxy",Q,!0)}catch(X){return this._checkError($,X,$.transaction)}}case"estimateGas":{let Q=this._getTransactionPostData($.transaction);Q.module="proxy",Q.action="eth_estimateGas";try{return await this.fetch("proxy",Q,!0)}catch(X){return this._checkError($,X,$.transaction)}}default:break}return super._perform($)}async getNetwork(){return this.network}async getEtherPrice(){if(this.network.name!=="mainnet")return 0;return parseFloat((await this.fetch("stats",{action:"ethprice"})).ethusd)}async getContract($){let Q=this._getAddress($);if(dE(Q))Q=await Q;try{let X=await this.fetch("contract",{action:"getabi",address:Q}),Z=JSON.parse(X);return new MX(Q,Z,this)}catch(X){return null}}isCommunityResource(){return this.apiKey==null}}});function nE(){if(typeof self!=="undefined")return self;if(typeof window!=="undefined")return window;if(typeof global!=="undefined")return global;throw new Error("unable to locate global object")}var LL;var DL=K0(()=>{LL=nE().WebSocket});class bJ{#$;#Q;get filter(){return JSON.parse(this.#Q)}#X;#Z;#Y;constructor($,Q){this.#$=$,this.#Q=JSON.stringify(Q),this.#X=null,this.#Z=null,this.#Y=null}start(){this.#X=this.#$.send("eth_subscribe",this.filter).then(($)=>{return this.#$._register($,this),$})}stop(){this.#X.then(($)=>{if(this.#$.destroyed)return;this.#$.send("eth_unsubscribe",[$])}),this.#X=null}pause($){J0($,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),this.#Z=!!$}resume(){this.#Z=null}_handleMessage($){if(this.#X==null)return;if(this.#Z===null){let Q=this.#Y;if(Q==null)Q=this._emit(this.#$,$);else Q=Q.then(async()=>{await this._emit(this.#$,$)});this.#Y=Q.then(()=>{if(this.#Y===Q)this.#Y=null})}}async _emit($,Q){throw new Error("sub-classes must implemente this; _emit")}}var BW,jW,NW,s8;var b1=K0(()=>{d8();d0();AX();BW=class BW extends bJ{constructor($){super($,["newHeads"])}async _emit($,Q){$.emit("block",parseInt(Q.number))}};jW=class jW extends bJ{constructor($){super($,["newPendingTransactions"])}async _emit($,Q){$.emit("pending",Q)}};NW=class NW extends bJ{#$;get logFilter(){return JSON.parse(this.#$)}constructor($,Q){super($,["logs",Q]);this.#$=JSON.stringify(Q)}async _emit($,Q){$.emit(this.logFilter,$._wrapLog(Q,$._network))}};s8=class s8 extends hJ{#$;#Q;#X;constructor($,Q){let X=Object.assign({},Q!=null?Q:{});if(h(X.batchMaxCount==null||X.batchMaxCount===1,"sockets-based providers do not support batches","options.batchMaxCount",Q),X.batchMaxCount=1,X.staticNetwork==null)X.staticNetwork=!0;super($,X);this.#$=new Map,this.#Q=new Map,this.#X=new Map}_getSubscriber($){switch($.type){case"close":return new EZ("close");case"block":return new BW(this);case"pending":return new jW(this);case"event":return new NW(this,$.filter);case"orphan":if($.filter.orphan==="drop-log")return new EZ("drop-log")}return super._getSubscriber($)}_register($,Q){this.#Q.set($,Q);let X=this.#X.get($);if(X){for(let Z of X)Q._handleMessage(Z);this.#X.delete($)}}async _send($){h(!Array.isArray($),"WebSocket does not support batch send","payload",$);let Q=new Promise((X,Z)=>{this.#$.set($.id,{payload:$,resolve:X,reject:Z})});return await this._waitUntilReady(),await this._write(JSON.stringify($)),[await Q]}async _processMessage($){let Q=JSON.parse($);if(Q&&typeof Q==="object"&&"id"in Q){let X=this.#$.get(Q.id);if(X==null){this.emit("error",W$("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:Q}));return}this.#$.delete(Q.id),X.resolve(Q)}else if(Q&&Q.method==="eth_subscription"){let X=Q.params.subscription,Z=this.#Q.get(X);if(Z)Z._handleMessage(Q.params.result);else{let Y=this.#X.get(X);if(Y==null)Y=[],this.#X.set(X,Y);Y.push(Q.params.result)}}else{this.emit("error",W$("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:Q}));return}}async _write($){throw new Error("sub-classes must override this")}}});var yY;var p1=K0(()=>{DL();b1();yY=class yY extends s8{#$;#Q;get websocket(){if(this.#Q==null)throw new Error("websocket closed");return this.#Q}constructor($,Q,X){super(Q,X);if(typeof $==="string")this.#$=()=>{return new LL($)},this.#Q=this.#$();else if(typeof $==="function")this.#$=$,this.#Q=$();else this.#$=null,this.#Q=$;this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(Z){console.log("failed to start WebsocketProvider",Z)}},this.websocket.onmessage=(Z)=>{this._processMessage(Z.data)}}async _write($){this.websocket.send($)}async destroy(){if(this.#Q!=null)this.#Q.close(),this.#Q=null;super.destroy()}}});function sE($){switch($){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"arbitrum-sepolia":return"arbitrum-sepolia.infura.io";case"base":return"base-mainnet.infura.io";case"base-goerlia":case"base-goerli":return"base-goerli.infura.io";case"base-sepolia":return"base-sepolia.infura.io";case"bnb":return"bsc-mainnet.infura.io";case"bnbt":return"bsc-testnet.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"linea-sepolia":return"linea-sepolia.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-amoy":return"polygon-amoy.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io";case"optimism-sepolia":return"optimism-sepolia.infura.io"}h(!1,"unsupported network","network",$)}var wW="84842078b09946638c03157f83405213",_W,tZ;var v9=K0(()=>{d0();aZ();dQ();AX();p1();_W=class _W extends yY{projectId;projectSecret;constructor($,Q){let X=new tZ($,Q),Z=X._getConnection();J0(!Z.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"});let Y=Z.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(Y,X._network);P0(this,{projectId:X.projectId,projectSecret:X.projectSecret})}isCommunityResource(){return this.projectId===wW}};tZ=class tZ extends _${projectId;projectSecret;constructor($,Q,X){if($==null)$="mainnet";let Z=Y$.from($);if(Q==null)Q=wW;if(X==null)X=null;let Y=tZ.getRequest(Z,Q,X);super(Y,Z,{staticNetwork:Z});P0(this,{projectId:Q,projectSecret:X})}_getProvider($){try{return new tZ($,this.projectId,this.projectSecret)}catch(Q){}return super._getProvider($)}isCommunityResource(){return this.projectId===wW}static getWebSocketProvider($,Q){return new _W($,Q)}static getRequest($,Q,X){if(Q==null)Q=wW;if(X==null)X=null;let Z=new q$(`https://${sE($.name)}/v3/${Q}`);if(Z.allowGzip=!0,X)Z.setCredentials("",X);if(Q===wW)Z.retryFunc=async(Y,V,G)=>{return NQ("InfuraProvider"),!0};return Z}}});function iE($){switch($){case"mainnet":return"ethers.quiknode.pro";case"goerli":return"ethers.ethereum-goerli.quiknode.pro";case"sepolia":return"ethers.ethereum-sepolia.quiknode.pro";case"holesky":return"ethers.ethereum-holesky.quiknode.pro";case"arbitrum":return"ethers.arbitrum-mainnet.quiknode.pro";case"arbitrum-goerli":return"ethers.arbitrum-goerli.quiknode.pro";case"arbitrum-sepolia":return"ethers.arbitrum-sepolia.quiknode.pro";case"base":return"ethers.base-mainnet.quiknode.pro";case"base-goerli":return"ethers.base-goerli.quiknode.pro";case"base-spolia":return"ethers.base-sepolia.quiknode.pro";case"bnb":return"ethers.bsc.quiknode.pro";case"bnbt":return"ethers.bsc-testnet.quiknode.pro";case"matic":return"ethers.matic.quiknode.pro";case"matic-mumbai":return"ethers.matic-testnet.quiknode.pro";case"optimism":return"ethers.optimism.quiknode.pro";case"optimism-goerli":return"ethers.optimism-goerli.quiknode.pro";case"optimism-sepolia":return"ethers.optimism-sepolia.quiknode.pro";case"xdai":return"ethers.xdai.quiknode.pro"}h(!1,"unsupported network","network",$)}var c1="919b412a057b5e9c9b6dce193c5a60242d6efadb",hY;var g9=K0(()=>{d0();aZ();dQ();AX();hY=class hY extends _${token;constructor($,Q){if($==null)$="mainnet";let X=Y$.from($);if(Q==null)Q=c1;let Z=hY.getRequest(X,Q);super(Z,X,{staticNetwork:X});P0(this,{token:Q})}_getProvider($){try{return new hY($,this.token)}catch(Q){}return super._getProvider($)}isCommunityResource(){return this.token===c1}static getRequest($,Q){if(Q==null)Q=c1;let X=new q$(`https://${iE($.name)}/${Q}`);if(X.allowGzip=!0,Q===c1)X.retryFunc=async(Z,Y,V)=>{return NQ("QuickNodeProvider"),!0};return X}}});function tE($){for(let Q=$.length-1;Q>0;Q--){let X=Math.floor(Math.random()*(Q+1)),Z=$[Q];$[Q]=$[X],$[X]=Z}}function eE($){return new Promise((Q)=>{setTimeout(Q,$)})}function p9(){return new Date().getTime()}function y9($){return JSON.stringify($,(Q,X)=>{if(typeof X==="bigint")return{type:"bigint",value:X.toString()};return X})}async function $I($,Q){while($.blockNumber<0||$.blockNumber<Q){if(!$._updateNumber)$._updateNumber=(async()=>{try{let X=await $.provider.getBlockNumber();if(X>$.blockNumber)$.blockNumber=X}catch(X){$.blockNumber=-2,$._lastFatalError=X,$._lastFatalErrorTimestamp=p9()}$._updateNumber=null})();if(await $._updateNumber,$.outOfSync++,$._lastFatalError)break}}function i8($){if($==null)return"null";if(Array.isArray($))return"["+$.map(i8).join(",")+"]";if(typeof $==="object"&&typeof $.toJSON==="function")return i8($.toJSON());switch(typeof $){case"boolean":case"symbol":return $.toString();case"bigint":case"number":return BigInt($).toString();case"string":return JSON.stringify($);case"object":{let Q=Object.keys($);return Q.sort(),"{"+Q.map((X)=>`${JSON.stringify(X)}:${i8($[X])}`).join(",")+"}"}}throw console.log("Could not serialize",$),new Error("Hmm...")}function h9($,Q){if("error"in Q){let Z=Q.error,Y;if(D$(Z,"CALL_EXCEPTION"))Y=i8(Object.assign({},Z,{shortMessage:void 0,reason:void 0,info:void 0}));else Y=i8(Z);return{tag:Y,value:Z}}let X=Q.result;return{tag:i8(X),value:X}}function m1($,Q){let X=new Map;for(let{value:Y,tag:V,weight:G}of Q){let H=X.get(V)||{value:Y,weight:0};H.weight+=G,X.set(V,H)}let Z=null;for(let Y of X.values())if(Y.weight>=$&&(!Z||Y.weight>Z.weight))Z=Y;if(Z)return Z.value;return}function c9($,Q){let X=0,Z=new Map,Y=null,V=[];for(let{value:H,tag:D,weight:A}of Q)if(H instanceof Error){let T=Z.get(D)||{value:H,weight:0};if(T.weight+=A,Z.set(D,T),Y==null||T.weight>Y.weight)Y=T}else V.push(BigInt(H)),X+=A;if(X<$){if(Y&&Y.weight>=$)return Y.value;return}V.sort((H,D)=>H<D?-1:D>H?1:0);let G=Math.floor(V.length/2);if(V.length%2)return V[G];return(V[G-1]+V[G]+rE)/aE}function b9($,Q){let X=m1($,Q);if(X!==void 0)return X;for(let Z of Q)if(Z.value)return Z.value;return}function QI($,Q){if($===1)return o0(c9($,Q),"%internal");let X=new Map,Z=(G,H)=>{let D=X.get(G)||{result:G,weight:0};D.weight+=H,X.set(G,D)};for(let{weight:G,value:H}of Q){let D=o0(H);Z(D-1,G),Z(D,G),Z(D+1,G)}let Y=0,V=void 0;for(let{weight:G,result:H}of X.values())if(G>=$&&(G>Y||V!=null&&G===Y&&H>V))Y=G,V=H;return V}var rE,aE,qL,ML,r8;var m9=K0(()=>{d0();d8();dQ();rE=BigInt("1"),aE=BigInt("2");qL={stallTimeout:400,priority:1,weight:1},ML={blockNumber:-2,requests:0,lateResponses:0,errorResponses:0,outOfSync:-1,unsupportedEvents:0,rollingDuration:0,score:0,_network:null,_updateNumber:null,_totalTime:0,_lastFatalError:null,_lastFatalErrorTimestamp:0};r8=class r8 extends GZ{quorum;eventQuorum;eventWorkers;#$;#Q;#X;constructor($,Q,X){super(Q,X);if(this.#$=$.map((Z)=>{if(Z instanceof GZ)return Object.assign({provider:Z},qL,ML);else return Object.assign({},qL,Z,ML)}),this.#Q=-2,this.#X=null,X&&X.quorum!=null)this.quorum=X.quorum;else this.quorum=Math.ceil(this.#$.reduce((Z,Y)=>{return Z+=Y.weight,Z},0)/2);this.eventQuorum=1,this.eventWorkers=1,h(this.quorum<=this.#$.reduce((Z,Y)=>Z+Y.weight,0),"quorum exceed provider weight","quorum",this.quorum)}get providerConfigs(){return this.#$.map(($)=>{let Q=Object.assign({},$);for(let X in Q)if(X[0]==="_")delete Q[X];return Q})}async _detectNetwork(){return Y$.from(c0(await this._perform({method:"chainId"})))}async _translatePerform($,Q){switch(Q.method){case"broadcastTransaction":return await $.broadcastTransaction(Q.signedTransaction);case"call":return await $.call(Object.assign({},Q.transaction,{blockTag:Q.blockTag}));case"chainId":return(await $.getNetwork()).chainId;case"estimateGas":return await $.estimateGas(Q.transaction);case"getBalance":return await $.getBalance(Q.address,Q.blockTag);case"getBlock":{let X="blockHash"in Q?Q.blockHash:Q.blockTag;return await $.getBlock(X,Q.includeTransactions)}case"getBlockNumber":return await $.getBlockNumber();case"getCode":return await $.getCode(Q.address,Q.blockTag);case"getGasPrice":return(await $.getFeeData()).gasPrice;case"getPriorityFee":return(await $.getFeeData()).maxPriorityFeePerGas;case"getLogs":return await $.getLogs(Q.filter);case"getStorage":return await $.getStorage(Q.address,Q.position,Q.blockTag);case"getTransaction":return await $.getTransaction(Q.hash);case"getTransactionCount":return await $.getTransactionCount(Q.address,Q.blockTag);case"getTransactionReceipt":return await $.getTransactionReceipt(Q.hash);case"getTransactionResult":return await $.getTransactionResult(Q.hash)}}#Z($){let Q=Array.from($).map((Z)=>Z.config),X=this.#$.slice();tE(X),X.sort((Z,Y)=>Z.priority-Y.priority);for(let Z of X){if(Z._lastFatalError)continue;if(Q.indexOf(Z)===-1)return Z}return null}#Y($,Q){let X=this.#Z($);if(X==null)return null;let Z={config:X,result:null,didBump:!1,perform:null,staller:null},Y=p9();return Z.perform=(async()=>{try{X.requests++;let G=await this._translatePerform(X.provider,Q);Z.result={result:G}}catch(G){X.errorResponses++,Z.result={error:G}}let V=p9()-Y;X._totalTime+=V,X.rollingDuration=0.95*X.rollingDuration+0.05*V,Z.perform=null})(),Z.staller=(async()=>{await eE(X.stallTimeout),Z.staller=null})(),$.add(Z),Z}async#G(){let $=this.#X;if(!$){let Q=[];this.#$.forEach((X)=>{Q.push((async()=>{if(await $I(X,0),!X._lastFatalError)X._network=await X.provider.getNetwork()})())}),this.#X=$=(async()=>{await Promise.all(Q);let X=null;for(let Z of this.#$){if(Z._lastFatalError)continue;let Y=Z._network;if(X==null)X=Y.chainId;else if(Y.chainId!==X)J0(!1,"cannot mix providers on different networks","UNSUPPORTED_OPERATION",{operation:"new FallbackProvider"})}})()}await $}async#J($,Q){let X=[];for(let Z of $)if(Z.result!=null){let{tag:Y,value:V}=h9(Q.method,Z.result);X.push({tag:Y,value:V,weight:Z.config.weight})}if(X.reduce((Z,Y)=>Z+Y.weight,0)<this.quorum)return;switch(Q.method){case"getBlockNumber":{if(this.#Q===-2)this.#Q=Math.ceil(o0(c9(this.quorum,this.#$.filter((Y)=>!Y._lastFatalError).map((Y)=>({value:Y.blockNumber,tag:o0(Y.blockNumber).toString(),weight:Y.weight})))));let Z=QI(this.quorum,X);if(Z===void 0)return;if(Z>this.#Q)this.#Q=Z;return this.#Q}case"getGasPrice":case"getPriorityFee":case"estimateGas":return c9(this.quorum,X);case"getBlock":if("blockTag"in Q&&Q.blockTag==="pending")return b9(this.quorum,X);return m1(this.quorum,X);case"call":case"chainId":case"getBalance":case"getTransactionCount":case"getCode":case"getStorage":case"getTransaction":case"getTransactionReceipt":case"getLogs":return m1(this.quorum,X);case"broadcastTransaction":return b9(this.quorum,X)}J0(!1,"unsupported method","UNSUPPORTED_OPERATION",{operation:`_perform(${y9(Q.method)})`})}async#W($,Q){if($.size===0)throw new Error("no runners?!");let X=[],Z=0;for(let V of $){if(V.perform)X.push(V.perform);if(V.staller){X.push(V.staller);continue}if(V.didBump)continue;V.didBump=!0,Z++}let Y=await this.#J($,Q);if(Y!==void 0){if(Y instanceof Error)throw Y;return Y}for(let V=0;V<Z;V++)this.#Y($,Q);return J0(X.length>0,"quorum not met","SERVER_ERROR",{request:"%sub-requests",info:{request:Q,results:Array.from($).map((V)=>y9(V.result))}}),await Promise.race(X),await this.#W($,Q)}async _perform($){if($.method==="broadcastTransaction"){let Y=this.#$.map((H)=>null),V=this.#$.map(async({provider:H,weight:D},A)=>{try{let T=await H._perform($);Y[A]=Object.assign(h9($.method,{result:T}),{weight:D})}catch(T){Y[A]=Object.assign(h9($.method,{error:T}),{weight:D})}});while(!0){let H=Y.filter((T)=>T!=null);for(let{value:T}of H)if(!(T instanceof Error))return T;let D=m1(this.quorum,Y.filter((T)=>T!=null));if(D$(D,"INSUFFICIENT_FUNDS"))throw D;let A=V.filter((T,F)=>Y[F]==null);if(A.length===0)break;await Promise.race(A)}let G=b9(this.quorum,Y);if(J0(G!==void 0,"problem multi-broadcasting","SERVER_ERROR",{request:"%sub-requests",info:{request:$,results:Y.map(y9)}}),G instanceof Error)throw G;return G}await this.#G();let Q=new Set,X=0;while(!0){let Y=this.#Y(Q,$);if(Y==null)break;if(X+=Y.config.weight,X>=this.quorum)break}let Z=await this.#W(Q,$);for(let Y of Q)if(Y.perform&&Y.result==null)Y.config.lateResponses++;return Z}async destroy(){for(let{provider:$}of this.#$)$.destroy();super.destroy()}}});function XI($){return $&&typeof $.send==="function"&&typeof $.close==="function"}function u9($,Q){if(Q==null)Q={};let X=(G)=>{if(Q[G]==="-")return!1;if(typeof Q.exclusive==="string")return G===Q.exclusive;if(Array.isArray(Q.exclusive))return Q.exclusive.indexOf(G)!==-1;return!0};if(typeof $==="string"&&$.match(/^https?:/))return new _$($);if(typeof $==="string"&&$.match(/^wss?:/)||XI($))return new yY($);let Z=null;try{Z=Y$.from($)}catch(G){}let Y=[];if(X("publicPolygon")&&Z){if(Z.name==="matic")Y.push(new _$("https://polygon-rpc.com/",Z,{staticNetwork:Z}));else if(Z.name==="matic-amoy")Y.push(new _$("https://rpc-amoy.polygon.technology/",Z,{staticNetwork:Z}))}if(X("alchemy"))try{Y.push(new vY($,Q.alchemy))}catch(G){}if(X("ankr")&&Q.ankr!=null)try{Y.push(new fY($,Q.ankr))}catch(G){}if(X("chainstack"))try{Y.push(new gY($,Q.chainstack))}catch(G){}if(X("cloudflare"))try{Y.push(new o8($))}catch(G){}if(X("etherscan"))try{Y.push(new n8($,Q.etherscan))}catch(G){}if(X("infura"))try{let G=Q.infura,H=void 0;if(typeof G==="object")H=G.projectSecret,G=G.projectId;Y.push(new tZ($,G,H))}catch(G){}if(X("quicknode"))try{let G=Q.quicknode;Y.push(new hY($,G))}catch(G){}if(J0(Y.length,"unsupported default network","UNSUPPORTED_OPERATION",{operation:"getDefaultProvider"}),Y.length===1)return Y[0];let V=Math.floor(Y.length/2);if(V>2)V=2;if(Z&&ZI.indexOf(Z.name)!==-1)V=1;if(Q&&Q.quorum)V=Q.quorum;return new r8(Y,void 0,{quorum:V})}var ZI;var AL=K0(()=>{d0();w9();_9();x9();k9();f9();v9();g9();m9();AX();dQ();p1();ZI="goerli kovan sepolia classicKotti optimism-goerli arbitrum-goerli matic-mumbai bnbt".split(" ")});var xW;var CL=K0(()=>{d0();k1();xW=class xW extends WZ{signer;#$;#Q;constructor($){super($.provider);P0(this,{signer:$}),this.#$=null,this.#Q=0}async getAddress(){return this.signer.getAddress()}connect($){return new xW(this.signer.connect($))}async getNonce($){if($==="pending"){if(this.#$==null)this.#$=super.getNonce("pending");let Q=this.#Q;return await this.#$+Q}return super.getNonce($)}increment(){this.#Q++}reset(){this.#Q=0,this.#$=null}async sendTransaction($){let Q=this.getNonce("pending");return this.increment(),$=await this.signer.populateTransaction($),$.nonce=await Q,await this.signer.sendTransaction($)}signTransaction($){return this.signer.signTransaction($)}signMessage($){return this.signer.signMessage($)}signTypedData($,Q,X){return this.signer.signTypedData($,Q,X)}}});var eZ;var TL=K0(()=>{d0();AX();eZ=class eZ extends v1{#$;#Q;constructor($,Q,X){let Z=Object.assign({},X!=null?X:{},{batchMaxCount:1});h($&&$.request,"invalid EIP-1193 provider","ethereum",$);super(Q,Z);if(this.#Q=null,X&&X.providerInfo)this.#Q=X.providerInfo;this.#$=async(Y,V)=>{let G={method:Y,params:V};this.emit("debug",{action:"sendEip1193Request",payload:G});try{let H=await $.request(G);return this.emit("debug",{action:"receiveEip1193Result",result:H}),H}catch(H){let D=new Error(H.message);throw D.code=H.code,D.data=H.data,D.payload=G,this.emit("debug",{action:"receiveEip1193Error",error:D}),D}}}get providerInfo(){return this.#Q}async send($,Q){return await this._start(),await super.send($,Q)}async _send($){h(!Array.isArray($),"EIP-1193 does not support batch request","payload",$);try{let Q=await this.#$($.method,$.params||[]);return[{id:$.id,result:Q}]}catch(Q){return[{id:$.id,error:{code:Q.code,data:Q.data,message:Q.message}}]}}getRpcError($,Q){switch(Q=JSON.parse(JSON.stringify(Q)),Q.error.code||-1){case 4001:Q.error.message=`ethers-user-denied: ${Q.error.message}`;break;case 4200:Q.error.message=`ethers-unsupported: ${Q.error.message}`;break}return super.getRpcError($,Q)}async hasSigner($){if($==null)$=0;let Q=await this.send("eth_accounts",[]);if(typeof $==="number")return Q.length>$;return $=$.toLowerCase(),Q.filter((X)=>X.toLowerCase()===$).length!==0}async getSigner($){if($==null)$=0;if(!await this.hasSigner($))try{await this.#$("eth_requestAccounts",[])}catch(Q){let X=Q.payload;throw this.getRpcError(X,{id:X.id,error:Q})}return await super.getSigner($)}static async discover($){if($==null)$={};if($.provider)return new eZ($.provider);let Q=$.window?$.window:typeof window!=="undefined"?window:null;if(Q==null)return null;let X=$.anyProvider;if(X&&Q.ethereum)return new eZ(Q.ethereum);if(!(("addEventListener"in Q)&&("dispatchEvent"in Q)&&("removeEventListener"in Q)))return null;let Z=$.timeout?$.timeout:300;if(Z===0)return null;return await new Promise((Y,V)=>{let G=[],H=(T)=>{if(G.push(T.detail),X)D()},D=()=>{if(clearTimeout(A),G.length)if($&&$.filter){let T=$.filter(G.map((F)=>Object.assign({},F.info)));if(T==null)Y(null);else if(T instanceof eZ)Y(T);else{let F=null;if(T.uuid)F=G.filter((I)=>T.uuid===I.info.uuid)[0];if(F){let{provider:M,info:I}=F;Y(new eZ(M,void 0,{providerInfo:I}))}else V(W$("filter returned unknown info","UNSUPPORTED_OPERATION",{value:T}))}}else{let{provider:T,info:F}=G[0];Y(new eZ(T,void 0,{providerInfo:F}))}else Y(null);Q.removeEventListener("eip6963:announceProvider",H)},A=setTimeout(()=>{D()},Z);Q.addEventListener("eip6963:announceProvider",H),Q.dispatchEvent(new Event("eip6963:requestProvider"))})}}});function YI($){switch($){case"mainnet":return"https://eth.blockscout.com/api/eth-rpc";case"sepolia":return"https://eth-sepolia.blockscout.com/api/eth-rpc";case"holesky":return"https://eth-holesky.blockscout.com/api/eth-rpc";case"classic":return"https://etc.blockscout.com/api/eth-rpc";case"arbitrum":return"https://arbitrum.blockscout.com/api/eth-rpc";case"base":return"https://base.blockscout.com/api/eth-rpc";case"base-sepolia":return"https://base-sepolia.blockscout.com/api/eth-rpc";case"matic":return"https://polygon.blockscout.com/api/eth-rpc";case"optimism":return"https://optimism.blockscout.com/api/eth-rpc";case"optimism-sepolia":return"https://optimism-sepolia.blockscout.com/api/eth-rpc";case"xdai":return"https://gnosis.blockscout.com/api/eth-rpc"}h(!1,"unsupported network","network",$)}var a8;var FL=K0(()=>{d0();dQ();AX();a8=class a8 extends _${apiKey;constructor($,Q){if($==null)$="mainnet";let X=Y$.from($);if(Q==null)Q=null;let Z=a8.getRequest(X);super(Z,X,{staticNetwork:X});P0(this,{apiKey:Q})}_getProvider($){try{return new a8($,this.apiKey)}catch(Q){}return super._getProvider($)}isCommunityResource(){return this.apiKey===null}getRpcRequest($){let Q=super.getRpcRequest($);if(Q&&Q.method==="eth_estimateGas"&&Q.args.length==1)Q.args=Q.args.slice(),Q.args.push("latest");return Q}getRpcError($,Q){let X=Q?Q.error:null;if(X&&X.code===-32015&&!Q$(X.data||"",!0)){let Z={"assert(false)":"01","arithmetic underflow or overflow":"11","division or modulo by zero":"12","out-of-bounds array access; popping on an empty array":"31","out-of-bounds access of an array or bytesN":"32"},Y="";if(X.message==="VM execution error.")Y=Z[X.data]||"";else if(Z[X.message||""])Y=Z[X.message||""];if(Y)X.message+=` (reverted: ${X.data})`,X.data="0x4e487b7100000000000000000000000000000000000000000000000000000000000000"+Y}else if(X&&X.code===-32000){if(X.message==="wrong transaction nonce")X.message+=" (nonce too low)"}return super.getRpcError($,Q)}static getRequest($){let Q=new q$(YI($.name));return Q.allowGzip=!0,Q}}});function JI($){switch($){case"mainnet":return"eth-mainnet.gateway.pokt.network";case"goerli":return"eth-goerli.gateway.pokt.network";case"matic":return"poly-mainnet.gateway.pokt.network";case"matic-mumbai":return"polygon-mumbai-rpc.gateway.pokt.network"}h(!1,"unsupported network","network",$)}var u1="62e1ad51b37b8e00394bda3b",t8;var RL=K0(()=>{d0();aZ();dQ();AX();t8=class t8 extends _${applicationId;applicationSecret;constructor($,Q,X){if($==null)$="mainnet";let Z=Y$.from($);if(Q==null)Q=u1;if(X==null)X=null;let Y={staticNetwork:Z},V=t8.getRequest(Z,Q,X);super(V,Z,Y);P0(this,{applicationId:Q,applicationSecret:X})}_getProvider($){try{return new t8($,this.applicationId,this.applicationSecret)}catch(Q){}return super._getProvider($)}static getRequest($,Q,X){if(Q==null)Q=u1;let Z=new q$(`https://${JI($.name)}/v1/lb/${Q}`);if(Z.allowGzip=!0,X)Z.setCredentials("",X);if(Q===u1)Z.retryFunc=async(Y,V,G)=>{return NQ("PocketProvider"),!0};return Z}isCommunityResource(){return this.applicationId===u1}}});var d9=void 0;var EL=()=>{};var d1=K0(()=>{d8();k1();aZ();AL();H9();dQ();CL();j1();p8();m9();AX();TL();_9();FL();w9();k9();x9();f9();v9();RL();g9();EL();b1();p1();b1()});var $Y;var l1=K0(()=>{d$();CZ();d1();mQ();d0();$Y=class $Y extends WZ{address;#$;constructor($,Q){super(Q);h($&&typeof $.sign==="function","invalid private key","privateKey","[ REDACTED ]"),this.#$=$;let X=$Z(this.signingKey.publicKey);P0(this,{address:X})}get signingKey(){return this.#$}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect($){return new $Y(this.#$,$)}async signTransaction($){$=_X($);let{to:Q,from:X}=await B$({to:$.to?N$($.to,this):void 0,from:$.from?N$($.from,this):void 0});if(Q!=null)$.to=Q;if(X!=null)$.from=X;if($.from!=null)h(n0($.from)===this.address,"transaction from address mismatch","tx.from",$.from),delete $.from;let Z=s$.from($);return Z.signature=this.signingKey.sign(Z.unsignedHash),Z.serialized}async signMessage($){return this.signMessageSync($)}signMessageSync($){return this.signingKey.sign(v8($)).serialized}authorizeSync($){h(typeof $.address==="string","invalid address for authorizeSync","auth.address",$);let Q=this.signingKey.sign(w8($));return Object.assign({},{address:n0($.address),nonce:c0($.nonce||0),chainId:c0($.chainId||0)},{signature:Q})}async authorize($){return $=Object.assign({},$,{address:await N$($.address,this)}),this.authorizeSync(await this.populateAuthorization($))}async signTypedData($,Q,X){let Z=await l$.resolveNames($,Q,X,async(Y)=>{J0(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:Y}});let V=await this.provider.resolveName(Y);return J0(V!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:Y}),V});return this.signingKey.sign(l$.hash(Z.domain,Q,Z.value)).serialized}}});function IL($,Q){let X=97;return $.reduce((Z,Y)=>{if(Y===Q)X++;else if(Y.match(GI))Z.push(String.fromCharCode(X)+Y);else X=97,Z.push(Y);return Z},[])}function WI($,Q){for(let Y=o1.length-1;Y>=0;Y--)$=$.split(o1[Y]).join(Q.substring(2*Y,2*Y+2));let X=[],Z=$.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(Y,V,G,H)=>{if(G)for(let D=parseInt(G);D>=0;D--)X.push(";");else X.push(V.toLowerCase());return""});if(Z)throw new Error(`leftovers: ${JSON.stringify(Z)}`);return IL(IL(X,";"),":")}function n1($){return h($[0]==="0","unsupported auwl data","data",$),WI($.substring(1+2*o1.length),$.substring(1,1+2*o1.length))}var o1=" !#$%&'()*+,-./<=>?@[]^_`{|}~",GI;var l9=K0(()=>{d0();GI=/^[a-z]*$/i});class e8{locale;constructor($){P0(this,{locale:$})}split($){return $.toLowerCase().split(/\s+/g)}join($){return $.join(" ")}}var o9=K0(()=>{d0()});var bY;var s1=K0(()=>{CZ();d0();l9();o9();bY=class bY extends e8{#$;#Q;constructor($,Q,X){super($);this.#$=Q,this.#Q=X,this.#X=null}get _data(){return this.#$}_decodeWords(){return n1(this.#$)}#X;#Z(){if(this.#X==null){let $=this._decodeWords();if(BQ($.join(`
`)+`
`)!==this.#Q)throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);this.#X=$}return this.#X}getWord($){let Q=this.#Z();return h($>=0&&$<Q.length,`invalid word index: ${$}`,"index",$),Q[$]}getWordIndex($){return this.#Z().indexOf($)}}});var VI="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",UI="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60",n9=null,XX;var kW=K0(()=>{s1();XX=class XX extends bY{constructor(){super("en",VI,UI)}static wordlist(){if(n9==null)n9=new XX;return n9}}});function PL($){return(1<<$)-1<<8-$&255}function KI($){return(1<<$)-1&255}function s9($,Q){if(UJ("NFKD"),Q==null)Q=XX.wordlist();let X=Q.split($);h(X.length%3===0&&X.length>=12&&X.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");let Z=new Uint8Array(Math.ceil(11*X.length/8)),Y=0;for(let A=0;A<X.length;A++){let T=Q.getWordIndex(X[A].normalize("NFKD"));h(T>=0,`invalid mnemonic word at index ${A}`,"mnemonic","[ REDACTED ]");for(let F=0;F<11;F++){if(T&1<<10-F)Z[Y>>3]|=1<<7-Y%8;Y++}}let V=32*X.length/3,G=X.length/3,H=PL(G),D=M0(m$(Z.slice(0,V/8)))[0]&H;return h(D===(Z[Z.length-1]&H),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),O0(Z.slice(0,V/8))}function i9($,Q){if(h($.length%4===0&&$.length>=16&&$.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),Q==null)Q=XX.wordlist();let X=[0],Z=11;for(let G=0;G<$.length;G++)if(Z>8)X[X.length-1]<<=8,X[X.length-1]|=$[G],Z-=8;else X[X.length-1]<<=Z,X[X.length-1]|=$[G]>>8-Z,X.push($[G]&KI(8-Z)),Z+=3;let Y=$.length/4,V=parseInt(m$($).substring(2,4),16)&PL(Y);return X[X.length-1]<<=Y,X[X.length-1]|=V>>8-Y,Q.join(X.map((G)=>Q.getWord(G)))}class VZ{phrase;password;wordlist;entropy;constructor($,Q,X,Z,Y){if(Z==null)Z="";if(Y==null)Y=XX.wordlist();IQ($,r9,"Mnemonic"),P0(this,{phrase:X,password:Z,wordlist:Y,entropy:Q})}computeSeed(){let $=F$("mnemonic"+this.password,"NFKD");return cQ(F$(this.phrase,"NFKD"),$,2048,64,"sha512")}static fromPhrase($,Q,X){let Z=s9($,X);return $=i9(M0(Z),X),new VZ(r9,Z,$,Q,X)}static fromEntropy($,Q,X){let Z=M0($,"entropy"),Y=i9(Z,X);return new VZ(r9,O0(Z),Y,Q,X)}static entropyToPhrase($,Q){let X=M0($,"entropy");return i9(X,Q)}static phraseToEntropy($,Q){return s9($,Q)}static isValidMnemonic($,Q){try{return s9($,Q),!0}catch(X){}return!1}}var r9;var i1=K0(()=>{n$();d0();kW();r9={}});function t9($){let Q=[];for(let X=0;X<$.length;X+=4)Q.push($[X]<<24|$[X+1]<<16|$[X+2]<<8|$[X+3]);return Q}class t1{get key(){return wQ(this,a1,"f").slice()}constructor($){if(a1.set(this,void 0),fX.set(this,void 0),IZ.set(this,void 0),!(this instanceof t1))throw Error("AES must be instanitated with `new`");a9(this,a1,new Uint8Array($),"f");let Q=OI[this.key.length];if(Q==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");a9(this,IZ,[],"f"),a9(this,fX,[],"f");for(let A=0;A<=Q;A++)wQ(this,IZ,"f").push([0,0,0,0]),wQ(this,fX,"f").push([0,0,0,0]);let X=(Q+1)*4,Z=this.key.length/4,Y=t9(this.key),V;for(let A=0;A<Z;A++)V=A>>2,wQ(this,IZ,"f")[V][A%4]=Y[A],wQ(this,fX,"f")[Q-V][A%4]=Y[A];let G=0,H=Z,D;while(H<X){if(D=Y[Z-1],Y[0]^=kX[D>>16&255]<<24^kX[D>>8&255]<<16^kX[D&255]<<8^kX[D>>24&255]^zI[G]<<24,G+=1,Z!=8)for(let M=1;M<Z;M++)Y[M]^=Y[M-1];else{for(let M=1;M<Z/2;M++)Y[M]^=Y[M-1];D=Y[Z/2-1],Y[Z/2]^=kX[D&255]^kX[D>>8&255]<<8^kX[D>>16&255]<<16^kX[D>>24&255]<<24;for(let M=Z/2+1;M<Z;M++)Y[M]^=Y[M-1]}let A=0,T,F;while(A<Z&&H<X)T=H>>2,F=H%4,wQ(this,IZ,"f")[T][F]=Y[A],wQ(this,fX,"f")[Q-T][F]=Y[A++],H++}for(let A=1;A<Q;A++)for(let T=0;T<4;T++)D=wQ(this,fX,"f")[A][T],wQ(this,fX,"f")[A][T]=FI[D>>24&255]^RI[D>>16&255]^EI[D>>8&255]^II[D&255]}encrypt($){if($.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");let Q=wQ(this,IZ,"f").length-1,X=[0,0,0,0],Z=t9($);for(let G=0;G<4;G++)Z[G]^=wQ(this,IZ,"f")[0][G];for(let G=1;G<Q;G++){for(let H=0;H<4;H++)X[H]=HI[Z[H]>>24&255]^LI[Z[(H+1)%4]>>16&255]^DI[Z[(H+2)%4]>>8&255]^qI[Z[(H+3)%4]&255]^wQ(this,IZ,"f")[G][H];Z=X.slice()}let Y=new Uint8Array(16),V=0;for(let G=0;G<4;G++)V=wQ(this,IZ,"f")[Q][G],Y[4*G]=(kX[Z[G]>>24&255]^V>>24)&255,Y[4*G+1]=(kX[Z[(G+1)%4]>>16&255]^V>>16)&255,Y[4*G+2]=(kX[Z[(G+2)%4]>>8&255]^V>>8)&255,Y[4*G+3]=(kX[Z[(G+3)%4]&255]^V)&255;return Y}decrypt($){if($.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");let Q=wQ(this,fX,"f").length-1,X=[0,0,0,0],Z=t9($);for(let G=0;G<4;G++)Z[G]^=wQ(this,fX,"f")[0][G];for(let G=1;G<Q;G++){for(let H=0;H<4;H++)X[H]=MI[Z[H]>>24&255]^AI[Z[(H+3)%4]>>16&255]^CI[Z[(H+2)%4]>>8&255]^TI[Z[(H+1)%4]&255]^wQ(this,fX,"f")[G][H];Z=X.slice()}let Y=new Uint8Array(16),V=0;for(let G=0;G<4;G++)V=wQ(this,fX,"f")[Q][G],Y[4*G]=(r1[Z[G]>>24&255]^V>>24)&255,Y[4*G+1]=(r1[Z[(G+3)%4]>>16&255]^V>>16)&255,Y[4*G+2]=(r1[Z[(G+2)%4]>>8&255]^V>>8)&255,Y[4*G+3]=(r1[Z[(G+1)%4]&255]^V)&255;return Y}}var wQ=function($,Q,X,Z){if(X==="a"&&!Z)throw new TypeError("Private accessor was defined without a getter");if(typeof Q==="function"?$!==Q||!Z:!Q.has($))throw new TypeError("Cannot read private member from an object whose class did not declare it");return X==="m"?Z:X==="a"?Z.call($):Z?Z.value:Q.get($)},a9=function($,Q,X,Z,Y){if(Z==="m")throw new TypeError("Private method is not writable");if(Z==="a"&&!Y)throw new TypeError("Private accessor was defined without a setter");if(typeof Q==="function"?$!==Q||!Y:!Q.has($))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Z==="a"?Y.call($,X):Y?Y.value=X:Q.set($,X),X},a1,fX,IZ,OI,zI,kX,r1,HI,LI,DI,qI,MI,AI,CI,TI,FI,RI,EI,II;var SL=K0(()=>{/*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */OI={16:10,24:12,32:14},zI=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],kX=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],r1=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],HI=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],LI=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],DI=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],qI=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],MI=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],AI=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],CI=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239000,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],TI=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998000,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],FI=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],RI=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],EI=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239000,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],II=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998000,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];a1=new WeakMap,fX=new WeakMap,IZ=new WeakMap});class fW{constructor($,Q,X){if(X&&!(this instanceof X))throw new Error(`${$} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new t1(Q)},name:{enumerable:!0,value:$}})}}var e9=K0(()=>{SL()});var e1=function($,Q,X,Z,Y){if(Z==="m")throw new TypeError("Private method is not writable");if(Z==="a"&&!Y)throw new TypeError("Private accessor was defined without a setter");if(typeof Q==="function"?$!==Q||!Y:!Q.has($))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Z==="a"?Y.call($,X):Y?Y.value=X:Q.set($,X),X},$G=function($,Q,X,Z){if(X==="a"&&!Z)throw new TypeError("Private accessor was defined without a getter");if(typeof Q==="function"?$!==Q||!Z:!Q.has($))throw new TypeError("Cannot read private member from an object whose class did not declare it");return X==="m"?Z:X==="a"?Z.call($):Z?Z.value:Q.get($)},vW,QY,gW;var BL=K0(()=>{e9();gW=class gW extends fW{constructor($,Q){super("ECC",$,gW);if(vW.set(this,void 0),QY.set(this,void 0),Q){if(Q.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");e1(this,vW,new Uint8Array(Q),"f")}else e1(this,vW,new Uint8Array(16),"f");e1(this,QY,this.iv,"f")}get iv(){return new Uint8Array($G(this,vW,"f"))}encrypt($){if($.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");let Q=new Uint8Array($.length);for(let X=0;X<$.length;X+=16){for(let Z=0;Z<16;Z++)$G(this,QY,"f")[Z]^=$[X+Z];e1(this,QY,this.aes.encrypt($G(this,QY,"f")),"f"),Q.set($G(this,QY,"f"),X)}return Q}decrypt($){if($.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");let Q=new Uint8Array($.length);for(let X=0;X<$.length;X+=16){let Z=this.aes.decrypt($.subarray(X,X+16));for(let Y=0;Y<16;Y++)Q[X+Y]=Z[Y]^$G(this,QY,"f")[Y],$G(this,QY,"f")[Y]=$[X+Y]}return Q}};vW=new WeakMap,QY=new WeakMap});var QG=function($,Q,X,Z,Y){if(Z==="m")throw new TypeError("Private method is not writable");if(Z==="a"&&!Y)throw new TypeError("Private accessor was defined without a setter");if(typeof Q==="function"?$!==Q||!Y:!Q.has($))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Z==="a"?Y.call($,X):Y?Y.value=X:Q.set($,X),X},vX=function($,Q,X,Z){if(X==="a"&&!Z)throw new TypeError("Private accessor was defined without a getter");if(typeof Q==="function"?$!==Q||!Z:!Q.has($))throw new TypeError("Cannot read private member from an object whose class did not declare it");return X==="m"?Z:X==="a"?Z.call($):Z?Z.value:Q.get($)},yW,pJ,gX,pY;var jL=K0(()=>{e9();pY=class pY extends fW{constructor($,Q){super("CTR",$,pY);if(yW.set(this,void 0),pJ.set(this,void 0),gX.set(this,void 0),QG(this,gX,new Uint8Array(16),"f"),vX(this,gX,"f").fill(0),QG(this,yW,vX(this,gX,"f"),"f"),QG(this,pJ,16,"f"),Q==null)Q=1;if(typeof Q==="number")this.setCounterValue(Q);else this.setCounterBytes(Q)}get counter(){return new Uint8Array(vX(this,gX,"f"))}setCounterValue($){if(!Number.isInteger($)||$<0||$>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let Q=15;Q>=0;--Q)vX(this,gX,"f")[Q]=$%256,$=Math.floor($/256)}setCounterBytes($){if($.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");vX(this,gX,"f").set($)}increment(){for(let $=15;$>=0;$--)if(vX(this,gX,"f")[$]===255)vX(this,gX,"f")[$]=0;else{vX(this,gX,"f")[$]++;break}}encrypt($){var Q,X;let Z=new Uint8Array($);for(let Y=0;Y<Z.length;Y++){if(vX(this,pJ,"f")===16)QG(this,yW,this.aes.encrypt(vX(this,gX,"f")),"f"),QG(this,pJ,0,"f"),this.increment();Z[Y]^=vX(this,yW,"f")[QG(this,pJ,(X=vX(this,pJ,"f"),Q=X++,X),"f"),Q]}return Z}decrypt($){return this.encrypt($)}};yW=new WeakMap,pJ=new WeakMap,gX=new WeakMap});function $O($){if($.length<16)throw new TypeError("PKCS#7 invalid length");let Q=$[$.length-1];if(Q>16)throw new TypeError("PKCS#7 padding byte out of range");let X=$.length-Q;for(let Z=0;Z<Q;Z++)if($[X+Z]!==Q)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array($.subarray(0,X))}var QO=K0(()=>{BL();jL()});function XO($){if(typeof $==="string"&&!$.startsWith("0x"))$="0x"+$;return j$($)}function XG($,Q){$=String($);while($.length<Q)$="0"+$;return $}function cJ($){if(typeof $==="string")return F$($,"NFKC");return j$($)}function k$($,Q){let X=Q.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);h(X!=null,"invalid path","path",Q);let Z=X[1],Y=X[3],V=X[4]==="!",G=$;for(let H of Z.toLowerCase().split(".")){if(Array.isArray(G)){if(!H.match(/^[0-9]+$/))break;G=G[parseInt(H)]}else if(typeof G==="object"){let D=null;for(let A in G)if(A.toLowerCase()===H){D=G[A];break}G=D}else G=null;if(G==null)break}if(h(!V||G!=null,"missing required value","path",Z),Y&&G!=null){if(Y==="int"){if(typeof G==="string"&&G.match(/^-?[0-9]+$/))return parseInt(G);else if(Number.isSafeInteger(G))return G}if(Y==="number"){if(typeof G==="string"&&G.match(/^-?[0-9.]*$/))return parseFloat(G)}if(Y==="data"){if(typeof G==="string")return XO(G)}if(Y==="array"&&Array.isArray(G))return G;if(Y===typeof G)return G;h(!1,`wrong type found for ${Y} `,"path",Z)}return G}var ZO=K0(()=>{d0()});function ZG($){try{let Q=JSON.parse($);if((Q.version!=null?parseInt(Q.version):0)===3)return!0}catch(Q){}return!1}function PI($,Q,X){if(k$($,"crypto.cipher:string")==="aes-128-ctr"){let Y=k$($,"crypto.cipherparams.iv:data!"),V=new pY(Q,Y);return O0(V.decrypt(X))}J0(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function $U($,Q){let X=M0(Q),Z=k$($,"crypto.ciphertext:data!"),Y=O0(e0(s0([X.slice(16,32),Z]))).substring(2);h(Y===k$($,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");let V=PI($,X.slice(0,16),Z),G=$Z(V);if($.address){let A=$.address.toLowerCase();if(!A.startsWith("0x"))A="0x"+A;h(n0(A)===G,"keystore address/privateKey mismatch","address",$.address)}let H={address:G,privateKey:V};if(k$($,"x-ethers.version:string")==="0.1"){let A=X.slice(32,64),T=k$($,"x-ethers.mnemonicCiphertext:data!"),F=k$($,"x-ethers.mnemonicCounter:data!"),M=new pY(A,F);H.mnemonic={path:k$($,"x-ethers.path:string")||wL,locale:k$($,"x-ethers.locale:string")||"en",entropy:O0(M0(M.decrypt(T)))}}return H}function _L($){let Q=k$($,"crypto.kdf:string");if(Q&&typeof Q==="string"){if(Q.toLowerCase()==="scrypt"){let X=k$($,"crypto.kdfparams.salt:data!"),Z=k$($,"crypto.kdfparams.n:int!"),Y=k$($,"crypto.kdfparams.r:int!"),V=k$($,"crypto.kdfparams.p:int!");h(Z>0&&(Z&Z-1)===0,"invalid kdf.N","kdf.N",Z),h(Y>0&&V>0,"invalid kdf","kdf",Q);let G=k$($,"crypto.kdfparams.dklen:int!");return h(G===32,"invalid kdf.dklen","kdf.dflen",G),{name:"scrypt",salt:X,N:Z,r:Y,p:V,dkLen:64}}else if(Q.toLowerCase()==="pbkdf2"){let X=k$($,"crypto.kdfparams.salt:data!"),Z=k$($,"crypto.kdfparams.prf:string!"),Y=Z.split("-").pop();h(Y==="sha256"||Y==="sha512","invalid kdf.pdf","kdf.pdf",Z);let V=k$($,"crypto.kdfparams.c:int!"),G=k$($,"crypto.kdfparams.dklen:int!");return h(G===32,"invalid kdf.dklen","kdf.dklen",G),{name:"pbkdf2",salt:X,count:V,dkLen:G,algorithm:Y}}}h(!1,"unsupported key-derivation function","kdf",Q)}function hW($,Q){let X=JSON.parse($),Z=cJ(Q),Y=_L(X);if(Y.name==="pbkdf2"){let{salt:F,count:M,dkLen:I,algorithm:P}=Y,S=cQ(Z,F,M,I,P);return $U(X,S)}J0(Y.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:Y});let{salt:V,N:G,r:H,p:D,dkLen:A}=Y,T=aX(Z,V,G,H,D,A);return $U(X,T)}function NL($){return new Promise((Q)=>{setTimeout(()=>{Q()},$)})}async function bW($,Q,X){let Z=JSON.parse($),Y=cJ(Q),V=_L(Z);if(V.name==="pbkdf2"){if(X)X(0),await NL(0);let{salt:M,count:I,dkLen:P,algorithm:S}=V,j=cQ(Y,M,I,P,S);if(X)X(1),await NL(0);return $U(Z,j)}J0(V.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:V});let{salt:G,N:H,r:D,p:A,dkLen:T}=V,F=await rX(Y,G,H,D,A,T,X);return $U(Z,F)}function xL($){let Q=$.salt!=null?M0($.salt,"options.salt"):gQ(32),X=131072,Z=8,Y=1;if($.scrypt){if($.scrypt.N)X=$.scrypt.N;if($.scrypt.r)Z=$.scrypt.r;if($.scrypt.p)Y=$.scrypt.p}return h(typeof X==="number"&&X>0&&Number.isSafeInteger(X)&&(BigInt(X)&BigInt(X-1))===BigInt(0),"invalid scrypt N parameter","options.N",X),h(typeof Z==="number"&&Z>0&&Number.isSafeInteger(Z),"invalid scrypt r parameter","options.r",Z),h(typeof Y==="number"&&Y>0&&Number.isSafeInteger(Y),"invalid scrypt p parameter","options.p",Y),{name:"scrypt",dkLen:32,salt:Q,N:X,r:Z,p:Y}}function kL($,Q,X,Z){let Y=M0(X.privateKey,"privateKey"),V=Z.iv!=null?M0(Z.iv,"options.iv"):gQ(16);h(V.length===16,"invalid options.iv length","options.iv",Z.iv);let G=Z.uuid!=null?M0(Z.uuid,"options.uuid"):gQ(16);h(G.length===16,"invalid options.uuid length","options.uuid",Z.iv);let H=$.slice(0,16),D=$.slice(16,32),A=new pY(H,V),T=M0(A.encrypt(Y)),F=e0(s0([D,T])),M={address:X.address.substring(2).toLowerCase(),id:aG(G),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:O0(V).substring(2)},ciphertext:O0(T).substring(2),kdf:"scrypt",kdfparams:{salt:O0(Q.salt).substring(2),n:Q.N,dklen:32,p:Q.p,r:Q.r},mac:F.substring(2)}};if(X.mnemonic){let I=Z.client!=null?Z.client:`ethers/${K8}`,P=X.mnemonic.path||wL,S=X.mnemonic.locale||"en",j=$.slice(32,64),N=M0(X.mnemonic.entropy,"account.mnemonic.entropy"),w=gQ(16),k=new pY(j,w),f=M0(k.encrypt(N)),v=new Date,u="UTC--"+(v.getUTCFullYear()+"-"+XG(v.getUTCMonth()+1,2)+"-"+XG(v.getUTCDate(),2)+"T"+XG(v.getUTCHours(),2)+"-"+XG(v.getUTCMinutes(),2)+"-"+XG(v.getUTCSeconds(),2)+".0Z")+"--"+M.address;M["x-ethers"]={client:I,gethFilename:u,path:P,locale:S,mnemonicCounter:O0(w).substring(2),mnemonicCiphertext:O0(f).substring(2),version:"0.1"}}return JSON.stringify(M)}function mJ($,Q,X){if(X==null)X={};let Z=cJ(Q),Y=xL(X),V=aX(Z,Y.salt,Y.N,Y.r,Y.p,64);return kL(M0(V),Y,$,X)}async function uJ($,Q,X){if(X==null)X={};let Z=cJ(Q),Y=xL(X),V=await rX(Z,Y.salt,Y.N,Y.r,Y.p,64,X.progressCallback);return kL(M0(V),Y,$,X)}var wL="m/44'/60'/0'/0/0";var QU=K0(()=>{QO();d$();n$();mQ();d0();ZO()});function XU($,Q){let X="";while($)X=jI[$%16]+X,$=Math.trunc($/16);while(X.length<Q*2)X="0"+X;return"0x"+X}function YO($){let Q=M0($),X=O$(m$(m$(Q)),0,4),Z=s0([Q,X]);return OJ(Z)}function fL($,Q,X,Z){let Y=new Uint8Array(37);if($&SZ)J0(Z!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),Y.set(M0(Z),1);else Y.set(M0(X));for(let G=24;G>=0;G-=8)Y[33+(G>>3)]=$>>24-G&255;let V=M0(sX("sha512",Q,Y));return{IL:V.slice(0,32),IR:V.slice(32)}}function vL($,Q){let X=Q.split("/");if(h(X.length>0,"invalid path","path",Q),X[0]==="m")h($.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${$.depth}`,"path",Q),X.shift();let Z=$;for(let Y=0;Y<X.length;Y++){let V=X[Y];if(V.match(/^[0-9]+'$/)){let G=parseInt(V.substring(0,V.length-1));h(G<SZ,"invalid path index",`path[${Y}]`,V),Z=Z.deriveChild(SZ+G)}else if(V.match(/^[0-9]+$/)){let G=parseInt(V);h(G<SZ,"invalid path index",`path[${Y}]`,V),Z=Z.deriveChild(G)}else h(!1,"invalid path component",`path[${Y}]`,V)}return Z}function JO($){let Q=o0($,"index");return h(Q>=0&&Q<SZ,"invalid account index","index",Q),`m/44'/60'/${Q}'/0/0`}function GO($){let Q=o0($,"index");return h(Q>=0&&Q<SZ,"invalid account index","index",Q),`m/44'/60'/0'/0/${Q}`}var YG="m/44'/60'/0'/0/0",SI,SZ=2147483648,BI,jI="0123456789abcdef",PZ,hQ,cY;var WO=K0(()=>{n$();d1();mQ();d0();kW();l1();i1();QU();SI=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),BI=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");PZ={};hQ=class hQ extends $Y{publicKey;fingerprint;parentFingerprint;mnemonic;chainCode;path;index;depth;constructor($,Q,X,Z,Y,V,G,H,D){super(Q,D);IQ($,PZ,"HDNodeWallet"),P0(this,{publicKey:Q.compressedPublicKey});let A=O$(iX(m$(this.publicKey)),0,4);P0(this,{parentFingerprint:X,fingerprint:A,chainCode:Z,path:Y,index:V,depth:G}),P0(this,{mnemonic:H})}connect($){return new hQ(PZ,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,$)}#$(){let $={address:this.address,privateKey:this.privateKey},Q=this.mnemonic;if(this.path&&Q&&Q.wordlist.locale==="en"&&Q.password==="")$.mnemonic={path:this.path,locale:"en",entropy:Q.entropy};return $}async encrypt($,Q){return await uJ(this.#$(),$,{progressCallback:Q})}encryptSync($){return mJ(this.#$(),$)}get extendedKey(){return J0(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),YO(s0(["0x0488ADE4",XU(this.depth,1),this.parentFingerprint,XU(this.index,4),this.chainCode,s0(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new cY(PZ,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild($){let Q=o0($,"index");h(Q<=4294967295,"invalid index","index",Q);let X=this.path;if(X){if(X+="/"+(Q&~SZ),Q&SZ)X+="'"}let{IR:Z,IL:Y}=fL(Q,this.chainCode,this.publicKey,this.privateKey),V=new u$(qQ((SX(Y)+BigInt(this.privateKey))%BI,32));return new hQ(PZ,V,this.fingerprint,O0(Z),X,Q,this.depth+1,this.mnemonic,this.provider)}derivePath($){return vL(this,$)}static#Q($,Q){h(uX($),"invalid seed","seed","[REDACTED]");let X=M0($,"seed");h(X.length>=16&&X.length<=64,"invalid seed","seed","[REDACTED]");let Z=M0(sX("sha512",SI,X)),Y=new u$(O0(Z.slice(0,32)));return new hQ(PZ,Y,"0x00000000",O0(Z.slice(32)),"m",0,0,Q,null)}static fromExtendedKey($){let Q=z$(oG($));h(Q.length===82||YO(Q.slice(0,78))===$,"invalid extended key","extendedKey","[ REDACTED ]");let X=Q[4],Z=O0(Q.slice(5,9)),Y=parseInt(O0(Q.slice(9,13)).substring(2),16),V=O0(Q.slice(13,45)),G=Q.slice(45,78);switch(O0(Q.slice(0,4))){case"0x0488b21e":case"0x043587cf":{let H=O0(G);return new cY(PZ,$Z(H),H,Z,V,null,Y,X,null)}case"0x0488ade4":case"0x04358394 ":if(G[0]!==0)break;return new hQ(PZ,new u$(G.slice(1)),Z,V,null,Y,X,null,null)}h(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom($,Q,X){if($==null)$="";if(Q==null)Q=YG;if(X==null)X=XX.wordlist();let Z=VZ.fromEntropy(gQ(16),$,X);return hQ.#Q(Z.computeSeed(),Z).derivePath(Q)}static fromMnemonic($,Q){if(!Q)Q=YG;return hQ.#Q($.computeSeed(),$).derivePath(Q)}static fromPhrase($,Q,X,Z){if(Q==null)Q="";if(X==null)X=YG;if(Z==null)Z=XX.wordlist();let Y=VZ.fromPhrase($,Q,Z);return hQ.#Q(Y.computeSeed(),Y).derivePath(X)}static fromSeed($){return hQ.#Q($,null)}};cY=class cY extends gJ{publicKey;fingerprint;parentFingerprint;chainCode;path;index;depth;constructor($,Q,X,Z,Y,V,G,H,D){super(Q,D);IQ($,PZ,"HDNodeVoidWallet"),P0(this,{publicKey:X});let A=O$(iX(m$(X)),0,4);P0(this,{publicKey:X,fingerprint:A,parentFingerprint:Z,chainCode:Y,path:V,index:G,depth:H})}connect($){return new cY(PZ,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,$)}get extendedKey(){return J0(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),YO(s0(["0x0488B21E",XU(this.depth,1),this.parentFingerprint,XU(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild($){let Q=o0($,"index");h(Q<=4294967295,"invalid index","index",Q);let X=this.path;if(X){if(X+="/"+(Q&~SZ),Q&SZ)X+="'"}let{IR:Z,IL:Y}=fL(Q,this.chainCode,this.publicKey,null),V=u$.addPoints(Y,this.publicKey,!0),G=$Z(V);return new cY(PZ,G,V,this.fingerprint,O0(Z),X,Q,this.depth+1,this.provider)}derivePath($){return vL(this,$)}}});function JG($){try{if(JSON.parse($).encseed)return!0}catch(Q){}return!1}function GG($,Q){let X=JSON.parse($),Z=cJ(Q),Y=n0(k$(X,"ethaddr:string!")),V=XO(k$(X,"encseed:string!"));h(V&&V.length%16===0,"invalid encseed","json",$);let G=M0(cQ(Z,Z,2000,32,"sha256")).slice(0,16),H=V.slice(0,16),D=V.slice(16),A=new gW(G,H),T=$O(M0(A.decrypt(D))),F="";for(let M=0;M<T.length;M++)F+=String.fromCharCode(T[M]);return{address:Y,privateKey:BQ(F)}}var VO=K0(()=>{QO();d$();n$();CZ();d0();ZO()});function gL($){return new Promise((Q)=>{setTimeout(()=>{Q()},$)})}var mY;var yL=K0(()=>{n$();d0();l1();WO();VO();QU();i1();mY=class mY extends $Y{constructor($,Q){if(typeof $==="string"&&!$.startsWith("0x"))$="0x"+$;let X=typeof $==="string"?new u$($):$;super(X,Q)}connect($){return new mY(this.signingKey,$)}async encrypt($,Q){let X={address:this.address,privateKey:this.privateKey};return await uJ(X,$,{progressCallback:Q})}encryptSync($){let Q={address:this.address,privateKey:this.privateKey};return mJ(Q,$)}static#$($){if(h($,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in $&&$.mnemonic&&$.mnemonic.locale==="en"){let X=VZ.fromEntropy($.mnemonic.entropy),Z=hQ.fromMnemonic(X,$.mnemonic.path);if(Z.address===$.address&&Z.privateKey===$.privateKey)return Z;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}let Q=new mY($.privateKey);return h(Q.address===$.address,"address/privateKey mismatch","json","[ REDACTED ]"),Q}static async fromEncryptedJson($,Q,X){let Z=null;if(ZG($))Z=await bW($,Q,X);else if(JG($)){if(X)X(0),await gL(0);if(Z=GG($,Q),X)X(1),await gL(0)}return mY.#$(Z)}static fromEncryptedJsonSync($,Q){let X=null;if(ZG($))X=hW($,Q);else if(JG($))X=GG($,Q);else h(!1,"invalid JSON wallet","json","[ REDACTED ]");return mY.#$(X)}static createRandom($){let Q=hQ.createRandom();if($)return Q.connect($);return Q}static fromPhrase($,Q){let X=hQ.fromPhrase($);if(Q)return X.connect(Q);return X}}});var hL=K0(()=>{l1();WO();VO();QU();i1();yL()});function bL($,Q){let X=(1<<$)-1,Z=[],Y=0,V=0,G=0;for(let H=0;H<Q.length;H++){Y=Y<<6|")!@#$%^&*(ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".indexOf(Q[H]),V+=6;while(V>=$){let D=Y>>V-$;if(Y&=(1<<V-$)-1,V-=$,D===0)G+=X;else Z.push(D+G),G=0}}return Z}function pL($,Q){let X=n1($).join(",");return Q.split(/,/g).forEach((Z)=>{let Y=Z.match(/^([a-z]*)([0-9]+)([0-9])(.*)$/);h(Y!==null,"internal error parsing accents","accents",Q);let V=0,G=bL(parseInt(Y[3]),Y[4]),H=parseInt(Y[2]),D=new RegExp(`([${Y[1]}])`,"g");X=X.replace(D,(A,T)=>{if(--G[V]===0)T=String.fromCharCode(T.charCodeAt(0),H),V++;return T})}),X.split(",")}var cL=K0(()=>{d0();l9()});var ZU;var mL=K0(()=>{s1();cL();ZU=class ZU extends bY{#$;constructor($,Q,X,Z){super($,Q,Z);this.#$=X}get _accent(){return this.#$}_decodeWords(){return pL(this._data,this._accent)}}});var UO;var uL=K0(()=>{kW();UO={en:XX.wordlist()}});var dL=K0(()=>{o9();kW();s1();mL();uL()});var lQ={};_Z(lQ,{zeroPadValue:()=>c$,zeroPadBytes:()=>pZ,wordlists:()=>UO,version:()=>K8,verifyTypedData:()=>Q9,verifyMessage:()=>r6,verifyAuthorization:()=>y6,uuidV4:()=>aG,toUtf8String:()=>bQ,toUtf8CodePoints:()=>jK,toUtf8Bytes:()=>F$,toTwos:()=>mZ,toQuantity:()=>OQ,toNumber:()=>lG,toBigInt:()=>SX,toBeHex:()=>qQ,toBeArray:()=>z$,stripZerosLeft:()=>PK,solidityPackedSha256:()=>t6,solidityPackedKeccak256:()=>a6,solidityPacked:()=>HW,showThrottleMessage:()=>NQ,sha512:()=>AJ,sha256:()=>m$,scryptSync:()=>aX,scrypt:()=>rX,ripemd160:()=>iX,resolveProperties:()=>B$,resolveAddress:()=>N$,recoverAddress:()=>QZ,randomBytes:()=>gQ,pbkdf2:()=>cQ,parseUnits:()=>M8,parseEther:()=>kK,namehash:()=>SY,mask:()=>UX,makeError:()=>W$,lock:()=>OH,keccak256:()=>e0,isValidName:()=>i6,isKeystoreJson:()=>ZG,isHexString:()=>Q$,isError:()=>D$,isCrowdsaleJson:()=>JG,isCallException:()=>MY,isBytesLike:()=>uX,isAddressable:()=>B8,isAddress:()=>A6,id:()=>BQ,hexlify:()=>O0,hashMessage:()=>v8,hashAuthorization:()=>w8,getUint:()=>KJ,getNumber:()=>o0,getIndexedAccountPath:()=>GO,getIcapAddress:()=>D6,getDefaultProvider:()=>u9,getCreateAddress:()=>EJ,getCreate2Address:()=>q6,getBytesCopy:()=>j$,getBytes:()=>M0,getBigInt:()=>c0,getAddress:()=>n0,getAccountPath:()=>JO,fromTwos:()=>cZ,formatUnits:()=>HJ,formatEther:()=>xK,ensNormalize:()=>T1,encryptKeystoreJsonSync:()=>mJ,encryptKeystoreJson:()=>uJ,encodeRlp:()=>pQ,encodeBytes32String:()=>Y9,encodeBase64:()=>sG,encodeBase58:()=>OJ,dnsEncode:()=>zW,defineProperties:()=>P0,defaultPath:()=>YG,decryptKeystoreJsonSync:()=>hW,decryptKeystoreJson:()=>bW,decryptCrowdsaleJson:()=>GG,decodeRlp:()=>uZ,decodeBytes32String:()=>J9,decodeBase64:()=>nG,decodeBase58:()=>oG,dataSlice:()=>O$,dataLength:()=>aQ,copyRequest:()=>_X,concat:()=>s0,computeHmac:()=>sX,computeAddress:()=>$Z,checkResultErrors:()=>cV,authorizationify:()=>IJ,assertPrivate:()=>IQ,assertNormalize:()=>UJ,assertArgumentCount:()=>VJ,assertArgument:()=>h,assert:()=>J0,accessListify:()=>SQ,ZeroHash:()=>I8,ZeroAddress:()=>tX,WordlistOwlA:()=>ZU,WordlistOwl:()=>bY,Wordlist:()=>e8,WeiPerEther:()=>V6,WebSocketProvider:()=>yY,Wallet:()=>mY,VoidSigner:()=>gJ,Utf8ErrorFuncs:()=>vV,UnmanagedSubscriber:()=>EZ,UndecodedEventLog:()=>wJ,TypedDataEncoder:()=>l$,Typed:()=>V$,TransactionResponse:()=>FZ,TransactionReceipt:()=>NY,TransactionDescription:()=>qW,Transaction:()=>s$,StructFragment:()=>TZ,SocketSubscriber:()=>bJ,SocketProvider:()=>s8,SocketPendingSubscriber:()=>jW,SocketEventSubscriber:()=>NW,SocketBlockSubscriber:()=>BW,SigningKey:()=>u$,Signature:()=>P$,Result:()=>tQ,QuickNodeProvider:()=>hY,PocketProvider:()=>t8,ParamType:()=>R$,NonceManager:()=>xW,NetworkPlugin:()=>JZ,Network:()=>Y$,NamedFragment:()=>jY,N:()=>W6,MulticoinProviderPlugin:()=>RW,Mnemonic:()=>VZ,MinInt256:()=>K6,MessagePrefix:()=>JW,MaxUint256:()=>U6,MaxInt256:()=>O6,LogDescription:()=>DW,Log:()=>xX,LangEn:()=>XX,JsonRpcSigner:()=>yJ,JsonRpcProvider:()=>_$,JsonRpcApiProvider:()=>hJ,IpcSocketProvider:()=>d9,Interface:()=>DX,InfuraWebSocketProvider:()=>_W,InfuraProvider:()=>tZ,Indexed:()=>g8,HDNodeWallet:()=>hQ,HDNodeVoidWallet:()=>cY,GasCostPlugin:()=>xY,FunctionFragment:()=>$X,Fragment:()=>XZ,FixedNumber:()=>KX,FetchUrlFeeDataNetworkPlugin:()=>u8,FetchResponse:()=>lX,FetchRequest:()=>q$,FetchCancelSignal:()=>iG,FeeDataNetworkPlugin:()=>PW,FeeData:()=>NJ,FallbackProvider:()=>r8,FallbackFragment:()=>NX,EventPayload:()=>AY,EventLog:()=>wY,EventFragment:()=>eQ,EtherscanProvider:()=>n8,EtherscanPlugin:()=>SW,EtherSymbol:()=>z6,ErrorFragment:()=>AQ,ErrorDescription:()=>MW,EnsResolver:()=>RZ,EnsPlugin:()=>kY,ContractUnknownEventPayload:()=>_J,ContractTransactionResponse:()=>_Y,ContractTransactionReceipt:()=>AW,ContractFactory:()=>TW,ContractEventPayload:()=>c8,Contract:()=>MX,ConstructorFragment:()=>HX,CloudflareProvider:()=>o8,ChainstackProvider:()=>gY,BrowserProvider:()=>eZ,BlockscoutProvider:()=>a8,Block:()=>b8,BaseWallet:()=>$Y,BaseContract:()=>YZ,AnkrProvider:()=>fY,AlchemyProvider:()=>vY,AbstractSigner:()=>WZ,AbstractProvider:()=>GZ,AbiCoder:()=>LX});var KO=K0(()=>{y8();d$();P8();FW();n$();CZ();d1();mQ();d0();hL();dL()});var pW=K0(()=>{KO();KO()});var lL={};_Z(lL,{loadJurisdictions:()=>OO,getCachedJurisdictions:()=>wI,clearJurisdictionsCache:()=>NI});function OO(){if(LQ)throw new Error("loadJurisdictions() not available in browser - use evm.ts generateJurisdictions() instead");if(UZ)return UZ;try{let Q=(()=>{throw new Error("Cannot require module "+"fs");})().readFileSync("./jurisdictions.json","utf8");return UZ=JSON.parse(Q),console.log("\uD83D\uDCCB Jurisdictions loaded from file (cached for future use)"),console.log(`  ├─ Version: ${UZ?.version}`),console.log(`  ├─ Last updated: ${UZ?.lastUpdated}`),console.log(`  └─ Jurisdictions: ${Object.keys(UZ?.jurisdictions||{}).join(", ")}`),UZ}catch($){return console.error("❌ Failed to load jurisdictions.json:",$),UZ={version:"1.0.0",lastUpdated:new Date().toISOString(),jurisdictions:{},defaults:{timeout:30000,retryAttempts:3,gasLimit:1e6}},UZ}}function NI(){UZ=null,console.log("\uD83D\uDD04 Jurisdictions cache cleared")}function wI(){return UZ}var UZ=null;var zO=K0(()=>{ZX()});var JD={};_Z(JD,{transferNameBetweenEntities:()=>QD,submitSettle:()=>ZD,submitReserveToReserve:()=>YD,submitProcessBatch:()=>rL,submitPrefundAccount:()=>iL,registerNumberedEntityOnChain:()=>aL,getNextEntityNumber:()=>$D,getJurisdictions:()=>HO,getJurisdictionByAddress:()=>uW,getEntityInfoFromChain:()=>eL,getAvailableJurisdictions:()=>mW,generateJurisdictions:()=>XD,fundEntityReserves:()=>_I,debugFundReserves:()=>sL,connectToEthereum:()=>yX,assignNameOnChain:()=>tL,ENTITY_PROVIDER_ABI:()=>oL,DEPOSITORY_ABI:()=>nL,DEFAULT_JURISDICTIONS:()=>cW});var oL,nL,yX=async($)=>{try{let{address:Q,entityProviderAddress:X,depositoryAddress:Z}=$;if(!Q&&"rpc"in $)console.warn("\uD83D\uDEA8 JURISDICTION-LEGACY: Using deprecated rpc field, should be address");if(!X&&"contracts"in $)console.warn("\uD83D\uDEA8 JURISDICTION-LEGACY: Using deprecated contracts.entityProvider field");if(!Q)throw new Error("Jurisdiction missing RPC URL (address or rpc property)");if(!X||!Z)throw new Error("Jurisdiction missing contract addresses (entityProvider and depository)");let Y=new lQ.JsonRpcProvider(Q),V=await Y.getSigner(0),G=new lQ.Contract(X,oL,V),H=new lQ.Contract(Z,nL,V);return{provider:Y,signer:V,entityProvider:G,depository:H}}catch(Q){throw console.error(`Failed to connect to ${$.name}:`,Q),Q}},sL=async($,Q,X,Z)=>{try{console.log(`\uD83D\uDCB0 DEBUG: Funding entity ${Q.slice(0,10)} with ${Z} of token ${X}...`);let{depository:Y}=await yX($),V=await Y.debugFundReserves(Q,X,Z);console.log(`\uD83D\uDCE1 Debug funding transaction: ${V.hash}`);let G=await V.wait();console.log(`✅ Debug funding confirmed in block ${G.blockNumber}`);let H=await Y._reserves(Q,X);return console.log(`\uD83D\uDCB0 Entity ${Q.slice(0,10)} now has ${H.toString()} of token ${X}`),{transaction:V,receipt:G,newBalance:H}}catch(Y){throw console.error("❌ Failed to fund reserves:",Y),Y}},_I=async($,Q)=>{console.log(`\uD83D\uDCB0 Funding entity ${$.slice(0,10)}... with ${Q.length} assets`);for(let X of Q)console.log(`  \uD83D\uDCB3 Adding ${X.symbol}: ${X.amount} (token ${X.tokenId})`),console.log(`  - Funding ${$.slice(0,10)} with ${X.amount} of token ${X.tokenId}`);console.log(`✅ Entity ${$.slice(0,10)}... funded with all assets`)},iL=async($,Q,X,Z,Y)=>{try{console.log(`\uD83D\uDCB0 Prefunding account between ${Q.slice(0,10)}... and ${X.slice(0,10)}...`),console.log(`\uD83D\uDD0D TOKEN: ${Z}, AMOUNT: ${Y}`);let{depository:V,provider:G}=await yX($);if(console.log(`\uD83D\uDD0D CONTRACT ADDRESS: ${V.target}`),await G.getCode(V.target)==="0x")throw new Error("Contract not deployed at this address");let D=await V._reserves(Q,Z);if(console.log(`\uD83D\uDD0D Current balance: ${D.toString()}`),console.log(`\uD83D\uDD0D Requested amount: ${Y}`),D<BigInt(Y))throw new Error(`Insufficient reserves: have ${D.toString()}, need ${Y}`);console.log(`\uD83D\uDCDE Calling prefundAccount(${X}, ${Z}, ${Y})`);let A=await V.prefundAccount(X,Z,Y);console.log(`⏳ Transaction sent: ${A.hash}`);let T=await A.wait();return console.log(`✅ Prefunding confirmed in block ${T.blockNumber}`),{hash:A.hash,receipt:T}}catch(V){throw console.error("❌ Failed to prefund account:",V),V}},rL=async($,Q,X)=>{try{if(console.log(`\uD83D\uDCB8 Submitting processBatch to ${$.name} as entity ${Q.slice(0,10)}...`),console.log("\uD83D\uDD0D BATCH DEBUG:",JSON.stringify(X,null,2)),console.log(`\uD83D\uDD0D ENTITY DEBUG: ${Q}`),console.log("\uD83D\uDD0D JURISDICTION DEBUG:",$),console.log("\uD83D\uDD0D JURISDICTION SOURCE: Reading from jurisdictions.json file"),console.log(`\uD83D\uDD0D DEPOSITORY ADDRESS FROM JURISDICTION: ${$.depositoryAddress}`),console.log(`\uD83D\uDD0D ENTITY PROVIDER ADDRESS FROM JURISDICTION: ${$.entityProviderAddress}`),X.reserveToReserve)for(let w=0;w<X.reserveToReserve.length;w++){let k=X.reserveToReserve[w];if(typeof k.amount==="number"){let f=BigInt(Math.floor(k.amount*1000000000000000000)).toString();console.log(`\uD83D\uDD27 Converting amount ${k.amount} → ${f} wei`),k.amount=f}}console.log("\uD83D\uDD0D FIXED BATCH:",JSON.stringify(X,null,2));let{depository:Z,provider:Y}=await yX($);console.log(`\uD83D\uDD0D CONTRACT ADDRESS: ${Z.target}`);let V=await Y.getCode(Z.target);if(console.log(`\uD83D\uDD0D CONTRACT CODE LENGTH: ${V.length} characters`),V==="0x")throw new Error("Contract not deployed at this address");try{console.log("\uD83D\uDD0D Testing if contract has debugBulkFundEntities..."),await Z.debugBulkFundEntities?.staticCall?.(),console.log("✅ This is our NEW contract with debug functions!")}catch(w){console.log("❌ This is OLD contract - no debug functions:",w.message)}console.log(`\uD83D\uDD0D Checking balance for entity ${Q} token ${X.reserveToReserve[0]?.tokenId||1}...`);try{let w=await Z._reserves(Q,X.reserveToReserve[0]?.tokenId||1);if(console.log(`\uD83D\uDD0D Current balance: ${w.toString()}`),w.toString()==="0")throw console.log("⚠️ Entity has no reserves - this suggests old contract without pre-funding"),new Error(`Entity ${Q.slice(0,10)} has no reserves! Contract should be pre-funded.`)}catch(w){throw console.log("❌ Failed to check balance:",w.message),w}console.log("\uD83D\uDD0D Function signature: processBatch(bytes32,tuple)"),console.log(`\uD83D\uDD0D Entity ID: ${Q}`),console.log("\uD83D\uDD0D Batch structure:",Object.keys(X)),console.log("\uD83D\uDD0D reserveToReserve array:",X.reserveToReserve);let H=Z.interface.fragments.filter((w)=>w.type==="function").map((w)=>{return"name"in w?w.name:"unknown"}),D=H.includes("processBatch");console.log(`\uD83D\uDD0D Contract has processBatch function: ${D}`),console.log("\uD83D\uDD0D Available functions:",H.slice(0,10),"..."),console.log("\uD83D\uDD0D DEEP DEBUG: Contract interface analysis"),console.log(`\uD83D\uDD0D Contract target address: ${Z.target}`);let T=Z.interface.getFunction("processBatch")?.selector||"NOT_FOUND";console.log(`\uD83D\uDD0D Function selector: ${T}`);let F=await Y.getCode(Z.target),M=F.includes(T.slice(2));console.log(`\uD83D\uDD0D Deployed bytecode contains processBatch selector: ${M}`),console.log(`\uD83D\uDD0D Bytecode length: ${F.length} chars`);let I=lQ.keccak256(lQ.toUtf8Bytes(JSON.stringify(Z.interface.fragments.map((w)=>{return"format"in w&&typeof w.format==="function"?w.format():w.toString()}))));console.log(`\uD83D\uDD0D ABI hash: ${I.slice(0,10)}...`);let P=Z.interface.encodeFunctionData("processBatch",[Q,X]);console.log(`\uD83D\uDD0D Call data length: ${P.length} chars`),console.log(`\uD83D\uDD0D Call data start: ${P.slice(0,20)}...`),console.log("\uD83D\uDD0D Testing with different entity addresses...");try{let w=await Z._reserves("0x0000000000000000000000000000000000000000000000000000000000000000",0);console.log(`\uD83D\uDD0D Entity 0 Token 0 balance: ${w.toString()}`)}catch(w){console.log(`❌ Entity 0 balance check failed: ${w.message}`)}let S={reserveToExternalToken:[],externalTokenToReserve:[],reserveToReserve:[],reserveToCollateral:[],cooperativeUpdate:[],cooperativeDisputeProof:[],initialDisputeProof:[],finalDisputeProof:[],flashloans:[],hub_id:0};console.log("\uD83D\uDD0D Testing empty batch first...");try{let w=await Z.processBatch?.staticCall(Q,S);console.log(`✅ Empty batch works: ${w}`),console.log("\uD83D\uDD0D Now testing our batch...");let k=await Z.processBatch?.staticCall(Q,X);console.log(`✅ Static call successful: ${k}`)}catch(w){console.error("❌ Static call failed:",w);let k={};if(w&&typeof w==="object"){let f=w,v=f.code,c=f.data,u=f.reason;if(v!==void 0)k.code=v;if(c!==void 0)k.data=c;if(u!==void 0)k.reason=u}throw console.log("\uD83D\uDD0D Error details:",k),w}console.log("\uD83D\uDD0D Estimating gas for processBatch...");try{let w=await Z.processBatch?.estimateGas(Q,X);console.log(`\uD83D\uDD0D Gas estimate: ${w?.toString()||"N/A"}`)}catch(w){throw console.error("❌ Gas estimation failed:",w),w}let j=await Z.processBatch(Q,X);console.log(`\uD83D\uDCE1 Transaction submitted: ${j.hash}`);let N=await j.wait();return console.log(`✅ Transaction confirmed in block ${N.blockNumber}`),{transaction:j,receipt:N}}catch(Z){throw console.error(`❌ Failed to submit processBatch to ${$.name}:`,Z),Z}},aL=async($,Q)=>{if(!$.jurisdiction)throw new Error("Jurisdiction required for on-chain registration");try{let{entityProvider:X}=await yX($.jurisdiction),Z=YU($),Y=WG(Z);if(u0)console.log(`\uD83C\uDFDB️ Registering numbered entity "${Q}" on chain`);if(u0)console.log(`   Jurisdiction: ${$.jurisdiction.name}`);if(u0)console.log(`   EntityProvider: ${$.jurisdiction.entityProviderAddress}`);if(u0)console.log(`   Board Hash: ${Y}`);try{let T=await X.nextNumber();if(u0)console.log(`   \uD83D\uDCCA Next entity number will be: ${T}`)}catch(T){throw new Error(`Failed to call nextNumber(): ${T}`)}let V=await X.registerNumberedEntity(Y);if(u0)console.log(`   \uD83D\uDCE4 Transaction sent: ${V.hash}`);let G=await V.wait();if(u0)console.log(`   ✅ Transaction confirmed in block ${G.blockNumber}`);if(G.status===0)throw new Error(`Transaction reverted! Hash: ${V.hash}`);if(u0)console.log(`   \uD83D\uDCCB Receipt logs count: ${G.logs.length}`),G.logs.forEach((T,F)=>{try{let M=X.interface.parseLog(T);console.log(`   \uD83D\uDCDD Log ${F}: ${M?.name} - ${JSON.stringify(M?.args)}`)}catch{console.log(`   \uD83D\uDCDD Log ${F}: Unable to parse log - ${T.topics?.[0]}`)}});let H=G.logs.find((T)=>{try{return X.interface.parseLog(T)?.name==="EntityRegistered"}catch{return!1}});if(!H)throw new Error("EntityRegistered event not found in transaction logs");let D=X.interface.parseLog(H),A=Number(D?.args[1]);if(u0)console.log("✅ Numbered entity registered!");if(u0)console.log(`   TX: ${V.hash}`);if(u0)console.log(`   Entity Number: ${A}`);return{txHash:V.hash,entityNumber:A}}catch(X){throw console.error("❌ Blockchain registration failed:",X),X}},tL=async($,Q,X)=>{try{let{entityProvider:Z}=await yX(X);if(u0)console.log(`\uD83C\uDFF7️  Assigning name "${$}" to entity #${Q}`);let Y=await Z.assignName($,Q);if(u0)console.log(`   \uD83D\uDCE4 Transaction sent: ${Y.hash}`);let V=await Y.wait();if(u0)console.log(`   ✅ Transaction confirmed in block ${V.blockNumber}`);if(V.status===0)throw new Error(`Transaction reverted! Hash: ${Y.hash}`);if(u0)console.log("✅ Name assigned successfully!");if(u0)console.log(`   TX: ${Y.hash}`);return{txHash:Y.hash}}catch(Z){throw console.error("❌ Name assignment failed:",Z),Z}},eL=async($,Q)=>{try{let{entityProvider:X}=await yX(Q);if((await X.entities($)).status===0)return{exists:!1};let Y=lW($),V,G;if(Y==="numbered"){let H=oW($);if(H!==null){V=H;try{G=await X.numberToName(V)||void 0}catch{}}}return{exists:!0,...V!==void 0?{entityNumber:V}:{},...G!==void 0?{name:G}:{}}}catch(X){return console.error("❌ Failed to get entity info from chain:",X),{exists:!1}}},$D=async($)=>{try{if(!$)throw new Error("Jurisdiction parameter is required");let Q=$.entityProviderAddress;if(!Q&&"contracts"in $){let G=$.contracts?.entityProvider;if(G)Q=G}if(!$.name||!Q)throw new Error("Jurisdiction object is missing required properties (name, entityProvider address)");let{entityProvider:X}=await yX($);if(u0)console.log(`\uD83D\uDD0D Fetching next entity number from ${Q} (${$.name})`);let Z=await X.nextNumber(),Y=Number(Z);if(u0)console.log(`\uD83D\uDD22 Next entity number: ${Y}`);return Y}catch(Q){throw console.error("❌ Failed to get next entity number:",Q),Q}},QD=async($,Q,X,Z)=>{if(u0)console.log(`\uD83D\uDD04 Transferring name "${$}" from #${Q} to #${X}`);throw new Error("Name transfer not implemented - requires blockchain integration")},XD=async()=>{let $=new Map;try{let Q;if(!LQ&&typeof process!=="undefined")console.log("\uD83D\uDD0D JURISDICTION SOURCE: Using centralized jurisdiction-loader"),Q=OO(),console.log("\uD83D\uDD0D JURISDICTION DEBUG: Loaded config with contracts:",Q.jurisdictions?.ethereum?.contracts),console.log("✅ Loaded jurisdictions from centralized loader (cached)");else{let Z=await fetch("./jurisdictions.json");if(!Z.ok)throw new Error(`Failed to fetch jurisdictions.json: ${Z.status} ${Z.statusText}`);Q=await Z.json(),console.log("\uD83D\uDD0D JURISDICTION DEBUG: Browser loaded config with contracts:",Q.jurisdictions?.ethereum?.contracts),console.log("✅ Loaded jurisdictions from server")}let X=Q.jurisdictions;for(let[Z,Y]of Object.entries(X)){if(!Y||typeof Y!=="object"){console.warn(`\uD83D\uDEA8 Invalid jurisdiction data for ${Z}:`,Y);continue}let V=Y;$.set(Z,{address:V.rpc,name:V.name,entityProviderAddress:V.contracts.entityProvider,depositoryAddress:V.contracts.depository,chainId:V.chainId})}}catch(Q){console.error("❌ Failed to load jurisdictions:",Q)}return $},cW=null,HO=async()=>{if(LQ&&cW!==null)return console.log("\uD83D\uDD0D JURISDICTIONS: Using cached browser data"),cW;return cW=await XD(),cW},mW=async()=>{let $=await HO();return Array.from($.values())},uW=async($)=>{return(await HO()).get($)},ZD=async($,Q,X,Z)=>{try{console.log(`⚖️ Submitting settle transaction between ${Q.slice(0,10)}... and ${X.slice(0,10)}...`),console.log("\uD83D\uDD0D DIFFS:",Z.map((A)=>({...A,leftDiff:A.leftDiff.toString(),rightDiff:A.rightDiff.toString(),collateralDiff:A.collateralDiff.toString()})));let{depository:Y,provider:V}=await yX($);if(console.log(`\uD83D\uDD0D CONTRACT ADDRESS: ${Y.target}`),await V.getCode(Y.target)==="0x")throw new Error("Contract not deployed at this address");console.log("\uD83D\uDCE4 Calling settle function...");let H=await Y.settle(Q,X,Z);console.log(`\uD83D\uDCAB Transaction sent: ${H.hash}`);let D=await H.wait();if(console.log(`✅ Settlement confirmed in block ${D.blockNumber}`),D.status===0)throw new Error(`Settlement transaction reverted! Hash: ${H.hash}`);return console.log("\uD83C\uDF89 Settlement successful! Both entities should receive SettlementProcessed events"),{txHash:H.hash,blockNumber:D.blockNumber}}catch(Y){throw console.error("❌ Settlement failed:",Y),Y}},YD=async($,Q,X,Z,Y)=>{try{console.log(`\uD83D\uDCB8 DIRECT R2R: ${Q.slice(0,10)} → ${X.slice(0,10)}, token ${Z}, amount ${Y}`);let{depository:V,provider:G}=await yX($);if(console.log(`\uD83D\uDD0D CONTRACT ADDRESS: ${V.target}`),await G.getCode(V.target)==="0x")throw new Error("Contract not deployed at this address");console.log(`\uD83D\uDCE4 Calling reserveToReserve(${Q}, ${X}, ${Z}, ${Y})...`);let D=await V.reserveToReserve(Q,X,Z,Y);console.log(`\uD83D\uDCAB Transaction sent: ${D.hash}`);let A=await D.wait();if(console.log(`✅ R2R confirmed in block ${A.blockNumber}`),A.status===0)throw new Error(`R2R transaction reverted! Hash: ${D.hash}`);return console.log("\uD83C\uDF89 Direct R2R successful!"),{txHash:D.hash,blockNumber:A.blockNumber}}catch(V){throw console.error("❌ Direct R2R failed:",V),V}};var dW=K0(()=>{pW();zO();VG();ZX();oL=["function registerNumberedEntity(bytes32 boardHash) external returns (uint256 entityNumber)","function assignName(string memory name, uint256 entityNumber) external","function transferName(string memory name, uint256 newEntityNumber) external","function entities(bytes32 entityId) external view returns (tuple(uint256 boardHash, uint8 status, uint256 activationTime))","function nameToNumber(string memory name) external view returns (uint256)","function numberToName(uint256 entityNumber) external view returns (string memory)","function nextNumber() external view returns (uint256)","function getTokenIds(uint256 entityNumber) external pure returns (uint256 controlTokenId, uint256 dividendTokenId)","function getGovernanceInfo(uint256 entityNumber) external view returns (uint256 controlTokenId, uint256 dividendTokenId, uint256 controlSupply, uint256 dividendSupply, bool hasActiveProposal, bytes32 articlesHash)","function balanceOf(address account, uint256 id) external view returns (uint256)","function safeTransferFrom(address from, address to, uint256 id, uint256 amount, bytes data) external","event EntityRegistered(bytes32 indexed entityId, uint256 indexed entityNumber, bytes32 boardHash)","event NameAssigned(string indexed name, uint256 indexed entityNumber)","event NameTransferred(string indexed name, uint256 indexed oldEntityNumber, uint256 indexed newEntityNumber)","event GovernanceEnabled(bytes32 indexed entityId, uint256 controlTokenId, uint256 dividendTokenId)"],nL=["function debugFundReserves(bytes32 entity, uint256 tokenId, uint256 amount) external","function debugBulkFundEntities() external","function reserveToReserve(bytes32 fromEntity, bytes32 toEntity, uint256 tokenId, uint256 amount) external returns (bool)","function processBatch(bytes32 entity, tuple(tuple(bytes32 receivingEntity, uint256 tokenId, uint256 amount)[] reserveToExternalToken, tuple(bytes32 entity, bytes32 packedToken, uint256 internalTokenId, uint256 amount)[] externalTokenToReserve, tuple(bytes32 receivingEntity, uint256 tokenId, uint256 amount)[] reserveToReserve, tuple(uint256 tokenId, bytes32 receivingEntity, tuple(bytes32 entity, uint256 amount)[] pairs)[] reserveToCollateral, tuple(bytes32 leftEntity, bytes32 rightEntity, tuple(uint256 tokenId, int256 leftDiff, int256 rightDiff, int256 collateralDiff, int256 ondeltaDiff)[] diffs)[] settlements, tuple(bytes32 counterentity, tuple(uint256 tokenId, int256 peerReserveDiff, int256 collateralDiff, int256 ondeltaDiff)[] diffs, uint256[] forgiveDebtsInTokenIds, bytes sig)[] cooperativeUpdate, tuple(bytes32 counterentity, tuple(int256[] offdeltas, uint256[] tokenIds, tuple(address subcontractProviderAddress, bytes encodedBatch, tuple(uint256 deltaIndex, uint256 rightAllowence, uint256 leftAllowence)[] allowences)[] subcontracts) proofbody, bytes initialArguments, bytes finalArguments, bytes sig)[] cooperativeDisputeProof, tuple(bytes32 counterentity, uint256 cooperativeNonce, uint256 disputeNonce, bytes32 proofbodyHash, bytes sig, bytes initialArguments)[] initialDisputeProof, tuple(bytes32 counterentity, uint256 initialCooperativeNonce, uint256 initialDisputeNonce, uint256 disputeUntilBlock, bytes32 initialProofbodyHash, bytes initialArguments, bool startedByLeft, uint256 finalCooperativeNonce, uint256 finalDisputeNonce, tuple(int256[] offdeltas, uint256[] tokenIds, tuple(address subcontractProviderAddress, bytes encodedBatch, tuple(uint256 deltaIndex, uint256 rightAllowence, uint256 leftAllowence)[] allowences)[] subcontracts) finalProofbody, bytes finalArguments, bytes sig)[] finalDisputeProof, tuple(uint256 tokenId, uint256 amount)[] flashloans, uint256 hub_id) batch) external returns (bool)","function prefundAccount(bytes32 counterpartyEntity, uint256 tokenId, uint256 amount) external returns (bool)","function settle(bytes32 leftEntity, bytes32 rightEntity, tuple(uint256 tokenId, int256 leftDiff, int256 rightDiff, int256 collateralDiff)[] diffs) external returns (bool)","function _reserves(bytes32 entity, uint256 tokenId) external view returns (uint256)","event ReserveUpdated(bytes32 indexed entity, uint256 indexed tokenId, uint256 newBalance)","event ReserveTransferred(bytes32 indexed from, bytes32 indexed to, uint256 indexed tokenId, uint256 amount)","event SettlementProcessed(bytes32 indexed leftEntity, bytes32 indexed rightEntity, uint256 indexed tokenId, uint256 leftReserve, uint256 rightReserve, uint256 collateral, int256 ondelta)"]});var YU=($)=>{let Q=$.validators.map((Z)=>({entityId:Z,votingPower:Number($.shares[Z]||1n)})),X={votingThreshold:Number($.threshold),delegates:Q};return JSON.stringify(X,Object.keys(X).sort())},WG=($)=>{return lQ.keccak256(lQ.toUtf8Bytes($))},GD=($,Q)=>{let X;if(typeof $[0]==="string")X=$.map((G)=>({name:G,weight:1}));else X=$;let Y={validators:X.slice().sort((G,H)=>G.name.localeCompare(H.name)),threshold:Q.toString()},V=JSON.stringify(Y);return WG(V)},XY=($)=>{return`0x${$.toString(16).padStart(64,"0")}`},xI=($)=>{return WG($)},lW=($)=>{if($.startsWith("0x")&&$.length===66)try{let Q=BigInt($);if(Q>0n&&Q<1000000n)return"numbered";return"lazy"}catch{return"lazy"}if(/^[0-9]+$/.test($))try{let Q=BigInt($);if(Q>0n&&Q<1000000n)return"numbered";return"lazy"}catch{return"lazy"}return"lazy"},oW=($)=>{if(!$||typeof $!=="string")return null;if($.startsWith("0x")&&$.length===66)try{let Q=BigInt($);if(Q>0n&&Q<1000000n)return Number(Q);return null}catch{return null}if(/^[0-9]+$/.test($))try{let Q=BigInt($);if(Q>0n&&Q<1000000n)return Number(Q);return null}catch{return null}return null},kI=($,Q,X,Z)=>{let Y=GD(Q,X);if(u0)console.log(`\uD83D\uDD12 Creating lazy entity: ${$}`);if(u0)console.log(`   EntityID: ${Y} (quorum hash)`);if(u0)console.log(`   Validators: ${Q.join(", ")}`);if(u0)console.log(`   Threshold: ${X}`);if(u0)console.log("   \uD83C\uDD93 FREE - No gas required");let V={};return Q.forEach((H)=>{V[H]=1n}),{mode:"proposer-based",threshold:X,validators:Q,shares:V,...Z&&{jurisdiction:Z}}},LO=async($,Q,X,Z)=>{if(!Z)throw new Error("Jurisdiction required for numbered entity registration");let Y=WG(YU({mode:"proposer-based",threshold:X,validators:Q,shares:Q.reduce((H,D)=>({...H,[D]:1n}),{}),jurisdiction:Z}));if(u0)console.log(`\uD83D\uDD22 Creating numbered entity: ${$}`);if(u0)console.log(`   Board Hash: ${Y}`);if(u0)console.log(`   Jurisdiction: ${Z.name}`);if(u0)console.log("   \uD83D\uDCB8 Gas required for registration");let{getNextEntityNumber:V,registerNumberedEntityOnChain:G}=await Promise.resolve().then(() => (dW(),JD));try{await V(Z);let{entityNumber:H}=await G({mode:"proposer-based",threshold:X,validators:Q,shares:Q.reduce((F,M)=>({...F,[M]:1n}),{}),jurisdiction:Z},$),D=XY(H);if(u0)console.log(`   ✅ Registered Entity Number: ${H}`);if(u0)console.log(`   EntityID: ${D}`);let A={};return Q.forEach((F)=>{A[F]=1n}),{config:{mode:"proposer-based",threshold:X,validators:Q,shares:A,jurisdiction:Z},entityNumber:H,entityId:D}}catch(H){throw console.error("❌ Failed to register numbered entity on blockchain:",H),H}},fI=async($,Q,X)=>{if(!X)throw new Error("Jurisdiction required for named entity");if(u0)console.log("\uD83C\uDFF7️ Requesting named entity assignment");if(u0)console.log(`   Name: ${$}`);if(u0)console.log(`   Target Entity Number: ${Q}`);if(u0)console.log(`   Jurisdiction: ${X.name}`);if(u0)console.log("   \uD83D\uDC51 Requires admin approval");let Z=`req_${Math.random().toString(16).substring(2,10)}`;if(u0)console.log(`   \uD83D\uDCDD Name assignment request submitted: ${Z}`);if(u0)console.log("   ⏳ Waiting for admin approval...");return Z},vI=async($)=>{if($.startsWith("#")){let Q=parseInt($.slice(1));return{entityId:XY(Q),type:"numbered"}}else if(/^\d+$/.test($)){let Q=parseInt($);return{entityId:XY(Q),type:"numbered"}}else if($.startsWith("0x"))return{entityId:$,type:lW($)};else{if(u0)console.log(`\uD83D\uDD0D Looking up named entity: ${$}`);let Q=$==="coinbase"?42:0;if(Q>0)return{entityId:XY(Q),type:"named"};else throw new Error(`Named entity "${$}" not found`)}},gI=async($)=>{if(lW($)==="lazy")return!1;if(!/^[0-9]+$/.test($))return!1;try{let X=BigInt($);return X>0n&&X<1000000n}catch{return!1}};var VG=K0(()=>{pW();ZX()});var qD={};_Z(qD,{types:()=>oI,promisify:()=>zD,log:()=>UD,isUndefined:()=>UG,isSymbol:()=>sI,isString:()=>KU,isRegExp:()=>JU,isPrimitive:()=>iI,isObject:()=>KG,isNumber:()=>VD,isNullOrUndefined:()=>nI,isNull:()=>UU,isFunction:()=>WU,isError:()=>GU,isDate:()=>AO,isBuffer:()=>rI,isBoolean:()=>TO,isArray:()=>WD,inspect:()=>dJ,inherits:()=>KD,format:()=>CO,deprecate:()=>hI,default:()=>eI,debuglog:()=>bI,callbackifyOnRejected:()=>EO,callbackify:()=>HD,_extend:()=>RO,TextEncoder:()=>LD,TextDecoder:()=>DD});function CO($,...Q){if(!KU($)){var X=[$];for(var Z=0;Z<Q.length;Z++)X.push(dJ(Q[Z]));return X.join(" ")}var Z=0,Y=Q.length,V=String($).replace(yI,function(H){if(H==="%%")return"%";if(Z>=Y)return H;switch(H){case"%s":return String(Q[Z++]);case"%d":return Number(Q[Z++]);case"%j":try{return JSON.stringify(Q[Z++])}catch(D){return"[Circular]"}default:return H}});for(var G=Q[Z];Z<Y;G=Q[++Z])if(UU(G)||!KG(G))V+=" "+G;else V+=" "+dJ(G);return V}function hI($,Q){if(typeof process==="undefined"||process?.noDeprecation===!0)return $;var X=!1;function Z(...Y){if(!X){if(process.throwDeprecation)throw new Error(Q);else if(process.traceDeprecation)console.trace(Q);else console.error(Q);X=!0}return $.apply(this,...Y)}return Z}function pI($,Q){var X=dJ.styles[Q];if(X)return"\x1B["+dJ.colors[X][0]+"m"+$+"\x1B["+dJ.colors[X][1]+"m";else return $}function cI($,Q){return $}function mI($){var Q={};return $.forEach(function(X,Z){Q[X]=!0}),Q}function VU($,Q,X){if($.customInspect&&Q&&WU(Q.inspect)&&Q.inspect!==dJ&&!(Q.constructor&&Q.constructor.prototype===Q)){var Z=Q.inspect(X,$);if(!KU(Z))Z=VU($,Z,X);return Z}var Y=uI($,Q);if(Y)return Y;var V=Object.keys(Q),G=mI(V);if($.showHidden)V=Object.getOwnPropertyNames(Q);if(GU(Q)&&(V.indexOf("message")>=0||V.indexOf("description")>=0))return DO(Q);if(V.length===0){if(WU(Q)){var H=Q.name?": "+Q.name:"";return $.stylize("[Function"+H+"]","special")}if(JU(Q))return $.stylize(RegExp.prototype.toString.call(Q),"regexp");if(AO(Q))return $.stylize(Date.prototype.toString.call(Q),"date");if(GU(Q))return DO(Q)}var D="",A=!1,T=["{","}"];if(WD(Q))A=!0,T=["[","]"];if(WU(Q)){var F=Q.name?": "+Q.name:"";D=" [Function"+F+"]"}if(JU(Q))D=" "+RegExp.prototype.toString.call(Q);if(AO(Q))D=" "+Date.prototype.toUTCString.call(Q);if(GU(Q))D=" "+DO(Q);if(V.length===0&&(!A||Q.length==0))return T[0]+D+T[1];if(X<0)if(JU(Q))return $.stylize(RegExp.prototype.toString.call(Q),"regexp");else return $.stylize("[Object]","special");$.seen.push(Q);var M;if(A)M=dI($,Q,X,G,V);else M=V.map(function(I){return MO($,Q,X,G,I,A)});return $.seen.pop(),lI(M,D,T)}function uI($,Q){if(UG(Q))return $.stylize("undefined","undefined");if(KU(Q)){var X="'"+JSON.stringify(Q).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return $.stylize(X,"string")}if(VD(Q))return $.stylize(""+Q,"number");if(TO(Q))return $.stylize(""+Q,"boolean");if(UU(Q))return $.stylize("null","null")}function DO($){return"["+Error.prototype.toString.call($)+"]"}function dI($,Q,X,Z,Y){var V=[];for(var G=0,H=Q.length;G<H;++G)if(OD(Q,String(G)))V.push(MO($,Q,X,Z,String(G),!0));else V.push("");return Y.forEach(function(D){if(!D.match(/^\d+$/))V.push(MO($,Q,X,Z,D,!0))}),V}function MO($,Q,X,Z,Y,V){var G,H,D;if(D=Object.getOwnPropertyDescriptor(Q,Y)||{value:Q[Y]},D.get)if(D.set)H=$.stylize("[Getter/Setter]","special");else H=$.stylize("[Getter]","special");else if(D.set)H=$.stylize("[Setter]","special");if(!OD(Z,Y))G="["+Y+"]";if(!H)if($.seen.indexOf(D.value)<0){if(UU(X))H=VU($,D.value,null);else H=VU($,D.value,X-1);if(H.indexOf(`
`)>-1)if(V)H=H.split(`
`).map(function(A){return"  "+A}).join(`
`).slice(2);else H=`
`+H.split(`
`).map(function(A){return"   "+A}).join(`
`)}else H=$.stylize("[Circular]","special");if(UG(G)){if(V&&Y.match(/^\d+$/))return H;if(G=JSON.stringify(""+Y),G.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/))G=G.slice(1,-1),G=$.stylize(G,"name");else G=G.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),G=$.stylize(G,"string")}return G+": "+H}function lI($,Q,X){var Z=0,Y=$.reduce(function(V,G){if(Z++,G.indexOf(`
`)>=0)Z++;return V+G.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(Y>60)return X[0]+(Q===""?"":Q+`
 `)+" "+$.join(`,
  `)+" "+X[1];return X[0]+Q+" "+$.join(", ")+" "+X[1]}function WD($){return Array.isArray($)}function TO($){return typeof $==="boolean"}function UU($){return $===null}function nI($){return $==null}function VD($){return typeof $==="number"}function KU($){return typeof $==="string"}function sI($){return typeof $==="symbol"}function UG($){return $===void 0}function JU($){return KG($)&&FO($)==="[object RegExp]"}function KG($){return typeof $==="object"&&$!==null}function AO($){return KG($)&&FO($)==="[object Date]"}function GU($){return KG($)&&(FO($)==="[object Error]"||$ instanceof Error)}function WU($){return typeof $==="function"}function iI($){return $===null||typeof $==="boolean"||typeof $==="number"||typeof $==="string"||typeof $==="symbol"||typeof $==="undefined"}function rI($){return $ instanceof Buffer}function FO($){return Object.prototype.toString.call($)}function qO($){return $<10?"0"+$.toString(10):$.toString(10)}function tI(){var $=new Date,Q=[qO($.getHours()),qO($.getMinutes()),qO($.getSeconds())].join(":");return[$.getDate(),aI[$.getMonth()],Q].join(" ")}function UD(...$){console.log("%s - %s",tI(),CO.apply(null,$))}function KD($,Q){if(Q)$.super_=Q,$.prototype=Object.create(Q.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}})}function RO($,Q){if(!Q||!KG(Q))return $;var X=Object.keys(Q),Z=X.length;while(Z--)$[X[Z]]=Q[X[Z]];return $}function OD($,Q){return Object.prototype.hasOwnProperty.call($,Q)}function EO($,Q){if(!$){var X=new Error("Promise was rejected with a falsy value");X.reason=$,$=X}return Q($)}function HD($){if(typeof $!=="function")throw new TypeError('The "original" argument must be of type Function');function Q(...X){var Z=X.pop();if(typeof Z!=="function")throw new TypeError("The last argument must be of type Function");var Y=this,V=function(...G){return Z.apply(Y,...G)};$.apply(this,X).then(function(G){process.nextTick(V.bind(null,null,G))},function(G){process.nextTick(EO.bind(null,G,V))})}return Object.setPrototypeOf(Q,Object.getPrototypeOf($)),Object.defineProperties(Q,Object.getOwnPropertyDescriptors($)),Q}var yI,bI,dJ,oI=()=>{},aI,zD,LD,DD,eI;var MD=K0(()=>{yI=/%[sdj%]/g;bI=(($={},Q={},X)=>((X=typeof process!=="undefined"&&!1)&&(X=X.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase()),Q=new RegExp("^"+X+"$","i"),(Z)=>{if(Z=Z.toUpperCase(),!$[Z])if(Q.test(Z))$[Z]=function(...Y){console.error("%s: %s",Z,pid,CO.apply(null,...Y))};else $[Z]=function(){};return $[Z]}))(),dJ=(($)=>($.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},$.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},$.custom=Symbol.for("nodejs.util.inspect.custom"),$))(function $(Q,X,...Z){var Y={seen:[],stylize:cI};if(Z.length>=1)Y.depth=Z[0];if(Z.length>=2)Y.colors=Z[1];if(TO(X))Y.showHidden=X;else if(X)RO(Y,X);if(UG(Y.showHidden))Y.showHidden=!1;if(UG(Y.depth))Y.depth=2;if(UG(Y.colors))Y.colors=!1;if(Y.colors)Y.stylize=pI;return VU(Y,Q,Y.depth)});aI=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];zD=(($)=>($.custom=Symbol.for("nodejs.util.promisify.custom"),$))(function $(Q){if(typeof Q!=="function")throw new TypeError('The "original" argument must be of type Function');if(kCustomPromisifiedSymbol&&Q[kCustomPromisifiedSymbol]){var X=Q[kCustomPromisifiedSymbol];if(typeof X!=="function")throw new TypeError('The "nodejs.util.promisify.custom" argument must be of type Function');return Object.defineProperty(X,kCustomPromisifiedSymbol,{value:X,enumerable:!1,writable:!1,configurable:!0}),X}function X(...Z){var Y,V,G=new Promise(function(H,D){Y=H,V=D});Z.push(function(H,D){if(H)V(H);else Y(D)});try{Q.apply(this,Z)}catch(H){V(H)}return G}if(Object.setPrototypeOf(X,Object.getPrototypeOf(Q)),kCustomPromisifiedSymbol)Object.defineProperty(X,kCustomPromisifiedSymbol,{value:X,enumerable:!1,writable:!1,configurable:!0});return Object.defineProperties(X,Object.getOwnPropertyDescriptors(Q))});({TextEncoder:LD,TextDecoder:DD}=globalThis),eI={TextEncoder:LD,TextDecoder:DD,promisify:zD,log:UD,inherits:KD,_extend:RO,callbackifyOnRejected:EO,callbackify:HD}});var BO=L$((rh,PD)=>{var E$=($,Q)=>()=>(Q||$((Q={exports:{}}).exports,Q),Q.exports),f$=E$(($,Q)=>{class X extends Error{constructor(Z){if(!Array.isArray(Z))throw new TypeError(`Expected input to be an Array, got ${typeof Z}`);let Y="";for(let V=0;V<Z.length;V++)Y+=`    ${Z[V].stack}
`;super(Y);this.name="AggregateError",this.errors=Z}}Q.exports={AggregateError:X,ArrayIsArray(Z){return Array.isArray(Z)},ArrayPrototypeIncludes(Z,Y){return Z.includes(Y)},ArrayPrototypeIndexOf(Z,Y){return Z.indexOf(Y)},ArrayPrototypeJoin(Z,Y){return Z.join(Y)},ArrayPrototypeMap(Z,Y){return Z.map(Y)},ArrayPrototypePop(Z,Y){return Z.pop(Y)},ArrayPrototypePush(Z,Y){return Z.push(Y)},ArrayPrototypeSlice(Z,Y,V){return Z.slice(Y,V)},Error,FunctionPrototypeCall(Z,Y,...V){return Z.call(Y,...V)},FunctionPrototypeSymbolHasInstance(Z,Y){return Function.prototype[Symbol.hasInstance].call(Z,Y)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(Z,Y){return Object.defineProperties(Z,Y)},ObjectDefineProperty(Z,Y,V){return Object.defineProperty(Z,Y,V)},ObjectGetOwnPropertyDescriptor(Z,Y){return Object.getOwnPropertyDescriptor(Z,Y)},ObjectKeys(Z){return Object.keys(Z)},ObjectSetPrototypeOf(Z,Y){return Object.setPrototypeOf(Z,Y)},Promise,PromisePrototypeCatch(Z,Y){return Z.catch(Y)},PromisePrototypeThen(Z,Y,V){return Z.then(Y,V)},PromiseReject(Z){return Promise.reject(Z)},PromiseResolve(Z){return Promise.resolve(Z)},ReflectApply:Reflect.apply,RegExpPrototypeTest(Z,Y){return Z.test(Y)},SafeSet:Set,String,StringPrototypeSlice(Z,Y,V){return Z.slice(Y,V)},StringPrototypeToLowerCase(Z){return Z.toLowerCase()},StringPrototypeToUpperCase(Z){return Z.toUpperCase()},StringPrototypeTrim(Z){return Z.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(Z,Y,V){return Z.set(Y,V)},Boolean,Uint8Array}}),AD=E$(($,Q)=>{Q.exports={format(X,...Z){return X.replace(/%([sdifj])/g,function(...[Y,V]){let G=Z.shift();if(V==="f")return G.toFixed(6);else if(V==="j")return JSON.stringify(G);else if(V==="s"&&typeof G==="object")return`${G.constructor!==Object?G.constructor.name:""} {}`.trim();else return G.toString()})},inspect(X){switch(typeof X){case"string":if(X.includes("'")){if(!X.includes('"'))return`"${X}"`;else if(!X.includes("`")&&!X.includes("${"))return`\`${X}\``}return`'${X}'`;case"number":if(isNaN(X))return"NaN";else if(Object.is(X,-0))return String(X);return X;case"bigint":return`${String(X)}n`;case"boolean":case"undefined":return String(X);case"object":return"{}"}}}}),oQ=E$(($,Q)=>{var{format:X,inspect:Z}=AD(),{AggregateError:Y}=f$(),V=globalThis.AggregateError||Y,G=Symbol("kIsNodeError"),H=["string","function","number","object","Function","Object","boolean","bigint","symbol"],D=/^([A-Z][a-z0-9]*)+$/,A={};function T(N,w){if(!N)throw new A.ERR_INTERNAL_ASSERTION(w)}function F(N){let w="",k=N.length,f=N[0]==="-"?1:0;for(;k>=f+4;k-=3)w=`_${N.slice(k-3,k)}${w}`;return`${N.slice(0,k)}${w}`}function M(N,w,k){if(typeof w==="function")return T(w.length<=k.length,`Code: ${N}; The provided arguments length (${k.length}) does not match the required ones (${w.length}).`),w(...k);let f=(w.match(/%[dfijoOs]/g)||[]).length;if(T(f===k.length,`Code: ${N}; The provided arguments length (${k.length}) does not match the required ones (${f}).`),k.length===0)return w;return X(w,...k)}function I(N,w,k){if(!k)k=Error;class f extends k{constructor(...v){super(M(N,w,v))}toString(){return`${this.name} [${N}]: ${this.message}`}}Object.defineProperties(f.prototype,{name:{value:k.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${N}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),f.prototype.code=N,f.prototype[G]=!0,A[N]=f}function P(N){let w="__node_internal_"+N.name;return Object.defineProperty(N,"name",{value:w}),N}function S(N,w){if(N&&w&&N!==w){if(Array.isArray(w.errors))return w.errors.push(N),w;let k=new V([w,N],w.message);return k.code=w.code,k}return N||w}class j extends Error{constructor(N="The operation was aborted",w=void 0){if(w!==void 0&&typeof w!=="object")throw new A.ERR_INVALID_ARG_TYPE("options","Object",w);super(N,w);this.code="ABORT_ERR",this.name="AbortError"}}I("ERR_ASSERTION","%s",Error),I("ERR_INVALID_ARG_TYPE",(N,w,k)=>{if(T(typeof N==="string","'name' must be a string"),!Array.isArray(w))w=[w];let f="The ";if(N.endsWith(" argument"))f+=`${N} `;else f+=`"${N}" ${N.includes(".")?"property":"argument"} `;f+="must be ";let v=[],c=[],u=[];for(let e of w)if(T(typeof e==="string","All expected entries have to be of type string"),H.includes(e))v.push(e.toLowerCase());else if(D.test(e))c.push(e);else T(e!=="object",'The value "object" should be written as "Object"'),u.push(e);if(c.length>0){let e=v.indexOf("object");if(e!==-1)v.splice(v,e,1),c.push("Object")}if(v.length>0){switch(v.length){case 1:f+=`of type ${v[0]}`;break;case 2:f+=`one of type ${v[0]} or ${v[1]}`;break;default:{let e=v.pop();f+=`one of type ${v.join(", ")}, or ${e}`}}if(c.length>0||u.length>0)f+=" or "}if(c.length>0){switch(c.length){case 1:f+=`an instance of ${c[0]}`;break;case 2:f+=`an instance of ${c[0]} or ${c[1]}`;break;default:{let e=c.pop();f+=`an instance of ${c.join(", ")}, or ${e}`}}if(u.length>0)f+=" or "}switch(u.length){case 0:break;case 1:if(u[0].toLowerCase()!==u[0])f+="an ";f+=`${u[0]}`;break;case 2:f+=`one of ${u[0]} or ${u[1]}`;break;default:{let e=u.pop();f+=`one of ${u.join(", ")}, or ${e}`}}if(k==null)f+=`. Received ${k}`;else if(typeof k==="function"&&k.name)f+=`. Received function ${k.name}`;else if(typeof k==="object"){var Z0;if((Z0=k.constructor)!==null&&Z0!==void 0&&Z0.name)f+=`. Received an instance of ${k.constructor.name}`;else{let e=Z(k,{depth:-1});f+=`. Received ${e}`}}else{let e=Z(k,{colors:!1});if(e.length>25)e=`${e.slice(0,25)}...`;f+=`. Received type ${typeof k} (${e})`}return f},TypeError),I("ERR_INVALID_ARG_VALUE",(N,w,k="is invalid")=>{let f=Z(w);if(f.length>128)f=f.slice(0,128)+"...";return`The ${N.includes(".")?"property":"argument"} '${N}' ${k}. Received ${f}`},TypeError),I("ERR_INVALID_RETURN_VALUE",(N,w,k)=>{var f;let v=k!==null&&k!==void 0&&(f=k.constructor)!==null&&f!==void 0&&f.name?`instance of ${k.constructor.name}`:`type ${typeof k}`;return`Expected ${N} to be returned from the "${w}" function but got ${v}.`},TypeError),I("ERR_MISSING_ARGS",(...N)=>{T(N.length>0,"At least one arg needs to be specified");let w,k=N.length;switch(N=(Array.isArray(N)?N:[N]).map((f)=>`"${f}"`).join(" or "),k){case 1:w+=`The ${N[0]} argument`;break;case 2:w+=`The ${N[0]} and ${N[1]} arguments`;break;default:{let f=N.pop();w+=`The ${N.join(", ")}, and ${f} arguments`}break}return`${w} must be specified`},TypeError),I("ERR_OUT_OF_RANGE",(N,w,k)=>{T(w,'Missing "range" argument');let f;if(Number.isInteger(k)&&Math.abs(k)>4294967296)f=F(String(k));else if(typeof k==="bigint"){f=String(k);let v=BigInt(2)**BigInt(32);if(k>v||k<-v)f=F(f);f+="n"}else f=Z(k);return`The value of "${N}" is out of range. It must be ${w}. Received ${f}`},RangeError),I("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),I("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),I("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),I("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),I("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),I("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),I("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),I("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),I("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),I("ERR_STREAM_WRITE_AFTER_END","write after end",Error),I("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Q.exports={AbortError:j,aggregateTwoErrors:P(S),hideStackFrames:P,codes:A}}),$P=E$(($,Q)=>{Object.defineProperty($,"__esModule",{value:!0});var X=new WeakMap,Z=new WeakMap;function Y(p){let s=X.get(p);return console.assert(s!=null,"'this' is expected an Event object, but got",p),s}function V(p){if(p.passiveListener!=null){if(typeof console!=="undefined"&&typeof console.error==="function")console.error("Unable to preventDefault inside passive event listener invocation.",p.passiveListener);return}if(!p.event.cancelable)return;if(p.canceled=!0,typeof p.event.preventDefault==="function")p.event.preventDefault()}function G(p,s){X.set(this,{eventTarget:p,event:s,eventPhase:2,currentTarget:p,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:s.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let E=Object.keys(s);for(let J=0;J<E.length;++J){let K=E[J];if(!(K in this))Object.defineProperty(this,K,H(K))}}if(G.prototype={get type(){return Y(this).event.type},get target(){return Y(this).eventTarget},get currentTarget(){return Y(this).currentTarget},composedPath(){let p=Y(this).currentTarget;if(p==null)return[];return[p]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return Y(this).eventPhase},stopPropagation(){let p=Y(this);if(p.stopped=!0,typeof p.event.stopPropagation==="function")p.event.stopPropagation()},stopImmediatePropagation(){let p=Y(this);if(p.stopped=!0,p.immediateStopped=!0,typeof p.event.stopImmediatePropagation==="function")p.event.stopImmediatePropagation()},get bubbles(){return Boolean(Y(this).event.bubbles)},get cancelable(){return Boolean(Y(this).event.cancelable)},preventDefault(){V(Y(this))},get defaultPrevented(){return Y(this).canceled},get composed(){return Boolean(Y(this).event.composed)},get timeStamp(){return Y(this).timeStamp},get srcElement(){return Y(this).eventTarget},get cancelBubble(){return Y(this).stopped},set cancelBubble(p){if(!p)return;let s=Y(this);if(s.stopped=!0,typeof s.event.cancelBubble==="boolean")s.event.cancelBubble=!0},get returnValue(){return!Y(this).canceled},set returnValue(p){if(!p)V(Y(this))},initEvent(){}},Object.defineProperty(G.prototype,"constructor",{value:G,configurable:!0,writable:!0}),typeof window!=="undefined"&&typeof window.Event!=="undefined")Object.setPrototypeOf(G.prototype,window.Event.prototype),Z.set(window.Event.prototype,G);function H(p){return{get(){return Y(this).event[p]},set(s){Y(this).event[p]=s},configurable:!0,enumerable:!0}}function D(p){return{value(){let s=Y(this).event;return s[p].apply(s,arguments)},configurable:!0,enumerable:!0}}function A(p,s){let E=Object.keys(s);if(E.length===0)return p;function J(K,O){p.call(this,K,O)}J.prototype=Object.create(p.prototype,{constructor:{value:J,configurable:!0,writable:!0}});for(let K=0;K<E.length;++K){let O=E[K];if(!(O in p.prototype)){let U=typeof Object.getOwnPropertyDescriptor(s,O).value==="function";Object.defineProperty(J.prototype,O,U?D(O):H(O))}}return J}function T(p){if(p==null||p===Object.prototype)return G;let s=Z.get(p);if(s==null)s=A(T(Object.getPrototypeOf(p)),p),Z.set(p,s);return s}function F(p,s){return new(T(Object.getPrototypeOf(s)))(p,s)}function M(p){return Y(p).immediateStopped}function I(p,s){Y(p).eventPhase=s}function P(p,s){Y(p).currentTarget=s}function S(p,s){Y(p).passiveListener=s}var j=new WeakMap,N=1,w=2,k=3;function f(p){return p!==null&&typeof p==="object"}function v(p){let s=j.get(p);if(s==null)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return s}function c(p){return{get(){let s=v(this).get(p);while(s!=null){if(s.listenerType===k)return s.listener;s=s.next}return null},set(s){if(typeof s!=="function"&&!f(s))s=null;let E=v(this),J=null,K=E.get(p);while(K!=null){if(K.listenerType===k)if(J!==null)J.next=K.next;else if(K.next!==null)E.set(p,K.next);else E.delete(p);else J=K;K=K.next}if(s!==null){let O={listener:s,listenerType:k,passive:!1,once:!1,next:null};if(J===null)E.set(p,O);else J.next=O}},configurable:!0,enumerable:!0}}function u(p,s){Object.defineProperty(p,`on${s}`,c(s))}function Z0(p){function s(){e.call(this)}s.prototype=Object.create(e.prototype,{constructor:{value:s,configurable:!0,writable:!0}});for(let E=0;E<p.length;++E)u(s.prototype,p[E]);return s}function e(){if(this instanceof e){j.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return Z0(arguments[0]);if(arguments.length>0){let p=new Array(arguments.length);for(let s=0;s<arguments.length;++s)p[s]=arguments[s];return Z0(p)}throw new TypeError("Cannot call a class as a function")}if(e.prototype={addEventListener(p,s,E){if(s==null)return;if(typeof s!=="function"&&!f(s))throw new TypeError("'listener' should be a function or an object.");let J=v(this),K=f(E),O=(K?Boolean(E.capture):Boolean(E))?N:w,U={listener:s,listenerType:O,passive:K&&Boolean(E.passive),once:K&&Boolean(E.once),next:null},z=J.get(p);if(z===void 0){J.set(p,U);return}let C=null;while(z!=null){if(z.listener===s&&z.listenerType===O)return;C=z,z=z.next}C.next=U},removeEventListener(p,s,E){if(s==null)return;let J=v(this),K=(f(E)?Boolean(E.capture):Boolean(E))?N:w,O=null,U=J.get(p);while(U!=null){if(U.listener===s&&U.listenerType===K){if(O!==null)O.next=U.next;else if(U.next!==null)J.set(p,U.next);else J.delete(p);return}O=U,U=U.next}},dispatchEvent(p){if(p==null||typeof p.type!=="string")throw new TypeError('"event.type" should be a string.');let s=v(this),E=p.type,J=s.get(E);if(J==null)return!0;let K=F(this,p),O=null;while(J!=null){if(J.once)if(O!==null)O.next=J.next;else if(J.next!==null)s.set(E,J.next);else s.delete(E);else O=J;if(S(K,J.passive?J.listener:null),typeof J.listener==="function")try{J.listener.call(this,K)}catch(U){if(typeof console!=="undefined"&&typeof console.error==="function")console.error(U)}else if(J.listenerType!==k&&typeof J.listener.handleEvent==="function")J.listener.handleEvent(K);if(M(K))break;J=J.next}return S(K,null),I(K,0),P(K,null),!K.defaultPrevented}},Object.defineProperty(e.prototype,"constructor",{value:e,configurable:!0,writable:!0}),typeof window!=="undefined"&&typeof window.EventTarget!=="undefined")Object.setPrototypeOf(e.prototype,window.EventTarget.prototype);$.defineEventAttribute=u,$.EventTarget=e,$.default=e,Q.exports=e,Q.exports.EventTarget=Q.exports.default=e,Q.exports.defineEventAttribute=u}),nW=E$(($,Q)=>{Object.defineProperty($,"__esModule",{value:!0});var X=$P();class Z extends X.EventTarget{constructor(){super();throw new TypeError("AbortSignal cannot be constructed directly")}get aborted(){let T=G.get(this);if(typeof T!=="boolean")throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return T}}X.defineEventAttribute(Z.prototype,"abort");function Y(){let T=Object.create(Z.prototype);return X.EventTarget.call(T),G.set(T,!1),T}function V(T){if(G.get(T)!==!1)return;G.set(T,!0),T.dispatchEvent({type:"abort"})}var G=new WeakMap;if(Object.defineProperties(Z.prototype,{aborted:{enumerable:!0}}),typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol")Object.defineProperty(Z.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class H{constructor(){D.set(this,Y())}get signal(){return A(this)}abort(){V(A(this))}}var D=new WeakMap;function A(T){let F=D.get(T);if(F==null)throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${T===null?"null":typeof T}`);return F}if(Object.defineProperties(H.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol")Object.defineProperty(H.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});$.AbortController=H,$.AbortSignal=Z,$.default=H,Q.exports=H,Q.exports.AbortController=Q.exports.default=H,Q.exports.AbortSignal=Z}),YX=E$(($,Q)=>{var X=(y$(),$$(g$)),{format:Z,inspect:Y}=AD(),{codes:{ERR_INVALID_ARG_TYPE:V}}=oQ(),{kResistStopPropagation:G,AggregateError:H,SymbolDispose:D}=f$(),A=globalThis.AbortSignal||nW().AbortSignal,T=globalThis.AbortController||nW().AbortController,F=Object.getPrototypeOf(async function(){}).constructor,M=globalThis.Blob||X.Blob,I=typeof M!=="undefined"?function j(N){return N instanceof M}:function j(N){return!1},P=(j,N)=>{if(j!==void 0&&(j===null||typeof j!=="object"||!("aborted"in j)))throw new V(N,"AbortSignal",j)},S=(j,N)=>{if(typeof j!=="function")throw new V(N,"Function",j)};Q.exports={AggregateError:H,kEmptyObject:Object.freeze({}),once(j){let N=!1;return function(...w){if(N)return;N=!0,j.apply(this,w)}},createDeferredPromise:function(){let j,N;return{promise:new Promise((w,k)=>{j=w,N=k}),resolve:j,reject:N}},promisify(j){return new Promise((N,w)=>{j((k,...f)=>{if(k)return w(k);return N(...f)})})},debuglog(){return function(){}},format:Z,inspect:Y,types:{isAsyncFunction(j){return j instanceof F},isArrayBufferView(j){return ArrayBuffer.isView(j)}},isBlob:I,deprecate(j,N){return j},addAbortListener:(eJ(),$$(tJ)).addAbortListener||function j(N,w){if(N===void 0)throw new V("signal","AbortSignal",N);P(N,"signal"),S(w,"listener");let k;if(N.aborted)queueMicrotask(()=>w());else N.addEventListener("abort",w,{__proto__:null,once:!0,[G]:!0}),k=()=>{N.removeEventListener("abort",w)};return{__proto__:null,[D](){var f;(f=k)===null||f===void 0||f()}}},AbortSignalAny:A.any||function j(N){if(N.length===1)return N[0];let w=new T,k=()=>w.abort();return N.forEach((f)=>{P(f,"signals"),f.addEventListener("abort",k,{once:!0})}),w.signal.addEventListener("abort",()=>{N.forEach((f)=>f.removeEventListener("abort",k))},{once:!0}),w.signal}},Q.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),sW=E$(($,Q)=>{var{ArrayIsArray:X,ArrayPrototypeIncludes:Z,ArrayPrototypeJoin:Y,ArrayPrototypeMap:V,NumberIsInteger:G,NumberIsNaN:H,NumberMAX_SAFE_INTEGER:D,NumberMIN_SAFE_INTEGER:A,NumberParseInt:T,ObjectPrototypeHasOwnProperty:F,RegExpPrototypeExec:M,String:I,StringPrototypeToUpperCase:P,StringPrototypeTrim:S}=f$(),{hideStackFrames:j,codes:{ERR_SOCKET_BAD_PORT:N,ERR_INVALID_ARG_TYPE:w,ERR_INVALID_ARG_VALUE:k,ERR_OUT_OF_RANGE:f,ERR_UNKNOWN_SIGNAL:v}}=oQ(),{normalizeEncoding:c}=YX(),{isAsyncFunction:u,isArrayBufferView:Z0}=YX().types,e={};function p(t){return t===(t|0)}function s(t){return t===t>>>0}var E=/^[0-7]+$/,J="must be a 32-bit unsigned integer or an octal string";function K(t,i,Y0){if(typeof t==="undefined")t=Y0;if(typeof t==="string"){if(M(E,t)===null)throw new k(i,t,J);t=T(t,8)}return z(t,i),t}var O=j((t,i,Y0=A,C0=D)=>{if(typeof t!=="number")throw new w(i,"number",t);if(!G(t))throw new f(i,"an integer",t);if(t<Y0||t>C0)throw new f(i,`>= ${Y0} && <= ${C0}`,t)}),U=j((t,i,Y0=-2147483648,C0=2147483647)=>{if(typeof t!=="number")throw new w(i,"number",t);if(!G(t))throw new f(i,"an integer",t);if(t<Y0||t>C0)throw new f(i,`>= ${Y0} && <= ${C0}`,t)}),z=j((t,i,Y0=!1)=>{if(typeof t!=="number")throw new w(i,"number",t);if(!G(t))throw new f(i,"an integer",t);let C0=Y0?1:0,U0=4294967295;if(t<C0||t>U0)throw new f(i,`>= ${C0} && <= ${U0}`,t)});function C(t,i){if(typeof t!=="string")throw new w(i,"string",t)}function R(t,i,Y0=void 0,C0){if(typeof t!=="number")throw new w(i,"number",t);if(Y0!=null&&t<Y0||C0!=null&&t>C0||(Y0!=null||C0!=null)&&H(t))throw new f(i,`${Y0!=null?`>= ${Y0}`:""}${Y0!=null&&C0!=null?" && ":""}${C0!=null?`<= ${C0}`:""}`,t)}var L=j((t,i,Y0)=>{if(!Z(Y0,t)){let C0="must be one of: "+Y(V(Y0,(U0)=>typeof U0==="string"?`'${U0}'`:I(U0)),", ");throw new k(i,t,C0)}});function W(t,i){if(typeof t!=="boolean")throw new w(i,"boolean",t)}function q(t,i,Y0){return t==null||!F(t,i)?Y0:t[i]}var _=j((t,i,Y0=null)=>{let C0=q(Y0,"allowArray",!1),U0=q(Y0,"allowFunction",!1);if(!q(Y0,"nullable",!1)&&t===null||!C0&&X(t)||typeof t!=="object"&&(!U0||typeof t!=="function"))throw new w(i,"Object",t)}),B=j((t,i)=>{if(t!=null&&typeof t!=="object"&&typeof t!=="function")throw new w(i,"a dictionary",t)}),x=j((t,i,Y0=0)=>{if(!X(t))throw new w(i,"Array",t);if(t.length<Y0){let C0=`must be longer than ${Y0}`;throw new k(i,t,C0)}});function b(t,i){x(t,i);for(let Y0=0;Y0<t.length;Y0++)C(t[Y0],`${i}[${Y0}]`)}function l(t,i){x(t,i);for(let Y0=0;Y0<t.length;Y0++)W(t[Y0],`${i}[${Y0}]`)}function r(t,i){x(t,i);for(let Y0=0;Y0<t.length;Y0++){let C0=t[Y0],U0=`${i}[${Y0}]`;if(C0==null)throw new w(U0,"AbortSignal",C0);G0(C0,U0)}}function z0(t,i="signal"){if(C(t,i),e[t]===void 0){if(e[P(t)]!==void 0)throw new v(t+" (signals must use all capital letters)");throw new v(t)}}var d=j((t,i="buffer")=>{if(!Z0(t))throw new w(i,["Buffer","TypedArray","DataView"],t)});function o(t,i){let Y0=c(i),C0=t.length;if(Y0==="hex"&&C0%2!==0)throw new k("encoding",i,`is invalid for data of length ${C0}`)}function R0(t,i="Port",Y0=!0){if(typeof t!=="number"&&typeof t!=="string"||typeof t==="string"&&S(t).length===0||+t!==+t>>>0||t>65535||t===0&&!Y0)throw new N(i,t,Y0);return t|0}var G0=j((t,i)=>{if(t!==void 0&&(t===null||typeof t!=="object"||!("aborted"in t)))throw new w(i,"AbortSignal",t)}),W0=j((t,i)=>{if(typeof t!=="function")throw new w(i,"Function",t)}),a=j((t,i)=>{if(typeof t!=="function"||u(t))throw new w(i,"Function",t)}),m=j((t,i)=>{if(t!==void 0)throw new w(i,"undefined",t)});function n(t,i,Y0){if(!Z(Y0,t))throw new w(i,`('${Y(Y0,"|")}')`,t)}var b0=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Q0(t,i){if(typeof t==="undefined"||!M(b0,t))throw new k(i,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function $0(t){if(typeof t==="string")return Q0(t,"hints"),t;else if(X(t)){let i=t.length,Y0="";if(i===0)return Y0;for(let C0=0;C0<i;C0++){let U0=t[C0];if(Q0(U0,"hints"),Y0+=U0,C0!==i-1)Y0+=", "}return Y0}throw new k("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}Q.exports={isInt32:p,isUint32:s,parseFileMode:K,validateArray:x,validateStringArray:b,validateBooleanArray:l,validateAbortSignalArray:r,validateBoolean:W,validateBuffer:d,validateDictionary:B,validateEncoding:o,validateFunction:W0,validateInt32:U,validateInteger:O,validateNumber:R,validateObject:_,validateOneOf:L,validatePlainFunction:a,validatePort:R0,validateSignalName:z0,validateString:C,validateUint32:z,validateUndefined:m,validateUnion:n,validateAbortSignal:G0,validateLinkHeaderValue:$0}}),lJ=E$(($,Q)=>{Q.exports=globalThis.process}),YY=E$(($,Q)=>{var{SymbolAsyncIterator:X,SymbolIterator:Z,SymbolFor:Y}=f$(),V=Y("nodejs.stream.destroyed"),G=Y("nodejs.stream.errored"),H=Y("nodejs.stream.readable"),D=Y("nodejs.stream.writable"),A=Y("nodejs.stream.disturbed"),T=Y("nodejs.webstream.isClosedPromise"),F=Y("nodejs.webstream.controllerErrorFunction");function M(q,_=!1){var B;return!!(q&&typeof q.pipe==="function"&&typeof q.on==="function"&&(!_||typeof q.pause==="function"&&typeof q.resume==="function")&&(!q._writableState||((B=q._readableState)===null||B===void 0?void 0:B.readable)!==!1)&&(!q._writableState||q._readableState))}function I(q){var _;return!!(q&&typeof q.write==="function"&&typeof q.on==="function"&&(!q._readableState||((_=q._writableState)===null||_===void 0?void 0:_.writable)!==!1))}function P(q){return!!(q&&typeof q.pipe==="function"&&q._readableState&&typeof q.on==="function"&&typeof q.write==="function")}function S(q){return q&&(q._readableState||q._writableState||typeof q.write==="function"&&typeof q.on==="function"||typeof q.pipe==="function"&&typeof q.on==="function")}function j(q){return!!(q&&!S(q)&&typeof q.pipeThrough==="function"&&typeof q.getReader==="function"&&typeof q.cancel==="function")}function N(q){return!!(q&&!S(q)&&typeof q.getWriter==="function"&&typeof q.abort==="function")}function w(q){return!!(q&&!S(q)&&typeof q.readable==="object"&&typeof q.writable==="object")}function k(q){return j(q)||N(q)||w(q)}function f(q,_){if(q==null)return!1;if(_===!0)return typeof q[X]==="function";if(_===!1)return typeof q[Z]==="function";return typeof q[X]==="function"||typeof q[Z]==="function"}function v(q){if(!S(q))return null;let{_writableState:_,_readableState:B}=q,x=_||B;return!!(q.destroyed||q[V]||x!==null&&x!==void 0&&x.destroyed)}function c(q){if(!I(q))return null;if(q.writableEnded===!0)return!0;let _=q._writableState;if(_!==null&&_!==void 0&&_.errored)return!1;if(typeof(_===null||_===void 0?void 0:_.ended)!=="boolean")return null;return _.ended}function u(q,_){if(!I(q))return null;if(q.writableFinished===!0)return!0;let B=q._writableState;if(B!==null&&B!==void 0&&B.errored)return!1;if(typeof(B===null||B===void 0?void 0:B.finished)!=="boolean")return null;return!!(B.finished||_===!1&&B.ended===!0&&B.length===0)}function Z0(q){if(!M(q))return null;if(q.readableEnded===!0)return!0;let _=q._readableState;if(!_||_.errored)return!1;if(typeof(_===null||_===void 0?void 0:_.ended)!=="boolean")return null;return _.ended}function e(q,_){if(!M(q))return null;let B=q._readableState;if(B!==null&&B!==void 0&&B.errored)return!1;if(typeof(B===null||B===void 0?void 0:B.endEmitted)!=="boolean")return null;return!!(B.endEmitted||_===!1&&B.ended===!0&&B.length===0)}function p(q){if(q&&q[H]!=null)return q[H];if(typeof(q===null||q===void 0?void 0:q.readable)!=="boolean")return null;if(v(q))return!1;return M(q)&&q.readable&&!e(q)}function s(q){if(q&&q[D]!=null)return q[D];if(typeof(q===null||q===void 0?void 0:q.writable)!=="boolean")return null;if(v(q))return!1;return I(q)&&q.writable&&!c(q)}function E(q,_){if(!S(q))return null;if(v(q))return!0;if((_===null||_===void 0?void 0:_.readable)!==!1&&p(q))return!1;if((_===null||_===void 0?void 0:_.writable)!==!1&&s(q))return!1;return!0}function J(q){var _,B;if(!S(q))return null;if(q.writableErrored)return q.writableErrored;return(_=(B=q._writableState)===null||B===void 0?void 0:B.errored)!==null&&_!==void 0?_:null}function K(q){var _,B;if(!S(q))return null;if(q.readableErrored)return q.readableErrored;return(_=(B=q._readableState)===null||B===void 0?void 0:B.errored)!==null&&_!==void 0?_:null}function O(q){if(!S(q))return null;if(typeof q.closed==="boolean")return q.closed;let{_writableState:_,_readableState:B}=q;if(typeof(_===null||_===void 0?void 0:_.closed)==="boolean"||typeof(B===null||B===void 0?void 0:B.closed)==="boolean")return(_===null||_===void 0?void 0:_.closed)||(B===null||B===void 0?void 0:B.closed);if(typeof q._closed==="boolean"&&U(q))return q._closed;return null}function U(q){return typeof q._closed==="boolean"&&typeof q._defaultKeepAlive==="boolean"&&typeof q._removedConnection==="boolean"&&typeof q._removedContLen==="boolean"}function z(q){return typeof q._sent100==="boolean"&&U(q)}function C(q){var _;return typeof q._consuming==="boolean"&&typeof q._dumped==="boolean"&&((_=q.req)===null||_===void 0?void 0:_.upgradeOrConnect)===void 0}function R(q){if(!S(q))return null;let{_writableState:_,_readableState:B}=q,x=_||B;return!x&&z(q)||!!(x&&x.autoDestroy&&x.emitClose&&x.closed===!1)}function L(q){var _;return!!(q&&((_=q[A])!==null&&_!==void 0?_:q.readableDidRead||q.readableAborted))}function W(q){var _,B,x,b,l,r,z0,d,o,R0;return!!(q&&((_=(B=(x=(b=(l=(r=q[G])!==null&&r!==void 0?r:q.readableErrored)!==null&&l!==void 0?l:q.writableErrored)!==null&&b!==void 0?b:(z0=q._readableState)===null||z0===void 0?void 0:z0.errorEmitted)!==null&&x!==void 0?x:(d=q._writableState)===null||d===void 0?void 0:d.errorEmitted)!==null&&B!==void 0?B:(o=q._readableState)===null||o===void 0?void 0:o.errored)!==null&&_!==void 0?_:(R0=q._writableState)===null||R0===void 0?void 0:R0.errored))}Q.exports={isDestroyed:v,kIsDestroyed:V,isDisturbed:L,kIsDisturbed:A,isErrored:W,kIsErrored:G,isReadable:p,kIsReadable:H,kIsClosedPromise:T,kControllerErrorFunction:F,kIsWritable:D,isClosed:O,isDuplexNodeStream:P,isFinished:E,isIterable:f,isReadableNodeStream:M,isReadableStream:j,isReadableEnded:Z0,isReadableFinished:e,isReadableErrored:K,isNodeStream:S,isWebStream:k,isWritable:s,isWritableNodeStream:I,isWritableStream:N,isWritableEnded:c,isWritableFinished:u,isWritableErrored:J,isServerRequest:C,isServerResponse:z,willEmitClose:R,isTransformStream:w}}),uY=E$(($,Q)=>{var X=lJ(),{AbortError:Z,codes:Y}=oQ(),{ERR_INVALID_ARG_TYPE:V,ERR_STREAM_PREMATURE_CLOSE:G}=Y,{kEmptyObject:H,once:D}=YX(),{validateAbortSignal:A,validateFunction:T,validateObject:F,validateBoolean:M}=sW(),{Promise:I,PromisePrototypeThen:P,SymbolDispose:S}=f$(),{isClosed:j,isReadable:N,isReadableNodeStream:w,isReadableStream:k,isReadableFinished:f,isReadableErrored:v,isWritable:c,isWritableNodeStream:u,isWritableStream:Z0,isWritableFinished:e,isWritableErrored:p,isNodeStream:s,willEmitClose:E,kIsClosedPromise:J}=YY(),K;function O(L){return L.setHeader&&typeof L.abort==="function"}var U=()=>{};function z(L,W,q){var _,B;if(arguments.length===2)q=W,W=H;else if(W==null)W=H;else F(W,"options");if(T(q,"callback"),A(W.signal,"options.signal"),q=D(q),k(L)||Z0(L))return C(L,W,q);if(!s(L))throw new V("stream",["ReadableStream","WritableStream","Stream"],L);let x=(_=W.readable)!==null&&_!==void 0?_:w(L),b=(B=W.writable)!==null&&B!==void 0?B:u(L),l=L._writableState,r=L._readableState,z0=()=>{if(!L.writable)R0()},d=E(L)&&w(L)===x&&u(L)===b,o=e(L,!1),R0=()=>{if(o=!0,L.destroyed)d=!1;if(d&&(!L.readable||x))return;if(!x||G0)q.call(L)},G0=f(L,!1),W0=()=>{if(G0=!0,L.destroyed)d=!1;if(d&&(!L.writable||b))return;if(!b||o)q.call(L)},a=(t)=>{q.call(L,t)},m=j(L),n=()=>{m=!0;let t=p(L)||v(L);if(t&&typeof t!=="boolean")return q.call(L,t);if(x&&!G0&&w(L,!0)){if(!f(L,!1))return q.call(L,new G)}if(b&&!o){if(!e(L,!1))return q.call(L,new G)}q.call(L)},b0=()=>{m=!0;let t=p(L)||v(L);if(t&&typeof t!=="boolean")return q.call(L,t);q.call(L)},Q0=()=>{L.req.on("finish",R0)};if(O(L)){if(L.on("complete",R0),!d)L.on("abort",n);if(L.req)Q0();else L.on("request",Q0)}else if(b&&!l)L.on("end",z0),L.on("close",z0);if(!d&&typeof L.aborted==="boolean")L.on("aborted",n);if(L.on("end",W0),L.on("finish",R0),W.error!==!1)L.on("error",a);if(L.on("close",n),m)X.nextTick(n);else if(l!==null&&l!==void 0&&l.errorEmitted||r!==null&&r!==void 0&&r.errorEmitted){if(!d)X.nextTick(b0)}else if(!x&&(!d||N(L))&&(o||c(L)===!1))X.nextTick(b0);else if(!b&&(!d||c(L))&&(G0||N(L)===!1))X.nextTick(b0);else if(r&&L.req&&L.aborted)X.nextTick(b0);let $0=()=>{if(q=U,L.removeListener("aborted",n),L.removeListener("complete",R0),L.removeListener("abort",n),L.removeListener("request",Q0),L.req)L.req.removeListener("finish",R0);L.removeListener("end",z0),L.removeListener("close",z0),L.removeListener("finish",R0),L.removeListener("end",W0),L.removeListener("error",a),L.removeListener("close",n)};if(W.signal&&!m){let t=()=>{let i=q;$0(),i.call(L,new Z(void 0,{cause:W.signal.reason}))};if(W.signal.aborted)X.nextTick(t);else{K=K||YX().addAbortListener;let i=K(W.signal,t),Y0=q;q=D((...C0)=>{i[S](),Y0.apply(L,C0)})}}return $0}function C(L,W,q){let _=!1,B=U;if(W.signal)if(B=()=>{_=!0,q.call(L,new Z(void 0,{cause:W.signal.reason}))},W.signal.aborted)X.nextTick(B);else{K=K||YX().addAbortListener;let b=K(W.signal,B),l=q;q=D((...r)=>{b[S](),l.apply(L,r)})}let x=(...b)=>{if(!_)X.nextTick(()=>q.apply(L,b))};return P(L[J].promise,x,x),U}function R(L,W){var q;let _=!1;if(W===null)W=H;if((q=W)!==null&&q!==void 0&&q.cleanup)M(W.cleanup,"cleanup"),_=W.cleanup;return new I((B,x)=>{let b=z(L,W,(l)=>{if(_)b();if(l)x(l);else B()})})}Q.exports=z,Q.exports.finished=R}),OG=E$(($,Q)=>{var X=lJ(),{aggregateTwoErrors:Z,codes:{ERR_MULTIPLE_CALLBACK:Y},AbortError:V}=oQ(),{Symbol:G}=f$(),{kIsDestroyed:H,isDestroyed:D,isFinished:A,isServerRequest:T}=YY(),F=G("kDestroy"),M=G("kConstruct");function I(E,J,K){if(E){if(E.stack,J&&!J.errored)J.errored=E;if(K&&!K.errored)K.errored=E}}function P(E,J){let K=this._readableState,O=this._writableState,U=O||K;if(O!==null&&O!==void 0&&O.destroyed||K!==null&&K!==void 0&&K.destroyed){if(typeof J==="function")J();return this}if(I(E,O,K),O)O.destroyed=!0;if(K)K.destroyed=!0;if(!U.constructed)this.once(F,function(z){S(this,Z(z,E),J)});else S(this,E,J);return this}function S(E,J,K){let O=!1;function U(z){if(O)return;O=!0;let{_readableState:C,_writableState:R}=E;if(I(z,R,C),R)R.closed=!0;if(C)C.closed=!0;if(typeof K==="function")K(z);if(z)X.nextTick(j,E,z);else X.nextTick(N,E)}try{E._destroy(J||null,U)}catch(z){U(z)}}function j(E,J){w(E,J),N(E)}function N(E){let{_readableState:J,_writableState:K}=E;if(K)K.closeEmitted=!0;if(J)J.closeEmitted=!0;if(K!==null&&K!==void 0&&K.emitClose||J!==null&&J!==void 0&&J.emitClose)E.emit("close")}function w(E,J){let{_readableState:K,_writableState:O}=E;if(O!==null&&O!==void 0&&O.errorEmitted||K!==null&&K!==void 0&&K.errorEmitted)return;if(O)O.errorEmitted=!0;if(K)K.errorEmitted=!0;E.emit("error",J)}function k(){let E=this._readableState,J=this._writableState;if(E)E.constructed=!0,E.closed=!1,E.closeEmitted=!1,E.destroyed=!1,E.errored=null,E.errorEmitted=!1,E.reading=!1,E.ended=E.readable===!1,E.endEmitted=E.readable===!1;if(J)J.constructed=!0,J.destroyed=!1,J.closed=!1,J.closeEmitted=!1,J.errored=null,J.errorEmitted=!1,J.finalCalled=!1,J.prefinished=!1,J.ended=J.writable===!1,J.ending=J.writable===!1,J.finished=J.writable===!1}function f(E,J,K){let{_readableState:O,_writableState:U}=E;if(U!==null&&U!==void 0&&U.destroyed||O!==null&&O!==void 0&&O.destroyed)return this;if(O!==null&&O!==void 0&&O.autoDestroy||U!==null&&U!==void 0&&U.autoDestroy)E.destroy(J);else if(J){if(J.stack,U&&!U.errored)U.errored=J;if(O&&!O.errored)O.errored=J;if(K)X.nextTick(w,E,J);else w(E,J)}}function v(E,J){if(typeof E._construct!=="function")return;let{_readableState:K,_writableState:O}=E;if(K)K.constructed=!1;if(O)O.constructed=!1;if(E.once(M,J),E.listenerCount(M)>1)return;X.nextTick(c,E)}function c(E){let J=!1;function K(O){if(J){f(E,O!==null&&O!==void 0?O:new Y);return}J=!0;let{_readableState:U,_writableState:z}=E,C=z||U;if(U)U.constructed=!0;if(z)z.constructed=!0;if(C.destroyed)E.emit(F,O);else if(O)f(E,O,!0);else X.nextTick(u,E)}try{E._construct((O)=>{X.nextTick(K,O)})}catch(O){X.nextTick(K,O)}}function u(E){E.emit(M)}function Z0(E){return(E===null||E===void 0?void 0:E.setHeader)&&typeof E.abort==="function"}function e(E){E.emit("close")}function p(E,J){E.emit("error",J),X.nextTick(e,E)}function s(E,J){if(!E||D(E))return;if(!J&&!A(E))J=new V;if(T(E))E.socket=null,E.destroy(J);else if(Z0(E))E.abort();else if(Z0(E.req))E.req.abort();else if(typeof E.destroy==="function")E.destroy(J);else if(typeof E.close==="function")E.close();else if(J)X.nextTick(p,E,J);else X.nextTick(e,E);if(!E.destroyed)E[H]=!0}Q.exports={construct:v,destroyer:s,destroy:P,undestroy:k,errorOrDestroy:f}}),IO=E$(($,Q)=>{var{ArrayIsArray:X,ObjectSetPrototypeOf:Z}=f$(),{EventEmitter:Y}=(eJ(),$$(tJ));function V(H){Y.call(this,H)}Z(V.prototype,Y.prototype),Z(V,Y),V.prototype.pipe=function(H,D){let A=this;function T(N){if(H.writable&&H.write(N)===!1&&A.pause)A.pause()}A.on("data",T);function F(){if(A.readable&&A.resume)A.resume()}if(H.on("drain",F),!H._isStdio&&(!D||D.end!==!1))A.on("end",I),A.on("close",P);let M=!1;function I(){if(M)return;M=!0,H.end()}function P(){if(M)return;if(M=!0,typeof H.destroy==="function")H.destroy()}function S(N){if(j(),Y.listenerCount(this,"error")===0)this.emit("error",N)}G(A,"error",S),G(H,"error",S);function j(){A.removeListener("data",T),H.removeListener("drain",F),A.removeListener("end",I),A.removeListener("close",P),A.removeListener("error",S),H.removeListener("error",S),A.removeListener("end",j),A.removeListener("close",j),H.removeListener("close",j)}return A.on("end",j),A.on("close",j),H.on("close",j),H.emit("pipe",A),H};function G(H,D,A){if(typeof H.prependListener==="function")return H.prependListener(D,A);if(!H._events||!H._events[D])H.on(D,A);else if(X(H._events[D]))H._events[D].unshift(A);else H._events[D]=[A,H._events[D]]}Q.exports={Stream:V,prependListener:G}}),OU=E$(($,Q)=>{var{SymbolDispose:X}=f$(),{AbortError:Z,codes:Y}=oQ(),{isNodeStream:V,isWebStream:G,kControllerErrorFunction:H}=YY(),D=uY(),{ERR_INVALID_ARG_TYPE:A}=Y,T,F=(M,I)=>{if(typeof M!=="object"||!("aborted"in M))throw new A(I,"AbortSignal",M)};Q.exports.addAbortSignal=function M(I,P){if(F(I,"signal"),!V(P)&&!G(P))throw new A("stream",["ReadableStream","WritableStream","Stream"],P);return Q.exports.addAbortSignalNoValidate(I,P)},Q.exports.addAbortSignalNoValidate=function(M,I){if(typeof M!=="object"||!("aborted"in M))return I;let P=V(I)?()=>{I.destroy(new Z(void 0,{cause:M.reason}))}:()=>{I[H](new Z(void 0,{cause:M.reason}))};if(M.aborted)P();else{T=T||YX().addAbortListener;let S=T(M,P);D(I,S[X])}return I}}),QP=E$(($,Q)=>{var{StringPrototypeSlice:X,SymbolIterator:Z,TypedArrayPrototypeSet:Y,Uint8Array:V}=f$(),{Buffer:G}=(y$(),$$(g$)),{inspect:H}=YX();Q.exports=class D{constructor(){this.head=null,this.tail=null,this.length=0}push(A){let T={data:A,next:null};if(this.length>0)this.tail.next=T;else this.head=T;this.tail=T,++this.length}unshift(A){let T={data:A,next:this.head};if(this.length===0)this.tail=T;this.head=T,++this.length}shift(){if(this.length===0)return;let A=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;return--this.length,A}clear(){this.head=this.tail=null,this.length=0}join(A){if(this.length===0)return"";let T=this.head,F=""+T.data;while((T=T.next)!==null)F+=A+T.data;return F}concat(A){if(this.length===0)return G.alloc(0);let T=G.allocUnsafe(A>>>0),F=this.head,M=0;while(F)Y(T,F.data,M),M+=F.data.length,F=F.next;return T}consume(A,T){let F=this.head.data;if(A<F.length){let M=F.slice(0,A);return this.head.data=F.slice(A),M}if(A===F.length)return this.shift();return T?this._getString(A):this._getBuffer(A)}first(){return this.head.data}*[Z](){for(let A=this.head;A;A=A.next)yield A.data}_getString(A){let T="",F=this.head,M=0;do{let I=F.data;if(A>I.length)T+=I,A-=I.length;else{if(A===I.length)if(T+=I,++M,F.next)this.head=F.next;else this.head=this.tail=null;else T+=X(I,0,A),this.head=F,F.data=X(I,A);break}++M}while((F=F.next)!==null);return this.length-=M,T}_getBuffer(A){let T=G.allocUnsafe(A),F=A,M=this.head,I=0;do{let P=M.data;if(A>P.length)Y(T,P,F-A),A-=P.length;else{if(A===P.length)if(Y(T,P,F-A),++I,M.next)this.head=M.next;else this.head=this.tail=null;else Y(T,new V(P.buffer,P.byteOffset,A),F-A),this.head=M,M.data=P.slice(A);break}++I}while((M=M.next)!==null);return this.length-=I,T}[Symbol.for("nodejs.util.inspect.custom")](A,T){return H(this,{...T,depth:0,customInspect:!1})}}}),zU=E$(($,Q)=>{var{MathFloor:X,NumberIsInteger:Z}=f$(),{validateInteger:Y}=sW(),{ERR_INVALID_ARG_VALUE:V}=oQ().codes,G=16384,H=16;function D(M,I,P){return M.highWaterMark!=null?M.highWaterMark:I?M[P]:null}function A(M){return M?H:G}function T(M,I){if(Y(I,"value",0),M)H=I;else G=I}function F(M,I,P,S){let j=D(I,S,P);if(j!=null){if(!Z(j)||j<0){let N=S?`options.${P}`:"options.highWaterMark";throw new V(N,j)}return X(j)}return A(M.objectMode)}Q.exports={getHighWaterMark:F,getDefaultHighWaterMark:A,setDefaultHighWaterMark:T}}),XP=E$(($,Q)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var X=(y$(),$$(g$)),Z=X.Buffer;function Y(G,H){for(var D in G)H[D]=G[D]}if(Z.from&&Z.alloc&&Z.allocUnsafe&&Z.allocUnsafeSlow)Q.exports=X;else Y(X,$),$.Buffer=V;function V(G,H,D){return Z(G,H,D)}V.prototype=Object.create(Z.prototype),Y(Z,V),V.from=function(G,H,D){if(typeof G==="number")throw new TypeError("Argument must not be a number");return Z(G,H,D)},V.alloc=function(G,H,D){if(typeof G!=="number")throw new TypeError("Argument must be a number");var A=Z(G);if(H!==void 0)if(typeof D==="string")A.fill(H,D);else A.fill(H);else A.fill(0);return A},V.allocUnsafe=function(G){if(typeof G!=="number")throw new TypeError("Argument must be a number");return Z(G)},V.allocUnsafeSlow=function(G){if(typeof G!=="number")throw new TypeError("Argument must be a number");return X.SlowBuffer(G)}}),ZP=E$(($)=>{var Q=XP().Buffer,X=Q.isEncoding||function(w){switch(w=""+w,w&&w.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Z(w){if(!w)return"utf8";var k;while(!0)switch(w){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return w;default:if(k)return;w=(""+w).toLowerCase(),k=!0}}function Y(w){var k=Z(w);if(typeof k!=="string"&&(Q.isEncoding===X||!X(w)))throw new Error("Unknown encoding: "+w);return k||w}$.StringDecoder=V;function V(w){this.encoding=Y(w);var k;switch(this.encoding){case"utf16le":this.text=M,this.end=I,k=4;break;case"utf8":this.fillLast=A,k=4;break;case"base64":this.text=P,this.end=S,k=3;break;default:this.write=j,this.end=N;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Q.allocUnsafe(k)}V.prototype.write=function(w){if(w.length===0)return"";var k,f;if(this.lastNeed){if(k=this.fillLast(w),k===void 0)return"";f=this.lastNeed,this.lastNeed=0}else f=0;if(f<w.length)return k?k+this.text(w,f):this.text(w,f);return k||""},V.prototype.end=F,V.prototype.text=T,V.prototype.fillLast=function(w){if(this.lastNeed<=w.length)return w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,w.length),this.lastNeed-=w.length};function G(w){if(w<=127)return 0;else if(w>>5===6)return 2;else if(w>>4===14)return 3;else if(w>>3===30)return 4;return w>>6===2?-1:-2}function H(w,k,f){var v=k.length-1;if(v<f)return 0;var c=G(k[v]);if(c>=0){if(c>0)w.lastNeed=c-1;return c}if(--v<f||c===-2)return 0;if(c=G(k[v]),c>=0){if(c>0)w.lastNeed=c-2;return c}if(--v<f||c===-2)return 0;if(c=G(k[v]),c>=0){if(c>0)if(c===2)c=0;else w.lastNeed=c-3;return c}return 0}function D(w,k,f){if((k[0]&192)!==128)return w.lastNeed=0,"�";if(w.lastNeed>1&&k.length>1){if((k[1]&192)!==128)return w.lastNeed=1,"�";if(w.lastNeed>2&&k.length>2){if((k[2]&192)!==128)return w.lastNeed=2,"�"}}}function A(w){var k=this.lastTotal-this.lastNeed,f=D(this,w,k);if(f!==void 0)return f;if(this.lastNeed<=w.length)return w.copy(this.lastChar,k,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,k,0,w.length),this.lastNeed-=w.length}function T(w,k){var f=H(this,w,k);if(!this.lastNeed)return w.toString("utf8",k);this.lastTotal=f;var v=w.length-(f-this.lastNeed);return w.copy(this.lastChar,0,v),w.toString("utf8",k,v)}function F(w){var k=w&&w.length?this.write(w):"";if(this.lastNeed)return k+"�";return k}function M(w,k){if((w.length-k)%2===0){var f=w.toString("utf16le",k);if(f){var v=f.charCodeAt(f.length-1);if(v>=55296&&v<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1],f.slice(0,-1)}return f}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=w[w.length-1],w.toString("utf16le",k,w.length-1)}function I(w){var k=w&&w.length?this.write(w):"";if(this.lastNeed){var f=this.lastTotal-this.lastNeed;return k+this.lastChar.toString("utf16le",0,f)}return k}function P(w,k){var f=(w.length-k)%3;if(f===0)return w.toString("base64",k);if(this.lastNeed=3-f,this.lastTotal=3,f===1)this.lastChar[0]=w[w.length-1];else this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1];return w.toString("base64",k,w.length-f)}function S(w){var k=w&&w.length?this.write(w):"";if(this.lastNeed)return k+this.lastChar.toString("base64",0,3-this.lastNeed);return k}function j(w){return w.toString(this.encoding)}function N(w){return w&&w.length?this.write(w):""}}),CD=E$(($,Q)=>{var X=lJ(),{PromisePrototypeThen:Z,SymbolAsyncIterator:Y,SymbolIterator:V}=f$(),{Buffer:G}=(y$(),$$(g$)),{ERR_INVALID_ARG_TYPE:H,ERR_STREAM_NULL_VALUES:D}=oQ().codes;function A(T,F,M){let I;if(typeof F==="string"||F instanceof G)return new T({objectMode:!0,...M,read(){this.push(F),this.push(null)}});let P;if(F&&F[Y])P=!0,I=F[Y]();else if(F&&F[V])P=!1,I=F[V]();else throw new H("iterable",["Iterable"],F);let S=new T({objectMode:!0,highWaterMark:1,...M}),j=!1;S._read=function(){if(!j)j=!0,w()},S._destroy=function(k,f){Z(N(k),()=>X.nextTick(f,k),(v)=>X.nextTick(f,v||k))};async function N(k){let f=k!==void 0&&k!==null,v=typeof I.throw==="function";if(f&&v){let{value:c,done:u}=await I.throw(k);if(await c,u)return}if(typeof I.return==="function"){let{value:c}=await I.return();await c}}async function w(){for(;;){try{let{value:k,done:f}=P?await I.next():I.next();if(f)S.push(null);else{let v=k&&typeof k.then==="function"?await k:k;if(v===null)throw j=!1,new D;else if(S.push(v))continue;else j=!1}}catch(k){S.destroy(k)}break}}return S}Q.exports=A}),HU=E$(($,Q)=>{var X=lJ(),{ArrayPrototypeIndexOf:Z,NumberIsInteger:Y,NumberIsNaN:V,NumberParseInt:G,ObjectDefineProperties:H,ObjectKeys:D,ObjectSetPrototypeOf:A,Promise:T,SafeSet:F,SymbolAsyncDispose:M,SymbolAsyncIterator:I,Symbol:P}=f$();Q.exports=C0,C0.ReadableState=Y0;var{EventEmitter:S}=(eJ(),$$(tJ)),{Stream:j,prependListener:N}=IO(),{Buffer:w}=(y$(),$$(g$)),{addAbortSignal:k}=OU(),f=uY(),v=YX().debuglog("stream",(g)=>{v=g}),c=QP(),u=OG(),{getHighWaterMark:Z0,getDefaultHighWaterMark:e}=zU(),{aggregateTwoErrors:p,codes:{ERR_INVALID_ARG_TYPE:s,ERR_METHOD_NOT_IMPLEMENTED:E,ERR_OUT_OF_RANGE:J,ERR_STREAM_PUSH_AFTER_EOF:K,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:O},AbortError:U}=oQ(),{validateObject:z}=sW(),C=P("kPaused"),{StringDecoder:R}=ZP(),L=CD();A(C0.prototype,j.prototype),A(C0,j);var W=()=>{},{errorOrDestroy:q}=u,_=1,B=2,x=4,b=8,l=16,r=32,z0=64,d=128,o=256,R0=512,G0=1024,W0=2048,a=4096,m=8192,n=16384,b0=32768,Q0=65536,$0=131072,t=262144;function i(g){return{enumerable:!1,get(){return(this.state&g)!==0},set(y){if(y)this.state|=g;else this.state&=~g}}}H(Y0.prototype,{objectMode:i(_),ended:i(B),endEmitted:i(x),reading:i(b),constructed:i(l),sync:i(r),needReadable:i(z0),emittedReadable:i(d),readableListening:i(o),resumeScheduled:i(R0),errorEmitted:i(G0),emitClose:i(W0),autoDestroy:i(a),destroyed:i(m),closed:i(n),closeEmitted:i(b0),multiAwaitDrain:i(Q0),readingMore:i($0),dataEmitted:i(t)});function Y0(g,y,p0){if(typeof p0!=="boolean")p0=y instanceof ZY();if(this.state=W0|a|l|r,g&&g.objectMode)this.state|=_;if(p0&&g&&g.readableObjectMode)this.state|=_;if(this.highWaterMark=g?Z0(this,g,"readableHighWaterMark",p0):e(!1),this.buffer=new c,this.length=0,this.pipes=[],this.flowing=null,this[C]=null,g&&g.emitClose===!1)this.state&=~W0;if(g&&g.autoDestroy===!1)this.state&=~a;if(this.errored=null,this.defaultEncoding=g&&g.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,g&&g.encoding)this.decoder=new R(g.encoding),this.encoding=g.encoding}function C0(g){if(!(this instanceof C0))return new C0(g);let y=this instanceof ZY();if(this._readableState=new Y0(g,this,y),g){if(typeof g.read==="function")this._read=g.read;if(typeof g.destroy==="function")this._destroy=g.destroy;if(typeof g.construct==="function")this._construct=g.construct;if(g.signal&&!y)k(g.signal,this)}j.call(this,g),u.construct(this,()=>{if(this._readableState.needReadable)p$(this,this._readableState)})}C0.prototype.destroy=u.destroy,C0.prototype._undestroy=u.undestroy,C0.prototype._destroy=function(g,y){y(g)},C0.prototype[S.captureRejectionSymbol]=function(g){this.destroy(g)},C0.prototype[M]=function(){let g;if(!this.destroyed)g=this.readableEnded?null:new U,this.destroy(g);return new T((y,p0)=>f(this,(X0)=>X0&&X0!==g?p0(X0):y(null)))},C0.prototype.push=function(g,y){return U0(this,g,y,!1)},C0.prototype.unshift=function(g,y){return U0(this,g,y,!0)};function U0(g,y,p0,X0){v("readableAddChunk",y);let V0=g._readableState,T$;if((V0.state&_)===0){if(typeof y==="string"){if(p0=p0||V0.defaultEncoding,V0.encoding!==p0)if(X0&&V0.encoding)y=w.from(y,p0).toString(V0.encoding);else y=w.from(y,p0),p0=""}else if(y instanceof w)p0="";else if(j._isUint8Array(y))y=j._uint8ArrayToBuffer(y),p0="";else if(y!=null)T$=new s("chunk",["string","Buffer","Uint8Array"],y)}if(T$)q(g,T$);else if(y===null)V0.state&=~b,C$(g,V0);else if((V0.state&_)!==0||y&&y.length>0)if(X0)if((V0.state&x)!==0)q(g,new O);else if(V0.destroyed||V0.errored)return!1;else D0(g,V0,y,!0);else if(V0.ended)q(g,new K);else if(V0.destroyed||V0.errored)return!1;else if(V0.state&=~b,V0.decoder&&!p0)if(y=V0.decoder.write(y),V0.objectMode||y.length!==0)D0(g,V0,y,!1);else p$(g,V0);else D0(g,V0,y,!1);else if(!X0)V0.state&=~b,p$(g,V0);return!V0.ended&&(V0.length<V0.highWaterMark||V0.length===0)}function D0(g,y,p0,X0){if(y.flowing&&y.length===0&&!y.sync&&g.listenerCount("data")>0){if((y.state&Q0)!==0)y.awaitDrainWriters.clear();else y.awaitDrainWriters=null;y.dataEmitted=!0,g.emit("data",p0)}else{if(y.length+=y.objectMode?1:p0.length,X0)y.buffer.unshift(p0);else y.buffer.push(p0);if((y.state&z0)!==0)q0(g)}p$(g,y)}C0.prototype.isPaused=function(){let g=this._readableState;return g[C]===!0||g.flowing===!1},C0.prototype.setEncoding=function(g){let y=new R(g);this._readableState.decoder=y,this._readableState.encoding=this._readableState.decoder.encoding;let p0=this._readableState.buffer,X0="";for(let V0 of p0)X0+=y.write(V0);if(p0.clear(),X0!=="")p0.push(X0);return this._readableState.length=X0.length,this};var a0=1073741824;function H0(g){if(g>a0)throw new J("size","<= 1GiB",g);else g--,g|=g>>>1,g|=g>>>2,g|=g>>>4,g|=g>>>8,g|=g>>>16,g++;return g}function T0(g,y){if(g<=0||y.length===0&&y.ended)return 0;if((y.state&_)!==0)return 1;if(V(g)){if(y.flowing&&y.length)return y.buffer.first().length;return y.length}if(g<=y.length)return g;return y.ended?y.length:0}C0.prototype.read=function(g){if(v("read",g),g===void 0)g=NaN;else if(!Y(g))g=G(g,10);let y=this._readableState,p0=g;if(g>y.highWaterMark)y.highWaterMark=H0(g);if(g!==0)y.state&=~d;if(g===0&&y.needReadable&&((y.highWaterMark!==0?y.length>=y.highWaterMark:y.length>0)||y.ended)){if(v("read: emitReadable",y.length,y.ended),y.length===0&&y.ended)S0(this);else q0(this);return null}if(g=T0(g,y),g===0&&y.ended){if(y.length===0)S0(this);return null}let X0=(y.state&z0)!==0;if(v("need readable",X0),y.length===0||y.length-g<y.highWaterMark)X0=!0,v("length less than watermark",X0);if(y.ended||y.reading||y.destroyed||y.errored||!y.constructed)X0=!1,v("reading, ended or constructing",X0);else if(X0){if(v("do read"),y.state|=b|r,y.length===0)y.state|=z0;try{this._read(y.highWaterMark)}catch(T$){q(this,T$)}if(y.state&=~r,!y.reading)g=T0(p0,y)}let V0;if(g>0)V0=x0(g,y);else V0=null;if(V0===null)y.needReadable=y.length<=y.highWaterMark,g=0;else if(y.length-=g,y.multiAwaitDrain)y.awaitDrainWriters.clear();else y.awaitDrainWriters=null;if(y.length===0){if(!y.ended)y.needReadable=!0;if(p0!==g&&y.ended)S0(this)}if(V0!==null&&!y.errorEmitted&&!y.closeEmitted)y.dataEmitted=!0,this.emit("data",V0);return V0};function C$(g,y){if(v("onEofChunk"),y.ended)return;if(y.decoder){let p0=y.decoder.end();if(p0&&p0.length)y.buffer.push(p0),y.length+=y.objectMode?1:p0.length}if(y.ended=!0,y.sync)q0(g);else y.needReadable=!1,y.emittedReadable=!0,I0(g)}function q0(g){let y=g._readableState;if(v("emitReadable",y.needReadable,y.emittedReadable),y.needReadable=!1,!y.emittedReadable)v("emitReadable",y.flowing),y.emittedReadable=!0,X.nextTick(I0,g)}function I0(g){let y=g._readableState;if(v("emitReadable_",y.destroyed,y.length,y.ended),!y.destroyed&&!y.errored&&(y.length||y.ended))g.emit("readable"),y.emittedReadable=!1;y.needReadable=!y.flowing&&!y.ended&&y.length<=y.highWaterMark,w0(g)}function p$(g,y){if(!y.readingMore&&y.constructed)y.readingMore=!0,X.nextTick(F0,g,y)}function F0(g,y){while(!y.reading&&!y.ended&&(y.length<y.highWaterMark||y.flowing&&y.length===0)){let p0=y.length;if(v("maybeReadMore read 0"),g.read(0),p0===y.length)break}y.readingMore=!1}C0.prototype._read=function(g){throw new E("_read()")},C0.prototype.pipe=function(g,y){let p0=this,X0=this._readableState;if(X0.pipes.length===1){if(!X0.multiAwaitDrain)X0.multiAwaitDrain=!0,X0.awaitDrainWriters=new F(X0.awaitDrainWriters?[X0.awaitDrainWriters]:[])}X0.pipes.push(g),v("pipe count=%d opts=%j",X0.pipes.length,y);let V0=(!y||y.end!==!1)&&g!==X.stdout&&g!==X.stderr?A0:t0;if(X0.endEmitted)X.nextTick(V0);else p0.once("end",V0);g.on("unpipe",T$);function T$(r0,I$){if(v("onunpipe"),r0===p0){if(I$&&I$.hasUnpiped===!1)I$.hasUnpiped=!0,h0()}}function A0(){v("onend"),g.end()}let E0,FQ=!1;function h0(){if(v("cleanup"),g.removeListener("close",N0),g.removeListener("finish",v$),E0)g.removeListener("drain",E0);if(g.removeListener("error",j0),g.removeListener("unpipe",T$),p0.removeListener("end",A0),p0.removeListener("end",t0),p0.removeListener("data",RQ),FQ=!0,E0&&X0.awaitDrainWriters&&(!g._writableState||g._writableState.needDrain))E0()}function k0(){if(!FQ){if(X0.pipes.length===1&&X0.pipes[0]===g)v("false write response, pause",0),X0.awaitDrainWriters=g,X0.multiAwaitDrain=!1;else if(X0.pipes.length>1&&X0.pipes.includes(g))v("false write response, pause",X0.awaitDrainWriters.size),X0.awaitDrainWriters.add(g);p0.pause()}if(!E0)E0=f0(p0,g),g.on("drain",E0)}p0.on("data",RQ);function RQ(r0){v("ondata");let I$=g.write(r0);if(v("dest.write",I$),I$===!1)k0()}function j0(r0){if(v("onerror",r0),t0(),g.removeListener("error",j0),g.listenerCount("error")===0){let I$=g._writableState||g._readableState;if(I$&&!I$.errorEmitted)q(g,r0);else g.emit("error",r0)}}N(g,"error",j0);function N0(){g.removeListener("finish",v$),t0()}g.once("close",N0);function v$(){v("onfinish"),g.removeListener("close",N0),t0()}g.once("finish",v$);function t0(){v("unpipe"),p0.unpipe(g)}if(g.emit("pipe",p0),g.writableNeedDrain===!0)k0();else if(!X0.flowing)v("pipe resume"),p0.resume();return g};function f0(g,y){return function p0(){let X0=g._readableState;if(X0.awaitDrainWriters===y)v("pipeOnDrain",1),X0.awaitDrainWriters=null;else if(X0.multiAwaitDrain)v("pipeOnDrain",X0.awaitDrainWriters.size),X0.awaitDrainWriters.delete(y);if((!X0.awaitDrainWriters||X0.awaitDrainWriters.size===0)&&g.listenerCount("data"))g.resume()}}C0.prototype.unpipe=function(g){let y=this._readableState,p0={hasUnpiped:!1};if(y.pipes.length===0)return this;if(!g){let V0=y.pipes;y.pipes=[],this.pause();for(let T$=0;T$<V0.length;T$++)V0[T$].emit("unpipe",this,{hasUnpiped:!1});return this}let X0=Z(y.pipes,g);if(X0===-1)return this;if(y.pipes.splice(X0,1),y.pipes.length===0)this.pause();return g.emit("unpipe",this,p0),this},C0.prototype.on=function(g,y){let p0=j.prototype.on.call(this,g,y),X0=this._readableState;if(g==="data"){if(X0.readableListening=this.listenerCount("readable")>0,X0.flowing!==!1)this.resume()}else if(g==="readable"){if(!X0.endEmitted&&!X0.readableListening){if(X0.readableListening=X0.needReadable=!0,X0.flowing=!1,X0.emittedReadable=!1,v("on readable",X0.length,X0.reading),X0.length)q0(this);else if(!X0.reading)X.nextTick(v0,this)}}return p0},C0.prototype.addListener=C0.prototype.on,C0.prototype.removeListener=function(g,y){let p0=j.prototype.removeListener.call(this,g,y);if(g==="readable")X.nextTick(CQ,this);return p0},C0.prototype.off=C0.prototype.removeListener,C0.prototype.removeAllListeners=function(g){let y=j.prototype.removeAllListeners.apply(this,arguments);if(g==="readable"||g===void 0)X.nextTick(CQ,this);return y};function CQ(g){let y=g._readableState;if(y.readableListening=g.listenerCount("readable")>0,y.resumeScheduled&&y[C]===!1)y.flowing=!0;else if(g.listenerCount("data")>0)g.resume();else if(!y.readableListening)y.flowing=null}function v0(g){v("readable nexttick read 0"),g.read(0)}C0.prototype.resume=function(){let g=this._readableState;if(!g.flowing)v("resume"),g.flowing=!g.readableListening,g0(this,g);return g[C]=!1,this};function g0(g,y){if(!y.resumeScheduled)y.resumeScheduled=!0,X.nextTick(_Q,g,y)}function _Q(g,y){if(v("resume",y.reading),!y.reading)g.read(0);if(y.resumeScheduled=!1,g.emit("resume"),w0(g),y.flowing&&!y.reading)g.read(0)}C0.prototype.pause=function(){if(v("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1)v("pause"),this._readableState.flowing=!1,this.emit("pause");return this._readableState[C]=!0,this};function w0(g){let y=g._readableState;v("flow",y.flowing);while(y.flowing&&g.read()!==null);}C0.prototype.wrap=function(g){let y=!1;g.on("data",(X0)=>{if(!this.push(X0)&&g.pause)y=!0,g.pause()}),g.on("end",()=>{this.push(null)}),g.on("error",(X0)=>{q(this,X0)}),g.on("close",()=>{this.destroy()}),g.on("destroy",()=>{this.destroy()}),this._read=()=>{if(y&&g.resume)y=!1,g.resume()};let p0=D(g);for(let X0=1;X0<p0.length;X0++){let V0=p0[X0];if(this[V0]===void 0&&typeof g[V0]==="function")this[V0]=g[V0].bind(g)}return this},C0.prototype[I]=function(){return _0(this)},C0.prototype.iterator=function(g){if(g!==void 0)z(g,"options");return _0(this,g)};function _0(g,y){if(typeof g.read!=="function")g=C0.wrap(g,{objectMode:!0});let p0=xQ(g,y);return p0.stream=g,p0}async function*xQ(g,y){let p0=W;function X0(A0){if(this===g)p0(),p0=W;else p0=A0}g.on("readable",X0);let V0,T$=f(g,{writable:!1},(A0)=>{V0=A0?p(V0,A0):null,p0(),p0=W});try{while(!0){let A0=g.destroyed?null:g.read();if(A0!==null)yield A0;else if(V0)throw V0;else if(V0===null)return;else await new T(X0)}}catch(A0){throw V0=p(V0,A0),V0}finally{if((V0||(y===null||y===void 0?void 0:y.destroyOnReturn)!==!1)&&(V0===void 0||g._readableState.autoDestroy))u.destroyer(g,null);else g.off("readable",X0),T$()}}H(C0.prototype,{readable:{__proto__:null,get(){let g=this._readableState;return!!g&&g.readable!==!1&&!g.destroyed&&!g.errorEmitted&&!g.endEmitted},set(g){if(this._readableState)this._readableState.readable=!!g}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(g){if(this._readableState)this._readableState.flowing=g}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(g){if(!this._readableState)return;this._readableState.destroyed=g}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),H(Y0.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[C]!==!1},set(g){this[C]=!!g}}}),C0._fromList=x0;function x0(g,y){if(y.length===0)return null;let p0;if(y.objectMode)p0=y.buffer.shift();else if(!g||g>=y.length){if(y.decoder)p0=y.buffer.join("");else if(y.buffer.length===1)p0=y.buffer.first();else p0=y.buffer.concat(y.length);y.buffer.clear()}else p0=y.buffer.consume(g,y.decoder);return p0}function S0(g){let y=g._readableState;if(v("endReadable",y.endEmitted),!y.endEmitted)y.ended=!0,X.nextTick(kQ,y,g)}function kQ(g,y){if(v("endReadableNT",g.endEmitted,g.length),!g.errored&&!g.closeEmitted&&!g.endEmitted&&g.length===0){if(g.endEmitted=!0,y.emit("end"),y.writable&&y.allowHalfOpen===!1)X.nextTick(y0,y);else if(g.autoDestroy){let p0=y._writableState;if(!p0||p0.autoDestroy&&(p0.finished||p0.writable===!1))y.destroy()}}}function y0(g){if(g.writable&&!g.writableEnded&&!g.destroyed)g.end()}C0.from=function(g,y){return L(C0,g,y)};var B0;function TQ(){if(B0===void 0)B0={};return B0}C0.fromWeb=function(g,y){return TQ().newStreamReadableFromReadableStream(g,y)},C0.toWeb=function(g,y){return TQ().newReadableStreamFromStreamReadable(g,y)},C0.wrap=function(g,y){var p0,X0;return new C0({objectMode:(p0=(X0=g.readableObjectMode)!==null&&X0!==void 0?X0:g.objectMode)!==null&&p0!==void 0?p0:!0,...y,destroy(V0,T$){u.destroyer(g,V0),T$(V0)}}).wrap(g)}}),PO=E$(($,Q)=>{var X=lJ(),{ArrayPrototypeSlice:Z,Error:Y,FunctionPrototypeSymbolHasInstance:V,ObjectDefineProperty:G,ObjectDefineProperties:H,ObjectSetPrototypeOf:D,StringPrototypeToLowerCase:A,Symbol:T,SymbolHasInstance:F}=f$();Q.exports=z,z.WritableState=O;var{EventEmitter:M}=(eJ(),$$(tJ)),I=IO().Stream,{Buffer:P}=(y$(),$$(g$)),S=OG(),{addAbortSignal:j}=OU(),{getHighWaterMark:N,getDefaultHighWaterMark:w}=zU(),{ERR_INVALID_ARG_TYPE:k,ERR_METHOD_NOT_IMPLEMENTED:f,ERR_MULTIPLE_CALLBACK:v,ERR_STREAM_CANNOT_PIPE:c,ERR_STREAM_DESTROYED:u,ERR_STREAM_ALREADY_FINISHED:Z0,ERR_STREAM_NULL_VALUES:e,ERR_STREAM_WRITE_AFTER_END:p,ERR_UNKNOWN_ENCODING:s}=oQ().codes,{errorOrDestroy:E}=S;D(z.prototype,I.prototype),D(z,I);function J(){}var K=T("kOnFinished");function O(a,m,n){if(typeof n!=="boolean")n=m instanceof ZY();if(this.objectMode=!!(a&&a.objectMode),n)this.objectMode=this.objectMode||!!(a&&a.writableObjectMode);this.highWaterMark=a?N(this,a,"writableHighWaterMark",n):w(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let b0=!!(a&&a.decodeStrings===!1);this.decodeStrings=!b0,this.defaultEncoding=a&&a.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=q.bind(void 0,m),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,U(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!a||a.emitClose!==!1,this.autoDestroy=!a||a.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[K]=[]}function U(a){a.buffered=[],a.bufferedIndex=0,a.allBuffers=!0,a.allNoop=!0}O.prototype.getBuffer=function a(){return Z(this.buffered,this.bufferedIndex)},G(O.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function z(a){let m=this instanceof ZY();if(!m&&!V(z,this))return new z(a);if(this._writableState=new O(a,this,m),a){if(typeof a.write==="function")this._write=a.write;if(typeof a.writev==="function")this._writev=a.writev;if(typeof a.destroy==="function")this._destroy=a.destroy;if(typeof a.final==="function")this._final=a.final;if(typeof a.construct==="function")this._construct=a.construct;if(a.signal)j(a.signal,this)}I.call(this,a),S.construct(this,()=>{let n=this._writableState;if(!n.writing)b(this,n);d(this,n)})}G(z,F,{__proto__:null,value:function(a){if(V(this,a))return!0;if(this!==z)return!1;return a&&a._writableState instanceof O}}),z.prototype.pipe=function(){E(this,new c)};function C(a,m,n,b0){let Q0=a._writableState;if(typeof n==="function")b0=n,n=Q0.defaultEncoding;else{if(!n)n=Q0.defaultEncoding;else if(n!=="buffer"&&!P.isEncoding(n))throw new s(n);if(typeof b0!=="function")b0=J}if(m===null)throw new e;else if(!Q0.objectMode)if(typeof m==="string"){if(Q0.decodeStrings!==!1)m=P.from(m,n),n="buffer"}else if(m instanceof P)n="buffer";else if(I._isUint8Array(m))m=I._uint8ArrayToBuffer(m),n="buffer";else throw new k("chunk",["string","Buffer","Uint8Array"],m);let $0;if(Q0.ending)$0=new p;else if(Q0.destroyed)$0=new u("write");if($0)return X.nextTick(b0,$0),E(a,$0,!0),$0;return Q0.pendingcb++,R(a,Q0,m,n,b0)}z.prototype.write=function(a,m,n){return C(this,a,m,n)===!0},z.prototype.cork=function(){this._writableState.corked++},z.prototype.uncork=function(){let a=this._writableState;if(a.corked){if(a.corked--,!a.writing)b(this,a)}},z.prototype.setDefaultEncoding=function a(m){if(typeof m==="string")m=A(m);if(!P.isEncoding(m))throw new s(m);return this._writableState.defaultEncoding=m,this};function R(a,m,n,b0,Q0){let $0=m.objectMode?1:n.length;m.length+=$0;let t=m.length<m.highWaterMark;if(!t)m.needDrain=!0;if(m.writing||m.corked||m.errored||!m.constructed){if(m.buffered.push({chunk:n,encoding:b0,callback:Q0}),m.allBuffers&&b0!=="buffer")m.allBuffers=!1;if(m.allNoop&&Q0!==J)m.allNoop=!1}else m.writelen=$0,m.writecb=Q0,m.writing=!0,m.sync=!0,a._write(n,b0,m.onwrite),m.sync=!1;return t&&!m.errored&&!m.destroyed}function L(a,m,n,b0,Q0,$0,t){if(m.writelen=b0,m.writecb=t,m.writing=!0,m.sync=!0,m.destroyed)m.onwrite(new u("write"));else if(n)a._writev(Q0,m.onwrite);else a._write(Q0,$0,m.onwrite);m.sync=!1}function W(a,m,n,b0){--m.pendingcb,b0(n),x(m),E(a,n)}function q(a,m){let n=a._writableState,b0=n.sync,Q0=n.writecb;if(typeof Q0!=="function"){E(a,new v);return}if(n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0,m){if(m.stack,!n.errored)n.errored=m;if(a._readableState&&!a._readableState.errored)a._readableState.errored=m;if(b0)X.nextTick(W,a,n,m,Q0);else W(a,n,m,Q0)}else{if(n.buffered.length>n.bufferedIndex)b(a,n);if(b0)if(n.afterWriteTickInfo!==null&&n.afterWriteTickInfo.cb===Q0)n.afterWriteTickInfo.count++;else n.afterWriteTickInfo={count:1,cb:Q0,stream:a,state:n},X.nextTick(_,n.afterWriteTickInfo);else B(a,n,1,Q0)}}function _({stream:a,state:m,count:n,cb:b0}){return m.afterWriteTickInfo=null,B(a,m,n,b0)}function B(a,m,n,b0){if(!m.ending&&!a.destroyed&&m.length===0&&m.needDrain)m.needDrain=!1,a.emit("drain");while(n-- >0)m.pendingcb--,b0();if(m.destroyed)x(m);d(a,m)}function x(a){if(a.writing)return;for(let Q0=a.bufferedIndex;Q0<a.buffered.length;++Q0){var m;let{chunk:$0,callback:t}=a.buffered[Q0],i=a.objectMode?1:$0.length;a.length-=i,t((m=a.errored)!==null&&m!==void 0?m:new u("write"))}let n=a[K].splice(0);for(let Q0=0;Q0<n.length;Q0++){var b0;n[Q0]((b0=a.errored)!==null&&b0!==void 0?b0:new u("end"))}U(a)}function b(a,m){if(m.corked||m.bufferProcessing||m.destroyed||!m.constructed)return;let{buffered:n,bufferedIndex:b0,objectMode:Q0}=m,$0=n.length-b0;if(!$0)return;let t=b0;if(m.bufferProcessing=!0,$0>1&&a._writev){m.pendingcb-=$0-1;let i=m.allNoop?J:(C0)=>{for(let U0=t;U0<n.length;++U0)n[U0].callback(C0)},Y0=m.allNoop&&t===0?n:Z(n,t);Y0.allBuffers=m.allBuffers,L(a,m,!0,m.length,Y0,"",i),U(m)}else{do{let{chunk:i,encoding:Y0,callback:C0}=n[t];n[t++]=null;let U0=Q0?1:i.length;L(a,m,!1,U0,i,Y0,C0)}while(t<n.length&&!m.writing);if(t===n.length)U(m);else if(t>256)n.splice(0,t),m.bufferedIndex=0;else m.bufferedIndex=t}m.bufferProcessing=!1}z.prototype._write=function(a,m,n){if(this._writev)this._writev([{chunk:a,encoding:m}],n);else throw new f("_write()")},z.prototype._writev=null,z.prototype.end=function(a,m,n){let b0=this._writableState;if(typeof a==="function")n=a,a=null,m=null;else if(typeof m==="function")n=m,m=null;let Q0;if(a!==null&&a!==void 0){let $0=C(this,a,m);if($0 instanceof Y)Q0=$0}if(b0.corked)b0.corked=1,this.uncork();if(Q0);else if(!b0.errored&&!b0.ending)b0.ending=!0,d(this,b0,!0),b0.ended=!0;else if(b0.finished)Q0=new Z0("end");else if(b0.destroyed)Q0=new u("end");if(typeof n==="function")if(Q0||b0.finished)X.nextTick(n,Q0);else b0[K].push(n);return this};function l(a){return a.ending&&!a.destroyed&&a.constructed&&a.length===0&&!a.errored&&a.buffered.length===0&&!a.finished&&!a.writing&&!a.errorEmitted&&!a.closeEmitted}function r(a,m){let n=!1;function b0(Q0){if(n){E(a,Q0!==null&&Q0!==void 0?Q0:v());return}if(n=!0,m.pendingcb--,Q0){let $0=m[K].splice(0);for(let t=0;t<$0.length;t++)$0[t](Q0);E(a,Q0,m.sync)}else if(l(m))m.prefinished=!0,a.emit("prefinish"),m.pendingcb++,X.nextTick(o,a,m)}m.sync=!0,m.pendingcb++;try{a._final(b0)}catch(Q0){b0(Q0)}m.sync=!1}function z0(a,m){if(!m.prefinished&&!m.finalCalled)if(typeof a._final==="function"&&!m.destroyed)m.finalCalled=!0,r(a,m);else m.prefinished=!0,a.emit("prefinish")}function d(a,m,n){if(l(m)){if(z0(a,m),m.pendingcb===0){if(n)m.pendingcb++,X.nextTick((b0,Q0)=>{if(l(Q0))o(b0,Q0);else Q0.pendingcb--},a,m);else if(l(m))m.pendingcb++,o(a,m)}}}function o(a,m){m.pendingcb--,m.finished=!0;let n=m[K].splice(0);for(let b0=0;b0<n.length;b0++)n[b0]();if(a.emit("finish"),m.autoDestroy){let b0=a._readableState;if(!b0||b0.autoDestroy&&(b0.endEmitted||b0.readable===!1))a.destroy()}}H(z.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(a){if(this._writableState)this._writableState.destroyed=a}},writable:{__proto__:null,get(){let a=this._writableState;return!!a&&a.writable!==!1&&!a.destroyed&&!a.errored&&!a.ending&&!a.ended},set(a){if(this._writableState)this._writableState.writable=!!a}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let a=this._writableState;if(!a)return!1;return!a.destroyed&&!a.ending&&a.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var R0=S.destroy;z.prototype.destroy=function(a,m){let n=this._writableState;if(!n.destroyed&&(n.bufferedIndex<n.buffered.length||n[K].length))X.nextTick(x,n);return R0.call(this,a,m),this},z.prototype._undestroy=S.undestroy,z.prototype._destroy=function(a,m){m(a)},z.prototype[M.captureRejectionSymbol]=function(a){this.destroy(a)};var G0;function W0(){if(G0===void 0)G0={};return G0}z.fromWeb=function(a,m){return W0().newStreamWritableFromWritableStream(a,m)},z.toWeb=function(a){return W0().newWritableStreamFromStreamWritable(a)}}),YP=E$(($,Q)=>{var X=lJ(),Z=(y$(),$$(g$)),{isReadable:Y,isWritable:V,isIterable:G,isNodeStream:H,isReadableNodeStream:D,isWritableNodeStream:A,isDuplexNodeStream:T,isReadableStream:F,isWritableStream:M}=YY(),I=uY(),{AbortError:P,codes:{ERR_INVALID_ARG_TYPE:S,ERR_INVALID_RETURN_VALUE:j}}=oQ(),{destroyer:N}=OG(),w=ZY(),k=HU(),f=PO(),{createDeferredPromise:v}=YX(),c=CD(),u=globalThis.Blob||Z.Blob,Z0=typeof u!=="undefined"?function K(O){return O instanceof u}:function K(O){return!1},e=globalThis.AbortController||nW().AbortController,{FunctionPrototypeCall:p}=f$();class s extends w{constructor(K){super(K);if((K===null||K===void 0?void 0:K.readable)===!1)this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0;if((K===null||K===void 0?void 0:K.writable)===!1)this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0}}Q.exports=function K(O,U){if(T(O))return O;if(D(O))return J({readable:O});if(A(O))return J({writable:O});if(H(O))return J({writable:!1,readable:!1});if(F(O))return J({readable:k.fromWeb(O)});if(M(O))return J({writable:f.fromWeb(O)});if(typeof O==="function"){let{value:C,write:R,final:L,destroy:W}=E(O);if(G(C))return c(s,C,{objectMode:!0,write:R,final:L,destroy:W});let q=C===null||C===void 0?void 0:C.then;if(typeof q==="function"){let _,B=p(q,C,(x)=>{if(x!=null)throw new j("nully","body",x)},(x)=>{N(_,x)});return _=new s({objectMode:!0,readable:!1,write:R,final(x){L(async()=>{try{await B,X.nextTick(x,null)}catch(b){X.nextTick(x,b)}})},destroy:W})}throw new j("Iterable, AsyncIterable or AsyncFunction",U,C)}if(Z0(O))return K(O.arrayBuffer());if(G(O))return c(s,O,{objectMode:!0,writable:!1});if(F(O===null||O===void 0?void 0:O.readable)&&M(O===null||O===void 0?void 0:O.writable))return s.fromWeb(O);if(typeof(O===null||O===void 0?void 0:O.writable)==="object"||typeof(O===null||O===void 0?void 0:O.readable)==="object"){let C=O!==null&&O!==void 0&&O.readable?D(O===null||O===void 0?void 0:O.readable)?O===null||O===void 0?void 0:O.readable:K(O.readable):void 0,R=O!==null&&O!==void 0&&O.writable?A(O===null||O===void 0?void 0:O.writable)?O===null||O===void 0?void 0:O.writable:K(O.writable):void 0;return J({readable:C,writable:R})}let z=O===null||O===void 0?void 0:O.then;if(typeof z==="function"){let C;return p(z,O,(R)=>{if(R!=null)C.push(R);C.push(null)},(R)=>{N(C,R)}),C=new s({objectMode:!0,writable:!1,read(){}})}throw new S(U,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],O)};function E(K){let{promise:O,resolve:U}=v(),z=new e,C=z.signal;return{value:K(async function*(){while(!0){let R=O;O=null;let{chunk:L,done:W,cb:q}=await R;if(X.nextTick(q),W)return;if(C.aborted)throw new P(void 0,{cause:C.reason});({promise:O,resolve:U}=v()),yield L}}(),{signal:C}),write(R,L,W){let q=U;U=null,q({chunk:R,done:!1,cb:W})},final(R){let L=U;U=null,L({done:!0,cb:R})},destroy(R,L){z.abort(),L(R)}}}function J(K){let O=K.readable&&typeof K.readable.read!=="function"?k.wrap(K.readable):K.readable,U=K.writable,z=!!Y(O),C=!!V(U),R,L,W,q,_;function B(x){let b=q;if(q=null,b)b(x);else if(x)_.destroy(x)}if(_=new s({readableObjectMode:!!(O!==null&&O!==void 0&&O.readableObjectMode),writableObjectMode:!!(U!==null&&U!==void 0&&U.writableObjectMode),readable:z,writable:C}),C)I(U,(x)=>{if(C=!1,x)N(O,x);B(x)}),_._write=function(x,b,l){if(U.write(x,b))l();else R=l},_._final=function(x){U.end(),L=x},U.on("drain",function(){if(R){let x=R;R=null,x()}}),U.on("finish",function(){if(L){let x=L;L=null,x()}});if(z)I(O,(x)=>{if(z=!1,x)N(O,x);B(x)}),O.on("readable",function(){if(W){let x=W;W=null,x()}}),O.on("end",function(){_.push(null)}),_._read=function(){while(!0){let x=O.read();if(x===null){W=_._read;return}if(!_.push(x))return}};return _._destroy=function(x,b){if(!x&&q!==null)x=new P;if(W=null,R=null,L=null,q===null)b(x);else q=b,N(U,x),N(O,x)},_}}),ZY=E$(($,Q)=>{var{ObjectDefineProperties:X,ObjectGetOwnPropertyDescriptor:Z,ObjectKeys:Y,ObjectSetPrototypeOf:V}=f$();Q.exports=D;var G=HU(),H=PO();V(D.prototype,G.prototype),V(D,G);{let M=Y(H.prototype);for(let I=0;I<M.length;I++){let P=M[I];if(!D.prototype[P])D.prototype[P]=H.prototype[P]}}function D(M){if(!(this instanceof D))return new D(M);if(G.call(this,M),H.call(this,M),M){if(this.allowHalfOpen=M.allowHalfOpen!==!1,M.readable===!1)this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0;if(M.writable===!1)this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0}else this.allowHalfOpen=!0}X(D.prototype,{writable:{__proto__:null,...Z(H.prototype,"writable")},writableHighWaterMark:{__proto__:null,...Z(H.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...Z(H.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...Z(H.prototype,"writableBuffer")},writableLength:{__proto__:null,...Z(H.prototype,"writableLength")},writableFinished:{__proto__:null,...Z(H.prototype,"writableFinished")},writableCorked:{__proto__:null,...Z(H.prototype,"writableCorked")},writableEnded:{__proto__:null,...Z(H.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...Z(H.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){if(this._readableState===void 0||this._writableState===void 0)return!1;return this._readableState.destroyed&&this._writableState.destroyed},set(M){if(this._readableState&&this._writableState)this._readableState.destroyed=M,this._writableState.destroyed=M}}});var A;function T(){if(A===void 0)A={};return A}D.fromWeb=function(M,I){return T().newStreamDuplexFromReadableWritablePair(M,I)},D.toWeb=function(M){return T().newReadableWritablePairFromDuplex(M)};var F;D.from=function(M){if(!F)F=YP();return F(M,"body")}}),TD=E$(($,Q)=>{var{ObjectSetPrototypeOf:X,Symbol:Z}=f$();Q.exports=D;var{ERR_METHOD_NOT_IMPLEMENTED:Y}=oQ().codes,V=ZY(),{getHighWaterMark:G}=zU();X(D.prototype,V.prototype),X(D,V);var H=Z("kCallback");function D(F){if(!(this instanceof D))return new D(F);let M=F?G(this,F,"readableHighWaterMark",!0):null;if(M===0)F={...F,highWaterMark:null,readableHighWaterMark:M,writableHighWaterMark:F.writableHighWaterMark||0};if(V.call(this,F),this._readableState.sync=!1,this[H]=null,F){if(typeof F.transform==="function")this._transform=F.transform;if(typeof F.flush==="function")this._flush=F.flush}this.on("prefinish",T)}function A(F){if(typeof this._flush==="function"&&!this.destroyed)this._flush((M,I)=>{if(M){if(F)F(M);else this.destroy(M);return}if(I!=null)this.push(I);if(this.push(null),F)F()});else if(this.push(null),F)F()}function T(){if(this._final!==A)A.call(this)}D.prototype._final=A,D.prototype._transform=function(F,M,I){throw new Y("_transform()")},D.prototype._write=function(F,M,I){let P=this._readableState,S=this._writableState,j=P.length;this._transform(F,M,(N,w)=>{if(N){I(N);return}if(w!=null)this.push(w);if(S.ended||j===P.length||P.length<P.highWaterMark)I();else this[H]=I})},D.prototype._read=function(){if(this[H]){let F=this[H];this[H]=null,F()}}}),FD=E$(($,Q)=>{var{ObjectSetPrototypeOf:X}=f$();Q.exports=Y;var Z=TD();X(Y.prototype,Z.prototype),X(Y,Z);function Y(V){if(!(this instanceof Y))return new Y(V);Z.call(this,V)}Y.prototype._transform=function(V,G,H){H(null,V)}}),SO=E$(($,Q)=>{var X=lJ(),{ArrayIsArray:Z,Promise:Y,SymbolAsyncIterator:V,SymbolDispose:G}=f$(),H=uY(),{once:D}=YX(),A=OG(),T=ZY(),{aggregateTwoErrors:F,codes:{ERR_INVALID_ARG_TYPE:M,ERR_INVALID_RETURN_VALUE:I,ERR_MISSING_ARGS:P,ERR_STREAM_DESTROYED:S,ERR_STREAM_PREMATURE_CLOSE:j},AbortError:N}=oQ(),{validateFunction:w,validateAbortSignal:k}=sW(),{isIterable:f,isReadable:v,isReadableNodeStream:c,isNodeStream:u,isTransformStream:Z0,isWebStream:e,isReadableStream:p,isReadableFinished:s}=YY(),E=globalThis.AbortController||nW().AbortController,J,K,O;function U(x,b,l){let r=!1;x.on("close",()=>{r=!0});let z0=H(x,{readable:b,writable:l},(d)=>{r=!d});return{destroy:(d)=>{if(r)return;r=!0,A.destroyer(x,d||new S("pipe"))},cleanup:z0}}function z(x){return w(x[x.length-1],"streams[stream.length - 1]"),x.pop()}function C(x){if(f(x))return x;else if(c(x))return R(x);throw new M("val",["Readable","Iterable","AsyncIterable"],x)}async function*R(x){if(!K)K=HU();yield*K.prototype[V].call(x)}async function L(x,b,l,{end:r}){let z0,d=null,o=(W0)=>{if(W0)z0=W0;if(d){let a=d;d=null,a()}},R0=()=>new Y((W0,a)=>{if(z0)a(z0);else d=()=>{if(z0)a(z0);else W0()}});b.on("drain",o);let G0=H(b,{readable:!1},o);try{if(b.writableNeedDrain)await R0();for await(let W0 of x)if(!b.write(W0))await R0();if(r)b.end(),await R0();l()}catch(W0){l(z0!==W0?F(z0,W0):W0)}finally{G0(),b.off("drain",o)}}async function W(x,b,l,{end:r}){if(Z0(b))b=b.writable;let z0=b.getWriter();try{for await(let d of x)await z0.ready,z0.write(d).catch(()=>{});if(await z0.ready,r)await z0.close();l()}catch(d){try{await z0.abort(d),l(d)}catch(o){l(o)}}}function q(...x){return _(x,D(z(x)))}function _(x,b,l){if(x.length===1&&Z(x[0]))x=x[0];if(x.length<2)throw new P("streams");let r=new E,z0=r.signal,d=l===null||l===void 0?void 0:l.signal,o=[];k(d,"options.signal");function R0(){Q0(new N)}O=O||YX().addAbortListener;let G0;if(d)G0=O(d,R0);let W0,a,m=[],n=0;function b0(C0){Q0(C0,--n===0)}function Q0(C0,U0){var D0;if(C0&&(!W0||W0.code==="ERR_STREAM_PREMATURE_CLOSE"))W0=C0;if(!W0&&!U0)return;while(m.length)m.shift()(W0);if((D0=G0)===null||D0===void 0||D0[G](),r.abort(),U0){if(!W0)o.forEach((a0)=>a0());X.nextTick(b,W0,a)}}let $0;for(let C0=0;C0<x.length;C0++){let U0=x[C0],D0=C0<x.length-1,a0=C0>0,H0=D0||(l===null||l===void 0?void 0:l.end)!==!1,T0=C0===x.length-1;if(u(U0)){let C$=function(q0){if(q0&&q0.name!=="AbortError"&&q0.code!=="ERR_STREAM_PREMATURE_CLOSE")b0(q0)};var t=C$;if(H0){let{destroy:q0,cleanup:I0}=U(U0,D0,a0);if(m.push(q0),v(U0)&&T0)o.push(I0)}if(U0.on("error",C$),v(U0)&&T0)o.push(()=>{U0.removeListener("error",C$)})}if(C0===0)if(typeof U0==="function"){if($0=U0({signal:z0}),!f($0))throw new I("Iterable, AsyncIterable or Stream","source",$0)}else if(f(U0)||c(U0)||Z0(U0))$0=U0;else $0=T.from(U0);else if(typeof U0==="function"){if(Z0($0)){var i;$0=C((i=$0)===null||i===void 0?void 0:i.readable)}else $0=C($0);if($0=U0($0,{signal:z0}),D0){if(!f($0,!0))throw new I("AsyncIterable",`transform[${C0-1}]`,$0)}else{var Y0;if(!J)J=FD();let C$=new J({objectMode:!0}),q0=(Y0=$0)===null||Y0===void 0?void 0:Y0.then;if(typeof q0==="function")n++,q0.call($0,(F0)=>{if(a=F0,F0!=null)C$.write(F0);if(H0)C$.end();X.nextTick(b0)},(F0)=>{C$.destroy(F0),X.nextTick(b0,F0)});else if(f($0,!0))n++,L($0,C$,b0,{end:H0});else if(p($0)||Z0($0)){let F0=$0.readable||$0;n++,L(F0,C$,b0,{end:H0})}else throw new I("AsyncIterable or Promise","destination",$0);$0=C$;let{destroy:I0,cleanup:p$}=U($0,!1,!0);if(m.push(I0),T0)o.push(p$)}}else if(u(U0)){if(c($0)){n+=2;let C$=B($0,U0,b0,{end:H0});if(v(U0)&&T0)o.push(C$)}else if(Z0($0)||p($0)){let C$=$0.readable||$0;n++,L(C$,U0,b0,{end:H0})}else if(f($0))n++,L($0,U0,b0,{end:H0});else throw new M("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],$0);$0=U0}else if(e(U0)){if(c($0))n++,W(C($0),U0,b0,{end:H0});else if(p($0)||f($0))n++,W($0,U0,b0,{end:H0});else if(Z0($0))n++,W($0.readable,U0,b0,{end:H0});else throw new M("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],$0);$0=U0}else $0=T.from(U0)}if(z0!==null&&z0!==void 0&&z0.aborted||d!==null&&d!==void 0&&d.aborted)X.nextTick(R0);return $0}function B(x,b,l,{end:r}){let z0=!1;if(b.on("close",()=>{if(!z0)l(new j)}),x.pipe(b,{end:!1}),r){let o=function(){z0=!0,b.end()};var d=o;if(s(x))X.nextTick(o);else x.once("end",o)}else l();return H(x,{readable:!0,writable:!1},(o)=>{let R0=x._readableState;if(o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&R0&&R0.ended&&!R0.errored&&!R0.errorEmitted)x.once("end",l).once("error",l);else l(o)}),H(b,{readable:!1,writable:!0},l)}Q.exports={pipelineImpl:_,pipeline:q}}),RD=E$(($,Q)=>{var{pipeline:X}=SO(),Z=ZY(),{destroyer:Y}=OG(),{isNodeStream:V,isReadable:G,isWritable:H,isWebStream:D,isTransformStream:A,isWritableStream:T,isReadableStream:F}=YY(),{AbortError:M,codes:{ERR_INVALID_ARG_VALUE:I,ERR_MISSING_ARGS:P}}=oQ(),S=uY();Q.exports=function j(...N){if(N.length===0)throw new P("streams");if(N.length===1)return Z.from(N[0]);let w=[...N];if(typeof N[0]==="function")N[0]=Z.from(N[0]);if(typeof N[N.length-1]==="function"){let J=N.length-1;N[J]=Z.from(N[J])}for(let J=0;J<N.length;++J){if(!V(N[J])&&!D(N[J]))continue;if(J<N.length-1&&!(G(N[J])||F(N[J])||A(N[J])))throw new I(`streams[${J}]`,w[J],"must be readable");if(J>0&&!(H(N[J])||T(N[J])||A(N[J])))throw new I(`streams[${J}]`,w[J],"must be writable")}let k,f,v,c,u;function Z0(J){let K=c;if(c=null,K)K(J);else if(J)u.destroy(J);else if(!E&&!s)u.destroy()}let e=N[0],p=X(N,Z0),s=!!(H(e)||T(e)||A(e)),E=!!(G(p)||F(p)||A(p));if(u=new Z({writableObjectMode:!!(e!==null&&e!==void 0&&e.writableObjectMode),readableObjectMode:!!(p!==null&&p!==void 0&&p.readableObjectMode),writable:s,readable:E}),s){if(V(e))u._write=function(K,O,U){if(e.write(K,O))U();else k=U},u._final=function(K){e.end(),f=K},e.on("drain",function(){if(k){let K=k;k=null,K()}});else if(D(e)){let K=(A(e)?e.writable:e).getWriter();u._write=async function(O,U,z){try{await K.ready,K.write(O).catch(()=>{}),z()}catch(C){z(C)}},u._final=async function(O){try{await K.ready,K.close().catch(()=>{}),f=O}catch(U){O(U)}}}let J=A(p)?p.readable:p;S(J,()=>{if(f){let K=f;f=null,K()}})}if(E){if(V(p))p.on("readable",function(){if(v){let J=v;v=null,J()}}),p.on("end",function(){u.push(null)}),u._read=function(){while(!0){let J=p.read();if(J===null){v=u._read;return}if(!u.push(J))return}};else if(D(p)){let J=(A(p)?p.readable:p).getReader();u._read=async function(){while(!0)try{let{value:K,done:O}=await J.read();if(!u.push(K))return;if(O){u.push(null);return}}catch{return}}}}return u._destroy=function(J,K){if(!J&&c!==null)J=new M;if(v=null,k=null,f=null,c===null)K(J);else if(c=K,V(p))Y(p,J)},u}}),JP=E$(($,Q)=>{var X=globalThis.AbortController||nW().AbortController,{codes:{ERR_INVALID_ARG_VALUE:Z,ERR_INVALID_ARG_TYPE:Y,ERR_MISSING_ARGS:V,ERR_OUT_OF_RANGE:G},AbortError:H}=oQ(),{validateAbortSignal:D,validateInteger:A,validateObject:T}=sW(),F=f$().Symbol("kWeak"),M=f$().Symbol("kResistStopPropagation"),{finished:I}=uY(),P=RD(),{addAbortSignalNoValidate:S}=OU(),{isWritable:j,isNodeStream:N}=YY(),{deprecate:w}=YX(),{ArrayPrototypePush:k,Boolean:f,MathFloor:v,Number:c,NumberIsNaN:u,Promise:Z0,PromiseReject:e,PromiseResolve:p,PromisePrototypeThen:s,Symbol:E}=f$(),J=E("kEmpty"),K=E("kEof");function O(d,o){if(o!=null)T(o,"options");if((o===null||o===void 0?void 0:o.signal)!=null)D(o.signal,"options.signal");if(N(d)&&!j(d))throw new Z("stream",d,"must be writable");let R0=P(this,d);if(o!==null&&o!==void 0&&o.signal)S(o.signal,R0);return R0}function U(d,o){if(typeof d!=="function")throw new Y("fn",["Function","AsyncFunction"],d);if(o!=null)T(o,"options");if((o===null||o===void 0?void 0:o.signal)!=null)D(o.signal,"options.signal");let R0=1;if((o===null||o===void 0?void 0:o.concurrency)!=null)R0=v(o.concurrency);let G0=R0-1;if((o===null||o===void 0?void 0:o.highWaterMark)!=null)G0=v(o.highWaterMark);return A(R0,"options.concurrency",1),A(G0,"options.highWaterMark",0),G0+=R0,async function*W0(){let a=YX().AbortSignalAny([o===null||o===void 0?void 0:o.signal].filter(f)),m=this,n=[],b0={signal:a},Q0,$0,t=!1,i=0;function Y0(){t=!0,C0()}function C0(){i-=1,U0()}function U0(){if($0&&!t&&i<R0&&n.length<G0)$0(),$0=null}async function D0(){try{for await(let a0 of m){if(t)return;if(a.aborted)throw new H;try{if(a0=d(a0,b0),a0===J)continue;a0=p(a0)}catch(H0){a0=e(H0)}if(i+=1,s(a0,C0,Y0),n.push(a0),Q0)Q0(),Q0=null;if(!t&&(n.length>=G0||i>=R0))await new Z0((H0)=>{$0=H0})}n.push(K)}catch(a0){let H0=e(a0);s(H0,C0,Y0),n.push(H0)}finally{if(t=!0,Q0)Q0(),Q0=null}}D0();try{while(!0){while(n.length>0){let a0=await n[0];if(a0===K)return;if(a.aborted)throw new H;if(a0!==J)yield a0;n.shift(),U0()}await new Z0((a0)=>{Q0=a0})}}finally{if(t=!0,$0)$0(),$0=null}}.call(this)}function z(d=void 0){if(d!=null)T(d,"options");if((d===null||d===void 0?void 0:d.signal)!=null)D(d.signal,"options.signal");return async function*o(){let R0=0;for await(let W0 of this){var G0;if(d!==null&&d!==void 0&&(G0=d.signal)!==null&&G0!==void 0&&G0.aborted)throw new H({cause:d.signal.reason});yield[R0++,W0]}}.call(this)}async function C(d,o=void 0){for await(let R0 of q.call(this,d,o))return!0;return!1}async function R(d,o=void 0){if(typeof d!=="function")throw new Y("fn",["Function","AsyncFunction"],d);return!await C.call(this,async(...R0)=>{return!await d(...R0)},o)}async function L(d,o){for await(let R0 of q.call(this,d,o))return R0;return}async function W(d,o){if(typeof d!=="function")throw new Y("fn",["Function","AsyncFunction"],d);async function R0(G0,W0){return await d(G0,W0),J}for await(let G0 of U.call(this,R0,o));}function q(d,o){if(typeof d!=="function")throw new Y("fn",["Function","AsyncFunction"],d);async function R0(G0,W0){if(await d(G0,W0))return G0;return J}return U.call(this,R0,o)}class _ extends V{constructor(){super("reduce");this.message="Reduce of an empty stream requires an initial value"}}async function B(d,o,R0){var G0;if(typeof d!=="function")throw new Y("reducer",["Function","AsyncFunction"],d);if(R0!=null)T(R0,"options");if((R0===null||R0===void 0?void 0:R0.signal)!=null)D(R0.signal,"options.signal");let W0=arguments.length>1;if(R0!==null&&R0!==void 0&&(G0=R0.signal)!==null&&G0!==void 0&&G0.aborted){let Q0=new H(void 0,{cause:R0.signal.reason});throw this.once("error",()=>{}),await I(this.destroy(Q0)),Q0}let a=new X,m=a.signal;if(R0!==null&&R0!==void 0&&R0.signal){let Q0={once:!0,[F]:this,[M]:!0};R0.signal.addEventListener("abort",()=>a.abort(),Q0)}let n=!1;try{for await(let Q0 of this){var b0;if(n=!0,R0!==null&&R0!==void 0&&(b0=R0.signal)!==null&&b0!==void 0&&b0.aborted)throw new H;if(!W0)o=Q0,W0=!0;else o=await d(o,Q0,{signal:m})}if(!n&&!W0)throw new _}finally{a.abort()}return o}async function x(d){if(d!=null)T(d,"options");if((d===null||d===void 0?void 0:d.signal)!=null)D(d.signal,"options.signal");let o=[];for await(let G0 of this){var R0;if(d!==null&&d!==void 0&&(R0=d.signal)!==null&&R0!==void 0&&R0.aborted)throw new H(void 0,{cause:d.signal.reason});k(o,G0)}return o}function b(d,o){let R0=U.call(this,d,o);return async function*G0(){for await(let W0 of R0)yield*W0}.call(this)}function l(d){if(d=c(d),u(d))return 0;if(d<0)throw new G("number",">= 0",d);return d}function r(d,o=void 0){if(o!=null)T(o,"options");if((o===null||o===void 0?void 0:o.signal)!=null)D(o.signal,"options.signal");return d=l(d),async function*R0(){var G0;if(o!==null&&o!==void 0&&(G0=o.signal)!==null&&G0!==void 0&&G0.aborted)throw new H;for await(let a of this){var W0;if(o!==null&&o!==void 0&&(W0=o.signal)!==null&&W0!==void 0&&W0.aborted)throw new H;if(d--<=0)yield a}}.call(this)}function z0(d,o=void 0){if(o!=null)T(o,"options");if((o===null||o===void 0?void 0:o.signal)!=null)D(o.signal,"options.signal");return d=l(d),async function*R0(){var G0;if(o!==null&&o!==void 0&&(G0=o.signal)!==null&&G0!==void 0&&G0.aborted)throw new H;for await(let a of this){var W0;if(o!==null&&o!==void 0&&(W0=o.signal)!==null&&W0!==void 0&&W0.aborted)throw new H;if(d-- >0)yield a;if(d<=0)return}}.call(this)}Q.exports.streamReturningOperators={asIndexedPairs:w(z,"readable.asIndexedPairs will be removed in a future version."),drop:r,filter:q,flatMap:b,map:U,take:z0,compose:O},Q.exports.promiseReturningOperators={every:R,forEach:W,reduce:B,toArray:x,some:C,find:L}}),ED=E$(($,Q)=>{var{ArrayPrototypePop:X,Promise:Z}=f$(),{isIterable:Y,isNodeStream:V,isWebStream:G}=YY(),{pipelineImpl:H}=SO(),{finished:D}=uY();ID();function A(...T){return new Z((F,M)=>{let I,P,S=T[T.length-1];if(S&&typeof S==="object"&&!V(S)&&!Y(S)&&!G(S)){let j=X(T);I=j.signal,P=j.end}H(T,(j,N)=>{if(j)M(j);else F(N)},{signal:I,end:P})})}Q.exports={finished:D,pipeline:A}}),ID=E$(($,Q)=>{var{Buffer:X}=(y$(),$$(g$)),{ObjectDefineProperty:Z,ObjectKeys:Y,ReflectApply:V}=f$(),{promisify:{custom:G}}=YX(),{streamReturningOperators:H,promiseReturningOperators:D}=JP(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:A}}=oQ(),T=RD(),{setDefaultHighWaterMark:F,getDefaultHighWaterMark:M}=zU(),{pipeline:I}=SO(),{destroyer:P}=OG(),S=uY(),j=ED(),N=YY(),w=Q.exports=IO().Stream;w.isDestroyed=N.isDestroyed,w.isDisturbed=N.isDisturbed,w.isErrored=N.isErrored,w.isReadable=N.isReadable,w.isWritable=N.isWritable,w.Readable=HU();for(let f of Y(H)){let v=function(...u){if(new.target)throw A();return w.Readable.from(V(c,this,u))},c=H[f];Z(v,"name",{__proto__:null,value:c.name}),Z(v,"length",{__proto__:null,value:c.length}),Z(w.Readable.prototype,f,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}for(let f of Y(D)){let v=function(...u){if(new.target)throw A();return V(c,this,u)},c=D[f];Z(v,"name",{__proto__:null,value:c.name}),Z(v,"length",{__proto__:null,value:c.length}),Z(w.Readable.prototype,f,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}w.Writable=PO(),w.Duplex=ZY(),w.Transform=TD(),w.PassThrough=FD(),w.pipeline=I;var{addAbortSignal:k}=OU();w.addAbortSignal=k,w.finished=S,w.destroy=P,w.compose=T,w.setDefaultHighWaterMark=F,w.getDefaultHighWaterMark=M,Z(w,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return j}}),Z(I,G,{__proto__:null,enumerable:!0,get(){return j.pipeline}}),Z(S,G,{__proto__:null,enumerable:!0,get(){return j.finished}}),w.Stream=w,w._isUint8Array=function f(v){return v instanceof Uint8Array},w._uint8ArrayToBuffer=function f(v){return X.from(v.buffer,v.byteOffset,v.byteLength)}}),GP=E$(($,Q)=>{var X=BO();{let Z=ID(),Y=ED(),V=Z.Readable.destroy;Q.exports=Z.Readable,Q.exports._uint8ArrayToBuffer=Z._uint8ArrayToBuffer,Q.exports._isUint8Array=Z._isUint8Array,Q.exports.isDisturbed=Z.isDisturbed,Q.exports.isErrored=Z.isErrored,Q.exports.isReadable=Z.isReadable,Q.exports.Readable=Z.Readable,Q.exports.Writable=Z.Writable,Q.exports.Duplex=Z.Duplex,Q.exports.Transform=Z.Transform,Q.exports.PassThrough=Z.PassThrough,Q.exports.addAbortSignal=Z.addAbortSignal,Q.exports.finished=Z.finished,Q.exports.destroy=Z.destroy,Q.exports.destroy=V,Q.exports.pipeline=Z.pipeline,Q.exports.compose=Z.compose,Object.defineProperty(Z,"promises",{configurable:!0,enumerable:!0,get(){return Y}}),Q.exports.Stream=Z.Stream}Q.exports.default=Q.exports});PD.exports=GP()});var nQ={};_Z(nQ,{webcrypto:()=>eS,rng:()=>OS,randomUUID:()=>rS,randomFillSync:()=>lS,randomFill:()=>dS,randomBytes:()=>zS,publicEncrypt:()=>pS,publicDecrypt:()=>mS,pseudoRandomBytes:()=>KS,prng:()=>US,privateEncrypt:()=>cS,privateDecrypt:()=>uS,pbkdf2Sync:()=>CS,pbkdf2:()=>AS,listCiphers:()=>NS,getRandomValues:()=>iS,getHashes:()=>MS,getDiffieHellman:()=>xS,getCurves:()=>tS,getCiphers:()=>jS,default:()=>$3,createVerify:()=>yS,createSign:()=>vS,createHmac:()=>qS,createHash:()=>LS,createECDH:()=>bS,createDiffieHellmanGroup:()=>_S,createDiffieHellman:()=>kS,createDecipheriv:()=>BS,createDecipher:()=>PS,createCredentials:()=>oS,createCipheriv:()=>ES,createCipher:()=>FS,constants:()=>nS,Verify:()=>hS,Sign:()=>gS,Hmac:()=>DS,Hash:()=>HS,DiffieHellmanGroup:()=>wS,DiffieHellman:()=>fS,Decipheriv:()=>SS,Decipher:()=>IS,DEFAULT_ENCODING:()=>sS,Cipheriv:()=>RS,Cipher:()=>TS});function tS(){return aS}var WP,VP,SD,UP,KP,OP=($,Q,X)=>{X=$!=null?WP(VP($)):{};let Z=Q||!$||!$.__esModule?SD(X,"default",{value:$,enumerable:!0}):X;for(let Y of UP($))if(!KP.call(Z,Y))SD(Z,Y,{get:()=>$[Y],enumerable:!0});return Z},m0=($,Q)=>()=>(Q||$((Q={exports:{}}).exports,Q),Q.exports),LU,DU,jD,zP,NO,wO,JX,_O,ND,HP,wD,LP,DP,qP,MP,JY,dY,_D,hX,xD,qU,AP,CX,CP,TP,FP,kD,BZ,rW,fD,RP,vD,EP,gD,IP,PP,SP,BP,xO,jP,kO,NP,wP,_P,xP,kP,fP,vP,gP,yP,hP,bP,pP,cP,mP,BD,uP,iW,dP,yD,hD,lP,oP,bD,nP,sP,aW,iP,rP,aP,tP,eP,$S,pD,QS,cD,mD,uD,fO,dD,XS,lD,ZS,YS,jO,JS,GS,WS,VS,J$,US,KS,OS,zS,HS,LS,DS,qS,MS,AS,CS,TS,FS,RS,ES,IS,PS,SS,BS,jS,NS,wS,_S,xS,kS,fS,vS,gS,yS,hS,bS,pS,cS,mS,uS,dS,lS,oS,nS,sS="buffer",iS=($)=>{return crypto.getRandomValues($)},rS=()=>{return crypto.randomUUID()},aS,eS,$3;var sQ=K0(()=>{WP=Object.create,{getPrototypeOf:VP,defineProperty:SD,getOwnPropertyNames:UP}=Object,KP=Object.prototype.hasOwnProperty,LU=m0(($,Q)=>{Q.exports=(sQ(),$$(nQ)).randomBytes}),DU=m0(($,Q)=>{Q.exports=(sQ(),$$(nQ)).createHash}),jD=m0(($,Q)=>{Q.exports=(sQ(),$$(nQ)).createHmac}),zP=m0(($,Q)=>{Q.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}}),NO=m0(($,Q)=>{var X=Math.pow(2,30)-1;Q.exports=function(Z,Y){if(typeof Z!=="number")throw new TypeError("Iterations not a number");if(Z<0)throw new TypeError("Bad iterations");if(typeof Y!=="number")throw new TypeError("Key length not a number");if(Y<0||Y>X||Y!==Y)throw new TypeError("Bad key length")}}),wO=m0(($,Q)=>{var X;if(globalThis.process&&globalThis.process.browser)X="utf-8";else if(globalThis.process&&globalThis.process.version)Z=parseInt(process.version.split(".")[0].slice(1),10),X=Z>=6?"utf-8":"binary";else X="utf-8";var Z;Q.exports=X}),JX=m0(($,Q)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var X=(y$(),$$(g$)),Z=X.Buffer;function Y(G,H){for(var D in G)H[D]=G[D]}if(Z.from&&Z.alloc&&Z.allocUnsafe&&Z.allocUnsafeSlow)Q.exports=X;else Y(X,$),$.Buffer=V;function V(G,H,D){return Z(G,H,D)}V.prototype=Object.create(Z.prototype),Y(Z,V),V.from=function(G,H,D){if(typeof G==="number")throw new TypeError("Argument must not be a number");return Z(G,H,D)},V.alloc=function(G,H,D){if(typeof G!=="number")throw new TypeError("Argument must be a number");var A=Z(G);if(H!==void 0)if(typeof D==="string")A.fill(H,D);else A.fill(H);else A.fill(0);return A},V.allocUnsafe=function(G){if(typeof G!=="number")throw new TypeError("Argument must be a number");return Z(G)},V.allocUnsafeSlow=function(G){if(typeof G!=="number")throw new TypeError("Argument must be a number");return X.SlowBuffer(G)}}),_O=m0(($,Q)=>{var X=JX().Buffer;Q.exports=function(Z,Y,V){if(X.isBuffer(Z))return Z;else if(typeof Z==="string")return X.from(Z,Y);else if(ArrayBuffer.isView(Z))return X.from(Z.buffer);else throw new TypeError(V+" must be a string, a Buffer, a typed array or a DataView")}}),ND=m0(($,Q)=>{var X={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20},Z=jD(),Y=JX().Buffer,V=NO(),G=wO(),H=_O();function D(A,T,F,M,I){V(F,M),A=H(A,G,"Password"),T=H(T,G,"Salt"),I=I||"sha1";var P=Y.allocUnsafe(M),S=Y.allocUnsafe(T.length+4);T.copy(S,0,0,T.length);var j=0,N=X[I],w=Math.ceil(M/N);for(var k=1;k<=w;k++){S.writeUInt32BE(k,T.length);var f=Z(I,A).update(S).digest(),v=f;for(var c=1;c<F;c++){v=Z(I,A).update(v).digest();for(var u=0;u<N;u++)f[u]^=v[u]}f.copy(P,j),j+=N}return P}Q.exports=D}),HP=m0(($,Q)=>{var X=JX().Buffer,Z=NO(),Y=wO(),V=ND(),G=_O(),H,D=globalThis.crypto&&globalThis.crypto.subtle,A={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},T=[];function F(j){if(globalThis.process&&!globalThis.process.browser)return Promise.resolve(!1);if(!D||!D.importKey||!D.deriveBits)return Promise.resolve(!1);if(T[j]!==void 0)return T[j];H=H||X.alloc(8);var N=P(H,H,10,128,j).then(function(){return!0}).catch(function(){return!1});return T[j]=N,N}var M;function I(){if(M)return M;if(globalThis.process&&globalThis.process.nextTick)M=globalThis.process.nextTick;else if(globalThis.queueMicrotask)M=globalThis.queueMicrotask;else if(globalThis.setImmediate)M=globalThis.setImmediate;else M=globalThis.setTimeout;return M}function P(j,N,w,k,f){return D.importKey("raw",j,{name:"PBKDF2"},!1,["deriveBits"]).then(function(v){return D.deriveBits({name:"PBKDF2",salt:N,iterations:w,hash:{name:f}},v,k<<3)}).then(function(v){return X.from(v)})}function S(j,N){j.then(function(w){I()(function(){N(null,w)})},function(w){I()(function(){N(w)})})}Q.exports=function(j,N,w,k,f,v){if(typeof f==="function")v=f,f=void 0;f=f||"sha1";var c=A[f.toLowerCase()];if(!c||typeof globalThis.Promise!=="function"){I()(function(){var u;try{u=V(j,N,w,k,f)}catch(Z0){return v(Z0)}v(null,u)});return}if(Z(w,k),j=G(j,Y,"Password"),N=G(N,Y,"Salt"),typeof v!=="function")throw new Error("No callback provided to pbkdf2");S(F(c).then(function(u){if(u)return P(j,N,w,k,c);return V(j,N,w,k,f)}),v)}}),wD=m0(($)=>{var Q=(sQ(),$$(nQ)),X=NO(),Z=wO(),Y=_O();function V(H,D,A,T,F,M){if(X(A,T),H=Y(H,Z,"Password"),D=Y(D,Z,"Salt"),typeof F==="function")M=F,F="sha1";if(typeof M!=="function")throw new Error("No callback provided to pbkdf2");return Q.pbkdf2(H,D,A,T,F,M)}function G(H,D,A,T,F){return X(A,T),H=Y(H,Z,"Password"),D=Y(D,Z,"Salt"),F=F||"sha1",Q.pbkdf2Sync(H,D,A,T,F)}if(!Q.pbkdf2Sync||Q.pbkdf2Sync.toString().indexOf("keylen, digest")===-1)$.pbkdf2Sync=ND(),$.pbkdf2=HP();else $.pbkdf2Sync=G,$.pbkdf2=V}),LP=m0(($)=>{var Q=(sQ(),$$(nQ));$.createCipher=$.Cipher=Q.createCipher,$.createCipheriv=$.Cipheriv=Q.createCipheriv,$.createDecipher=$.Decipher=Q.createDecipher,$.createDecipheriv=$.Decipheriv=Q.createDecipheriv,$.listCiphers=$.getCiphers=Q.getCiphers}),DP=m0(($)=>{var Q=(sQ(),$$(nQ));$.DiffieHellmanGroup=Q.DiffieHellmanGroup,$.createDiffieHellmanGroup=Q.createDiffieHellmanGroup,$.getDiffieHellman=Q.getDiffieHellman,$.createDiffieHellman=Q.createDiffieHellman,$.DiffieHellman=Q.DiffieHellman}),qP=m0(($)=>{var Q=(sQ(),$$(nQ));$.createSign=Q.createSign,$.Sign=Q.Sign,$.createVerify=Q.createVerify,$.Verify=Q.Verify}),MP=m0(($,Q)=>{Q.exports={name:"elliptic",version:"6.6.1",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}}),JY=m0(($,Q)=>{(function(X,Z){function Y(E,J){if(!E)throw new Error(J||"Assertion failed")}function V(E,J){E.super_=J;var K=function(){};K.prototype=J.prototype,E.prototype=new K,E.prototype.constructor=E}function G(E,J,K){if(G.isBN(E))return E;if(this.negative=0,this.words=null,this.length=0,this.red=null,E!==null){if(J==="le"||J==="be")K=J,J=10;this._init(E||0,J||10,K||"be")}}if(typeof X==="object")X.exports=G;else Z.BN=G;G.BN=G,G.wordSize=26;var H;try{if(typeof window!=="undefined"&&typeof window.Buffer!=="undefined")H=window.Buffer;else H=(y$(),$$(g$)).Buffer}catch(E){}G.isBN=function E(J){if(J instanceof G)return!0;return J!==null&&typeof J==="object"&&J.constructor.wordSize===G.wordSize&&Array.isArray(J.words)},G.max=function E(J,K){if(J.cmp(K)>0)return J;return K},G.min=function E(J,K){if(J.cmp(K)<0)return J;return K},G.prototype._init=function E(J,K,O){if(typeof J==="number")return this._initNumber(J,K,O);if(typeof J==="object")return this._initArray(J,K,O);if(K==="hex")K=16;Y(K===(K|0)&&K>=2&&K<=36),J=J.toString().replace(/\s+/g,"");var U=0;if(J[0]==="-")U++,this.negative=1;if(U<J.length){if(K===16)this._parseHex(J,U,O);else if(this._parseBase(J,K,U),O==="le")this._initArray(this.toArray(),K,O)}},G.prototype._initNumber=function E(J,K,O){if(J<0)this.negative=1,J=-J;if(J<67108864)this.words=[J&67108863],this.length=1;else if(J<4503599627370496)this.words=[J&67108863,J/67108864&67108863],this.length=2;else Y(J<9007199254740992),this.words=[J&67108863,J/67108864&67108863,1],this.length=3;if(O!=="le")return;this._initArray(this.toArray(),K,O)},G.prototype._initArray=function E(J,K,O){if(Y(typeof J.length==="number"),J.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(J.length/3),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var z,C,R=0;if(O==="be"){for(U=J.length-1,z=0;U>=0;U-=3)if(C=J[U]|J[U-1]<<8|J[U-2]<<16,this.words[z]|=C<<R&67108863,this.words[z+1]=C>>>26-R&67108863,R+=24,R>=26)R-=26,z++}else if(O==="le"){for(U=0,z=0;U<J.length;U+=3)if(C=J[U]|J[U+1]<<8|J[U+2]<<16,this.words[z]|=C<<R&67108863,this.words[z+1]=C>>>26-R&67108863,R+=24,R>=26)R-=26,z++}return this.strip()};function D(E,J){var K=E.charCodeAt(J);if(K>=65&&K<=70)return K-55;else if(K>=97&&K<=102)return K-87;else return K-48&15}function A(E,J,K){var O=D(E,K);if(K-1>=J)O|=D(E,K-1)<<4;return O}G.prototype._parseHex=function E(J,K,O){this.length=Math.ceil((J.length-K)/6),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var z=0,C=0,R;if(O==="be")for(U=J.length-1;U>=K;U-=2)if(R=A(J,K,U)<<z,this.words[C]|=R&67108863,z>=18)z-=18,C+=1,this.words[C]|=R>>>26;else z+=8;else{var L=J.length-K;for(U=L%2===0?K+1:K;U<J.length;U+=2)if(R=A(J,K,U)<<z,this.words[C]|=R&67108863,z>=18)z-=18,C+=1,this.words[C]|=R>>>26;else z+=8}this.strip()};function T(E,J,K,O){var U=0,z=Math.min(E.length,K);for(var C=J;C<z;C++){var R=E.charCodeAt(C)-48;if(U*=O,R>=49)U+=R-49+10;else if(R>=17)U+=R-17+10;else U+=R}return U}G.prototype._parseBase=function E(J,K,O){this.words=[0],this.length=1;for(var U=0,z=1;z<=67108863;z*=K)U++;U--,z=z/K|0;var C=J.length-O,R=C%U,L=Math.min(C,C-R)+O,W=0;for(var q=O;q<L;q+=U)if(W=T(J,q,q+U,K),this.imuln(z),this.words[0]+W<67108864)this.words[0]+=W;else this._iaddn(W);if(R!==0){var _=1;W=T(J,q,J.length,K);for(q=0;q<R;q++)_*=K;if(this.imuln(_),this.words[0]+W<67108864)this.words[0]+=W;else this._iaddn(W)}this.strip()},G.prototype.copy=function E(J){J.words=new Array(this.length);for(var K=0;K<this.length;K++)J.words[K]=this.words[K];J.length=this.length,J.negative=this.negative,J.red=this.red},G.prototype.clone=function E(){var J=new G(null);return this.copy(J),J},G.prototype._expand=function E(J){while(this.length<J)this.words[this.length++]=0;return this},G.prototype.strip=function E(){while(this.length>1&&this.words[this.length-1]===0)this.length--;return this._normSign()},G.prototype._normSign=function E(){if(this.length===1&&this.words[0]===0)this.negative=0;return this},G.prototype.inspect=function E(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var F=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],M=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],I=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];if(G.prototype.toString=function E(J,K){J=J||10,K=K|0||1;var O;if(J===16||J==="hex"){O="";var U=0,z=0;for(var C=0;C<this.length;C++){var R=this.words[C],L=((R<<U|z)&16777215).toString(16);if(z=R>>>24-U&16777215,U+=2,U>=26)U-=26,C--;if(z!==0||C!==this.length-1)O=F[6-L.length]+L+O;else O=L+O}if(z!==0)O=z.toString(16)+O;while(O.length%K!==0)O="0"+O;if(this.negative!==0)O="-"+O;return O}if(J===(J|0)&&J>=2&&J<=36){var W=M[J],q=I[J];O="";var _=this.clone();_.negative=0;while(!_.isZero()){var B=_.modn(q).toString(J);if(_=_.idivn(q),!_.isZero())O=F[W-B.length]+B+O;else O=B+O}if(this.isZero())O="0"+O;while(O.length%K!==0)O="0"+O;if(this.negative!==0)O="-"+O;return O}Y(!1,"Base should be between 2 and 36")},G.prototype.toNumber=function E(){var J=this.words[0];if(this.length===2)J+=this.words[1]*67108864;else if(this.length===3&&this.words[2]===1)J+=4503599627370496+this.words[1]*67108864;else if(this.length>2)Y(!1,"Number can only safely store up to 53 bits");return this.negative!==0?-J:J},G.prototype.toJSON=function E(){return this.toString(16)},G.prototype.toBuffer=function E(J,K){return Y(typeof H!=="undefined"),this.toArrayLike(H,J,K)},G.prototype.toArray=function E(J,K){return this.toArrayLike(Array,J,K)},G.prototype.toArrayLike=function E(J,K,O){var U=this.byteLength(),z=O||Math.max(1,U);Y(U<=z,"byte array longer than desired length"),Y(z>0,"Requested array length <= 0"),this.strip();var C=K==="le",R=new J(z),L,W,q=this.clone();if(!C){for(W=0;W<z-U;W++)R[W]=0;for(W=0;!q.isZero();W++)L=q.andln(255),q.iushrn(8),R[z-W-1]=L}else{for(W=0;!q.isZero();W++)L=q.andln(255),q.iushrn(8),R[W]=L;for(;W<z;W++)R[W]=0}return R},Math.clz32)G.prototype._countBits=function E(J){return 32-Math.clz32(J)};else G.prototype._countBits=function E(J){var K=J,O=0;if(K>=4096)O+=13,K>>>=13;if(K>=64)O+=7,K>>>=7;if(K>=8)O+=4,K>>>=4;if(K>=2)O+=2,K>>>=2;return O+K};G.prototype._zeroBits=function E(J){if(J===0)return 26;var K=J,O=0;if((K&8191)===0)O+=13,K>>>=13;if((K&127)===0)O+=7,K>>>=7;if((K&15)===0)O+=4,K>>>=4;if((K&3)===0)O+=2,K>>>=2;if((K&1)===0)O++;return O},G.prototype.bitLength=function E(){var J=this.words[this.length-1],K=this._countBits(J);return(this.length-1)*26+K};function P(E){var J=new Array(E.bitLength());for(var K=0;K<J.length;K++){var O=K/26|0,U=K%26;J[K]=(E.words[O]&1<<U)>>>U}return J}G.prototype.zeroBits=function E(){if(this.isZero())return 0;var J=0;for(var K=0;K<this.length;K++){var O=this._zeroBits(this.words[K]);if(J+=O,O!==26)break}return J},G.prototype.byteLength=function E(){return Math.ceil(this.bitLength()/8)},G.prototype.toTwos=function E(J){if(this.negative!==0)return this.abs().inotn(J).iaddn(1);return this.clone()},G.prototype.fromTwos=function E(J){if(this.testn(J-1))return this.notn(J).iaddn(1).ineg();return this.clone()},G.prototype.isNeg=function E(){return this.negative!==0},G.prototype.neg=function E(){return this.clone().ineg()},G.prototype.ineg=function E(){if(!this.isZero())this.negative^=1;return this},G.prototype.iuor=function E(J){while(this.length<J.length)this.words[this.length++]=0;for(var K=0;K<J.length;K++)this.words[K]=this.words[K]|J.words[K];return this.strip()},G.prototype.ior=function E(J){return Y((this.negative|J.negative)===0),this.iuor(J)},G.prototype.or=function E(J){if(this.length>J.length)return this.clone().ior(J);return J.clone().ior(this)},G.prototype.uor=function E(J){if(this.length>J.length)return this.clone().iuor(J);return J.clone().iuor(this)},G.prototype.iuand=function E(J){var K;if(this.length>J.length)K=J;else K=this;for(var O=0;O<K.length;O++)this.words[O]=this.words[O]&J.words[O];return this.length=K.length,this.strip()},G.prototype.iand=function E(J){return Y((this.negative|J.negative)===0),this.iuand(J)},G.prototype.and=function E(J){if(this.length>J.length)return this.clone().iand(J);return J.clone().iand(this)},G.prototype.uand=function E(J){if(this.length>J.length)return this.clone().iuand(J);return J.clone().iuand(this)},G.prototype.iuxor=function E(J){var K,O;if(this.length>J.length)K=this,O=J;else K=J,O=this;for(var U=0;U<O.length;U++)this.words[U]=K.words[U]^O.words[U];if(this!==K)for(;U<K.length;U++)this.words[U]=K.words[U];return this.length=K.length,this.strip()},G.prototype.ixor=function E(J){return Y((this.negative|J.negative)===0),this.iuxor(J)},G.prototype.xor=function E(J){if(this.length>J.length)return this.clone().ixor(J);return J.clone().ixor(this)},G.prototype.uxor=function E(J){if(this.length>J.length)return this.clone().iuxor(J);return J.clone().iuxor(this)},G.prototype.inotn=function E(J){Y(typeof J==="number"&&J>=0);var K=Math.ceil(J/26)|0,O=J%26;if(this._expand(K),O>0)K--;for(var U=0;U<K;U++)this.words[U]=~this.words[U]&67108863;if(O>0)this.words[U]=~this.words[U]&67108863>>26-O;return this.strip()},G.prototype.notn=function E(J){return this.clone().inotn(J)},G.prototype.setn=function E(J,K){Y(typeof J==="number"&&J>=0);var O=J/26|0,U=J%26;if(this._expand(O+1),K)this.words[O]=this.words[O]|1<<U;else this.words[O]=this.words[O]&~(1<<U);return this.strip()},G.prototype.iadd=function E(J){var K;if(this.negative!==0&&J.negative===0)return this.negative=0,K=this.isub(J),this.negative^=1,this._normSign();else if(this.negative===0&&J.negative!==0)return J.negative=0,K=this.isub(J),J.negative=1,K._normSign();var O,U;if(this.length>J.length)O=this,U=J;else O=J,U=this;var z=0;for(var C=0;C<U.length;C++)K=(O.words[C]|0)+(U.words[C]|0)+z,this.words[C]=K&67108863,z=K>>>26;for(;z!==0&&C<O.length;C++)K=(O.words[C]|0)+z,this.words[C]=K&67108863,z=K>>>26;if(this.length=O.length,z!==0)this.words[this.length]=z,this.length++;else if(O!==this)for(;C<O.length;C++)this.words[C]=O.words[C];return this},G.prototype.add=function E(J){var K;if(J.negative!==0&&this.negative===0)return J.negative=0,K=this.sub(J),J.negative^=1,K;else if(J.negative===0&&this.negative!==0)return this.negative=0,K=J.sub(this),this.negative=1,K;if(this.length>J.length)return this.clone().iadd(J);return J.clone().iadd(this)},G.prototype.isub=function E(J){if(J.negative!==0){J.negative=0;var K=this.iadd(J);return J.negative=1,K._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(J),this.negative=1,this._normSign();var O=this.cmp(J);if(O===0)return this.negative=0,this.length=1,this.words[0]=0,this;var U,z;if(O>0)U=this,z=J;else U=J,z=this;var C=0;for(var R=0;R<z.length;R++)K=(U.words[R]|0)-(z.words[R]|0)+C,C=K>>26,this.words[R]=K&67108863;for(;C!==0&&R<U.length;R++)K=(U.words[R]|0)+C,C=K>>26,this.words[R]=K&67108863;if(C===0&&R<U.length&&U!==this)for(;R<U.length;R++)this.words[R]=U.words[R];if(this.length=Math.max(this.length,R),U!==this)this.negative=1;return this.strip()},G.prototype.sub=function E(J){return this.clone().isub(J)};function S(E,J,K){K.negative=J.negative^E.negative;var O=E.length+J.length|0;K.length=O,O=O-1|0;var U=E.words[0]|0,z=J.words[0]|0,C=U*z,R=C&67108863,L=C/67108864|0;K.words[0]=R;for(var W=1;W<O;W++){var q=L>>>26,_=L&67108863,B=Math.min(W,J.length-1);for(var x=Math.max(0,W-E.length+1);x<=B;x++){var b=W-x|0;U=E.words[b]|0,z=J.words[x]|0,C=U*z+_,q+=C/67108864|0,_=C&67108863}K.words[W]=_|0,L=q|0}if(L!==0)K.words[W]=L|0;else K.length--;return K.strip()}var j=function E(J,K,O){var U=J.words,z=K.words,C=O.words,R=0,L,W,q,_=U[0]|0,B=_&8191,x=_>>>13,b=U[1]|0,l=b&8191,r=b>>>13,z0=U[2]|0,d=z0&8191,o=z0>>>13,R0=U[3]|0,G0=R0&8191,W0=R0>>>13,a=U[4]|0,m=a&8191,n=a>>>13,b0=U[5]|0,Q0=b0&8191,$0=b0>>>13,t=U[6]|0,i=t&8191,Y0=t>>>13,C0=U[7]|0,U0=C0&8191,D0=C0>>>13,a0=U[8]|0,H0=a0&8191,T0=a0>>>13,C$=U[9]|0,q0=C$&8191,I0=C$>>>13,p$=z[0]|0,F0=p$&8191,f0=p$>>>13,CQ=z[1]|0,v0=CQ&8191,g0=CQ>>>13,_Q=z[2]|0,w0=_Q&8191,_0=_Q>>>13,xQ=z[3]|0,x0=xQ&8191,S0=xQ>>>13,kQ=z[4]|0,y0=kQ&8191,B0=kQ>>>13,TQ=z[5]|0,g=TQ&8191,y=TQ>>>13,p0=z[6]|0,X0=p0&8191,V0=p0>>>13,T$=z[7]|0,A0=T$&8191,E0=T$>>>13,FQ=z[8]|0,h0=FQ&8191,k0=FQ>>>13,RQ=z[9]|0,j0=RQ&8191,N0=RQ>>>13;O.negative=J.negative^K.negative,O.length=19,L=Math.imul(B,F0),W=Math.imul(B,f0),W=W+Math.imul(x,F0)|0,q=Math.imul(x,f0);var v$=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(v$>>>26)|0,v$&=67108863,L=Math.imul(l,F0),W=Math.imul(l,f0),W=W+Math.imul(r,F0)|0,q=Math.imul(r,f0),L=L+Math.imul(B,v0)|0,W=W+Math.imul(B,g0)|0,W=W+Math.imul(x,v0)|0,q=q+Math.imul(x,g0)|0;var t0=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(t0>>>26)|0,t0&=67108863,L=Math.imul(d,F0),W=Math.imul(d,f0),W=W+Math.imul(o,F0)|0,q=Math.imul(o,f0),L=L+Math.imul(l,v0)|0,W=W+Math.imul(l,g0)|0,W=W+Math.imul(r,v0)|0,q=q+Math.imul(r,g0)|0,L=L+Math.imul(B,w0)|0,W=W+Math.imul(B,_0)|0,W=W+Math.imul(x,w0)|0,q=q+Math.imul(x,_0)|0;var r0=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(r0>>>26)|0,r0&=67108863,L=Math.imul(G0,F0),W=Math.imul(G0,f0),W=W+Math.imul(W0,F0)|0,q=Math.imul(W0,f0),L=L+Math.imul(d,v0)|0,W=W+Math.imul(d,g0)|0,W=W+Math.imul(o,v0)|0,q=q+Math.imul(o,g0)|0,L=L+Math.imul(l,w0)|0,W=W+Math.imul(l,_0)|0,W=W+Math.imul(r,w0)|0,q=q+Math.imul(r,_0)|0,L=L+Math.imul(B,x0)|0,W=W+Math.imul(B,S0)|0,W=W+Math.imul(x,x0)|0,q=q+Math.imul(x,S0)|0;var I$=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(I$>>>26)|0,I$&=67108863,L=Math.imul(m,F0),W=Math.imul(m,f0),W=W+Math.imul(n,F0)|0,q=Math.imul(n,f0),L=L+Math.imul(G0,v0)|0,W=W+Math.imul(G0,g0)|0,W=W+Math.imul(W0,v0)|0,q=q+Math.imul(W0,g0)|0,L=L+Math.imul(d,w0)|0,W=W+Math.imul(d,_0)|0,W=W+Math.imul(o,w0)|0,q=q+Math.imul(o,_0)|0,L=L+Math.imul(l,x0)|0,W=W+Math.imul(l,S0)|0,W=W+Math.imul(r,x0)|0,q=q+Math.imul(r,S0)|0,L=L+Math.imul(B,y0)|0,W=W+Math.imul(B,B0)|0,W=W+Math.imul(x,y0)|0,q=q+Math.imul(x,B0)|0;var i$=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(i$>>>26)|0,i$&=67108863,L=Math.imul(Q0,F0),W=Math.imul(Q0,f0),W=W+Math.imul($0,F0)|0,q=Math.imul($0,f0),L=L+Math.imul(m,v0)|0,W=W+Math.imul(m,g0)|0,W=W+Math.imul(n,v0)|0,q=q+Math.imul(n,g0)|0,L=L+Math.imul(G0,w0)|0,W=W+Math.imul(G0,_0)|0,W=W+Math.imul(W0,w0)|0,q=q+Math.imul(W0,_0)|0,L=L+Math.imul(d,x0)|0,W=W+Math.imul(d,S0)|0,W=W+Math.imul(o,x0)|0,q=q+Math.imul(o,S0)|0,L=L+Math.imul(l,y0)|0,W=W+Math.imul(l,B0)|0,W=W+Math.imul(r,y0)|0,q=q+Math.imul(r,B0)|0,L=L+Math.imul(B,g)|0,W=W+Math.imul(B,y)|0,W=W+Math.imul(x,g)|0,q=q+Math.imul(x,y)|0;var r$=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(r$>>>26)|0,r$&=67108863,L=Math.imul(i,F0),W=Math.imul(i,f0),W=W+Math.imul(Y0,F0)|0,q=Math.imul(Y0,f0),L=L+Math.imul(Q0,v0)|0,W=W+Math.imul(Q0,g0)|0,W=W+Math.imul($0,v0)|0,q=q+Math.imul($0,g0)|0,L=L+Math.imul(m,w0)|0,W=W+Math.imul(m,_0)|0,W=W+Math.imul(n,w0)|0,q=q+Math.imul(n,_0)|0,L=L+Math.imul(G0,x0)|0,W=W+Math.imul(G0,S0)|0,W=W+Math.imul(W0,x0)|0,q=q+Math.imul(W0,S0)|0,L=L+Math.imul(d,y0)|0,W=W+Math.imul(d,B0)|0,W=W+Math.imul(o,y0)|0,q=q+Math.imul(o,B0)|0,L=L+Math.imul(l,g)|0,W=W+Math.imul(l,y)|0,W=W+Math.imul(r,g)|0,q=q+Math.imul(r,y)|0,L=L+Math.imul(B,X0)|0,W=W+Math.imul(B,V0)|0,W=W+Math.imul(x,X0)|0,q=q+Math.imul(x,V0)|0;var a$=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(a$>>>26)|0,a$&=67108863,L=Math.imul(U0,F0),W=Math.imul(U0,f0),W=W+Math.imul(D0,F0)|0,q=Math.imul(D0,f0),L=L+Math.imul(i,v0)|0,W=W+Math.imul(i,g0)|0,W=W+Math.imul(Y0,v0)|0,q=q+Math.imul(Y0,g0)|0,L=L+Math.imul(Q0,w0)|0,W=W+Math.imul(Q0,_0)|0,W=W+Math.imul($0,w0)|0,q=q+Math.imul($0,_0)|0,L=L+Math.imul(m,x0)|0,W=W+Math.imul(m,S0)|0,W=W+Math.imul(n,x0)|0,q=q+Math.imul(n,S0)|0,L=L+Math.imul(G0,y0)|0,W=W+Math.imul(G0,B0)|0,W=W+Math.imul(W0,y0)|0,q=q+Math.imul(W0,B0)|0,L=L+Math.imul(d,g)|0,W=W+Math.imul(d,y)|0,W=W+Math.imul(o,g)|0,q=q+Math.imul(o,y)|0,L=L+Math.imul(l,X0)|0,W=W+Math.imul(l,V0)|0,W=W+Math.imul(r,X0)|0,q=q+Math.imul(r,V0)|0,L=L+Math.imul(B,A0)|0,W=W+Math.imul(B,E0)|0,W=W+Math.imul(x,A0)|0,q=q+Math.imul(x,E0)|0;var t$=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(t$>>>26)|0,t$&=67108863,L=Math.imul(H0,F0),W=Math.imul(H0,f0),W=W+Math.imul(T0,F0)|0,q=Math.imul(T0,f0),L=L+Math.imul(U0,v0)|0,W=W+Math.imul(U0,g0)|0,W=W+Math.imul(D0,v0)|0,q=q+Math.imul(D0,g0)|0,L=L+Math.imul(i,w0)|0,W=W+Math.imul(i,_0)|0,W=W+Math.imul(Y0,w0)|0,q=q+Math.imul(Y0,_0)|0,L=L+Math.imul(Q0,x0)|0,W=W+Math.imul(Q0,S0)|0,W=W+Math.imul($0,x0)|0,q=q+Math.imul($0,S0)|0,L=L+Math.imul(m,y0)|0,W=W+Math.imul(m,B0)|0,W=W+Math.imul(n,y0)|0,q=q+Math.imul(n,B0)|0,L=L+Math.imul(G0,g)|0,W=W+Math.imul(G0,y)|0,W=W+Math.imul(W0,g)|0,q=q+Math.imul(W0,y)|0,L=L+Math.imul(d,X0)|0,W=W+Math.imul(d,V0)|0,W=W+Math.imul(o,X0)|0,q=q+Math.imul(o,V0)|0,L=L+Math.imul(l,A0)|0,W=W+Math.imul(l,E0)|0,W=W+Math.imul(r,A0)|0,q=q+Math.imul(r,E0)|0,L=L+Math.imul(B,h0)|0,W=W+Math.imul(B,k0)|0,W=W+Math.imul(x,h0)|0,q=q+Math.imul(x,k0)|0;var e$=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(e$>>>26)|0,e$&=67108863,L=Math.imul(q0,F0),W=Math.imul(q0,f0),W=W+Math.imul(I0,F0)|0,q=Math.imul(I0,f0),L=L+Math.imul(H0,v0)|0,W=W+Math.imul(H0,g0)|0,W=W+Math.imul(T0,v0)|0,q=q+Math.imul(T0,g0)|0,L=L+Math.imul(U0,w0)|0,W=W+Math.imul(U0,_0)|0,W=W+Math.imul(D0,w0)|0,q=q+Math.imul(D0,_0)|0,L=L+Math.imul(i,x0)|0,W=W+Math.imul(i,S0)|0,W=W+Math.imul(Y0,x0)|0,q=q+Math.imul(Y0,S0)|0,L=L+Math.imul(Q0,y0)|0,W=W+Math.imul(Q0,B0)|0,W=W+Math.imul($0,y0)|0,q=q+Math.imul($0,B0)|0,L=L+Math.imul(m,g)|0,W=W+Math.imul(m,y)|0,W=W+Math.imul(n,g)|0,q=q+Math.imul(n,y)|0,L=L+Math.imul(G0,X0)|0,W=W+Math.imul(G0,V0)|0,W=W+Math.imul(W0,X0)|0,q=q+Math.imul(W0,V0)|0,L=L+Math.imul(d,A0)|0,W=W+Math.imul(d,E0)|0,W=W+Math.imul(o,A0)|0,q=q+Math.imul(o,E0)|0,L=L+Math.imul(l,h0)|0,W=W+Math.imul(l,k0)|0,W=W+Math.imul(r,h0)|0,q=q+Math.imul(r,k0)|0,L=L+Math.imul(B,j0)|0,W=W+Math.imul(B,N0)|0,W=W+Math.imul(x,j0)|0,q=q+Math.imul(x,N0)|0;var $Q=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+($Q>>>26)|0,$Q&=67108863,L=Math.imul(q0,v0),W=Math.imul(q0,g0),W=W+Math.imul(I0,v0)|0,q=Math.imul(I0,g0),L=L+Math.imul(H0,w0)|0,W=W+Math.imul(H0,_0)|0,W=W+Math.imul(T0,w0)|0,q=q+Math.imul(T0,_0)|0,L=L+Math.imul(U0,x0)|0,W=W+Math.imul(U0,S0)|0,W=W+Math.imul(D0,x0)|0,q=q+Math.imul(D0,S0)|0,L=L+Math.imul(i,y0)|0,W=W+Math.imul(i,B0)|0,W=W+Math.imul(Y0,y0)|0,q=q+Math.imul(Y0,B0)|0,L=L+Math.imul(Q0,g)|0,W=W+Math.imul(Q0,y)|0,W=W+Math.imul($0,g)|0,q=q+Math.imul($0,y)|0,L=L+Math.imul(m,X0)|0,W=W+Math.imul(m,V0)|0,W=W+Math.imul(n,X0)|0,q=q+Math.imul(n,V0)|0,L=L+Math.imul(G0,A0)|0,W=W+Math.imul(G0,E0)|0,W=W+Math.imul(W0,A0)|0,q=q+Math.imul(W0,E0)|0,L=L+Math.imul(d,h0)|0,W=W+Math.imul(d,k0)|0,W=W+Math.imul(o,h0)|0,q=q+Math.imul(o,k0)|0,L=L+Math.imul(l,j0)|0,W=W+Math.imul(l,N0)|0,W=W+Math.imul(r,j0)|0,q=q+Math.imul(r,N0)|0;var QQ=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(QQ>>>26)|0,QQ&=67108863,L=Math.imul(q0,w0),W=Math.imul(q0,_0),W=W+Math.imul(I0,w0)|0,q=Math.imul(I0,_0),L=L+Math.imul(H0,x0)|0,W=W+Math.imul(H0,S0)|0,W=W+Math.imul(T0,x0)|0,q=q+Math.imul(T0,S0)|0,L=L+Math.imul(U0,y0)|0,W=W+Math.imul(U0,B0)|0,W=W+Math.imul(D0,y0)|0,q=q+Math.imul(D0,B0)|0,L=L+Math.imul(i,g)|0,W=W+Math.imul(i,y)|0,W=W+Math.imul(Y0,g)|0,q=q+Math.imul(Y0,y)|0,L=L+Math.imul(Q0,X0)|0,W=W+Math.imul(Q0,V0)|0,W=W+Math.imul($0,X0)|0,q=q+Math.imul($0,V0)|0,L=L+Math.imul(m,A0)|0,W=W+Math.imul(m,E0)|0,W=W+Math.imul(n,A0)|0,q=q+Math.imul(n,E0)|0,L=L+Math.imul(G0,h0)|0,W=W+Math.imul(G0,k0)|0,W=W+Math.imul(W0,h0)|0,q=q+Math.imul(W0,k0)|0,L=L+Math.imul(d,j0)|0,W=W+Math.imul(d,N0)|0,W=W+Math.imul(o,j0)|0,q=q+Math.imul(o,N0)|0;var XQ=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(XQ>>>26)|0,XQ&=67108863,L=Math.imul(q0,x0),W=Math.imul(q0,S0),W=W+Math.imul(I0,x0)|0,q=Math.imul(I0,S0),L=L+Math.imul(H0,y0)|0,W=W+Math.imul(H0,B0)|0,W=W+Math.imul(T0,y0)|0,q=q+Math.imul(T0,B0)|0,L=L+Math.imul(U0,g)|0,W=W+Math.imul(U0,y)|0,W=W+Math.imul(D0,g)|0,q=q+Math.imul(D0,y)|0,L=L+Math.imul(i,X0)|0,W=W+Math.imul(i,V0)|0,W=W+Math.imul(Y0,X0)|0,q=q+Math.imul(Y0,V0)|0,L=L+Math.imul(Q0,A0)|0,W=W+Math.imul(Q0,E0)|0,W=W+Math.imul($0,A0)|0,q=q+Math.imul($0,E0)|0,L=L+Math.imul(m,h0)|0,W=W+Math.imul(m,k0)|0,W=W+Math.imul(n,h0)|0,q=q+Math.imul(n,k0)|0,L=L+Math.imul(G0,j0)|0,W=W+Math.imul(G0,N0)|0,W=W+Math.imul(W0,j0)|0,q=q+Math.imul(W0,N0)|0;var ZQ=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(ZQ>>>26)|0,ZQ&=67108863,L=Math.imul(q0,y0),W=Math.imul(q0,B0),W=W+Math.imul(I0,y0)|0,q=Math.imul(I0,B0),L=L+Math.imul(H0,g)|0,W=W+Math.imul(H0,y)|0,W=W+Math.imul(T0,g)|0,q=q+Math.imul(T0,y)|0,L=L+Math.imul(U0,X0)|0,W=W+Math.imul(U0,V0)|0,W=W+Math.imul(D0,X0)|0,q=q+Math.imul(D0,V0)|0,L=L+Math.imul(i,A0)|0,W=W+Math.imul(i,E0)|0,W=W+Math.imul(Y0,A0)|0,q=q+Math.imul(Y0,E0)|0,L=L+Math.imul(Q0,h0)|0,W=W+Math.imul(Q0,k0)|0,W=W+Math.imul($0,h0)|0,q=q+Math.imul($0,k0)|0,L=L+Math.imul(m,j0)|0,W=W+Math.imul(m,N0)|0,W=W+Math.imul(n,j0)|0,q=q+Math.imul(n,N0)|0;var YQ=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(YQ>>>26)|0,YQ&=67108863,L=Math.imul(q0,g),W=Math.imul(q0,y),W=W+Math.imul(I0,g)|0,q=Math.imul(I0,y),L=L+Math.imul(H0,X0)|0,W=W+Math.imul(H0,V0)|0,W=W+Math.imul(T0,X0)|0,q=q+Math.imul(T0,V0)|0,L=L+Math.imul(U0,A0)|0,W=W+Math.imul(U0,E0)|0,W=W+Math.imul(D0,A0)|0,q=q+Math.imul(D0,E0)|0,L=L+Math.imul(i,h0)|0,W=W+Math.imul(i,k0)|0,W=W+Math.imul(Y0,h0)|0,q=q+Math.imul(Y0,k0)|0,L=L+Math.imul(Q0,j0)|0,W=W+Math.imul(Q0,N0)|0,W=W+Math.imul($0,j0)|0,q=q+Math.imul($0,N0)|0;var JQ=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(JQ>>>26)|0,JQ&=67108863,L=Math.imul(q0,X0),W=Math.imul(q0,V0),W=W+Math.imul(I0,X0)|0,q=Math.imul(I0,V0),L=L+Math.imul(H0,A0)|0,W=W+Math.imul(H0,E0)|0,W=W+Math.imul(T0,A0)|0,q=q+Math.imul(T0,E0)|0,L=L+Math.imul(U0,h0)|0,W=W+Math.imul(U0,k0)|0,W=W+Math.imul(D0,h0)|0,q=q+Math.imul(D0,k0)|0,L=L+Math.imul(i,j0)|0,W=W+Math.imul(i,N0)|0,W=W+Math.imul(Y0,j0)|0,q=q+Math.imul(Y0,N0)|0;var GQ=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(GQ>>>26)|0,GQ&=67108863,L=Math.imul(q0,A0),W=Math.imul(q0,E0),W=W+Math.imul(I0,A0)|0,q=Math.imul(I0,E0),L=L+Math.imul(H0,h0)|0,W=W+Math.imul(H0,k0)|0,W=W+Math.imul(T0,h0)|0,q=q+Math.imul(T0,k0)|0,L=L+Math.imul(U0,j0)|0,W=W+Math.imul(U0,N0)|0,W=W+Math.imul(D0,j0)|0,q=q+Math.imul(D0,N0)|0;var WQ=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(WQ>>>26)|0,WQ&=67108863,L=Math.imul(q0,h0),W=Math.imul(q0,k0),W=W+Math.imul(I0,h0)|0,q=Math.imul(I0,k0),L=L+Math.imul(H0,j0)|0,W=W+Math.imul(H0,N0)|0,W=W+Math.imul(T0,j0)|0,q=q+Math.imul(T0,N0)|0;var VQ=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(VQ>>>26)|0,VQ&=67108863,L=Math.imul(q0,j0),W=Math.imul(q0,N0),W=W+Math.imul(I0,j0)|0,q=Math.imul(I0,N0);var UQ=(R+L|0)+((W&8191)<<13)|0;if(R=(q+(W>>>13)|0)+(UQ>>>26)|0,UQ&=67108863,C[0]=v$,C[1]=t0,C[2]=r0,C[3]=I$,C[4]=i$,C[5]=r$,C[6]=a$,C[7]=t$,C[8]=e$,C[9]=$Q,C[10]=QQ,C[11]=XQ,C[12]=ZQ,C[13]=YQ,C[14]=JQ,C[15]=GQ,C[16]=WQ,C[17]=VQ,C[18]=UQ,R!==0)C[19]=R,O.length++;return O};if(!Math.imul)j=S;function N(E,J,K){K.negative=J.negative^E.negative,K.length=E.length+J.length;var O=0,U=0;for(var z=0;z<K.length-1;z++){var C=U;U=0;var R=O&67108863,L=Math.min(z,J.length-1);for(var W=Math.max(0,z-E.length+1);W<=L;W++){var q=z-W,_=E.words[q]|0,B=J.words[W]|0,x=_*B,b=x&67108863;C=C+(x/67108864|0)|0,b=b+R|0,R=b&67108863,C=C+(b>>>26)|0,U+=C>>>26,C&=67108863}K.words[z]=R,O=C,C=U}if(O!==0)K.words[z]=O;else K.length--;return K.strip()}function w(E,J,K){var O=new k;return O.mulp(E,J,K)}G.prototype.mulTo=function E(J,K){var O,U=this.length+J.length;if(this.length===10&&J.length===10)O=j(this,J,K);else if(U<63)O=S(this,J,K);else if(U<1024)O=N(this,J,K);else O=w(this,J,K);return O};function k(E,J){this.x=E,this.y=J}k.prototype.makeRBT=function E(J){var K=new Array(J),O=G.prototype._countBits(J)-1;for(var U=0;U<J;U++)K[U]=this.revBin(U,O,J);return K},k.prototype.revBin=function E(J,K,O){if(J===0||J===O-1)return J;var U=0;for(var z=0;z<K;z++)U|=(J&1)<<K-z-1,J>>=1;return U},k.prototype.permute=function E(J,K,O,U,z,C){for(var R=0;R<C;R++)U[R]=K[J[R]],z[R]=O[J[R]]},k.prototype.transform=function E(J,K,O,U,z,C){this.permute(C,J,K,O,U,z);for(var R=1;R<z;R<<=1){var L=R<<1,W=Math.cos(2*Math.PI/L),q=Math.sin(2*Math.PI/L);for(var _=0;_<z;_+=L){var B=W,x=q;for(var b=0;b<R;b++){var l=O[_+b],r=U[_+b],z0=O[_+b+R],d=U[_+b+R],o=B*z0-x*d;if(d=B*d+x*z0,z0=o,O[_+b]=l+z0,U[_+b]=r+d,O[_+b+R]=l-z0,U[_+b+R]=r-d,b!==L)o=W*B-q*x,x=W*x+q*B,B=o}}}},k.prototype.guessLen13b=function E(J,K){var O=Math.max(K,J)|1,U=O&1,z=0;for(O=O/2|0;O;O=O>>>1)z++;return 1<<z+1+U},k.prototype.conjugate=function E(J,K,O){if(O<=1)return;for(var U=0;U<O/2;U++){var z=J[U];J[U]=J[O-U-1],J[O-U-1]=z,z=K[U],K[U]=-K[O-U-1],K[O-U-1]=-z}},k.prototype.normalize13b=function E(J,K){var O=0;for(var U=0;U<K/2;U++){var z=Math.round(J[2*U+1]/K)*8192+Math.round(J[2*U]/K)+O;if(J[U]=z&67108863,z<67108864)O=0;else O=z/67108864|0}return J},k.prototype.convert13b=function E(J,K,O,U){var z=0;for(var C=0;C<K;C++)z=z+(J[C]|0),O[2*C]=z&8191,z=z>>>13,O[2*C+1]=z&8191,z=z>>>13;for(C=2*K;C<U;++C)O[C]=0;Y(z===0),Y((z&-8192)===0)},k.prototype.stub=function E(J){var K=new Array(J);for(var O=0;O<J;O++)K[O]=0;return K},k.prototype.mulp=function E(J,K,O){var U=2*this.guessLen13b(J.length,K.length),z=this.makeRBT(U),C=this.stub(U),R=new Array(U),L=new Array(U),W=new Array(U),q=new Array(U),_=new Array(U),B=new Array(U),x=O.words;x.length=U,this.convert13b(J.words,J.length,R,U),this.convert13b(K.words,K.length,q,U),this.transform(R,C,L,W,U,z),this.transform(q,C,_,B,U,z);for(var b=0;b<U;b++){var l=L[b]*_[b]-W[b]*B[b];W[b]=L[b]*B[b]+W[b]*_[b],L[b]=l}return this.conjugate(L,W,U),this.transform(L,W,x,C,U,z),this.conjugate(x,C,U),this.normalize13b(x,U),O.negative=J.negative^K.negative,O.length=J.length+K.length,O.strip()},G.prototype.mul=function E(J){var K=new G(null);return K.words=new Array(this.length+J.length),this.mulTo(J,K)},G.prototype.mulf=function E(J){var K=new G(null);return K.words=new Array(this.length+J.length),w(this,J,K)},G.prototype.imul=function E(J){return this.clone().mulTo(J,this)},G.prototype.imuln=function E(J){Y(typeof J==="number"),Y(J<67108864);var K=0;for(var O=0;O<this.length;O++){var U=(this.words[O]|0)*J,z=(U&67108863)+(K&67108863);K>>=26,K+=U/67108864|0,K+=z>>>26,this.words[O]=z&67108863}if(K!==0)this.words[O]=K,this.length++;return this.length=J===0?1:this.length,this},G.prototype.muln=function E(J){return this.clone().imuln(J)},G.prototype.sqr=function E(){return this.mul(this)},G.prototype.isqr=function E(){return this.imul(this.clone())},G.prototype.pow=function E(J){var K=P(J);if(K.length===0)return new G(1);var O=this;for(var U=0;U<K.length;U++,O=O.sqr())if(K[U]!==0)break;if(++U<K.length)for(var z=O.sqr();U<K.length;U++,z=z.sqr()){if(K[U]===0)continue;O=O.mul(z)}return O},G.prototype.iushln=function E(J){Y(typeof J==="number"&&J>=0);var K=J%26,O=(J-K)/26,U=67108863>>>26-K<<26-K,z;if(K!==0){var C=0;for(z=0;z<this.length;z++){var R=this.words[z]&U,L=(this.words[z]|0)-R<<K;this.words[z]=L|C,C=R>>>26-K}if(C)this.words[z]=C,this.length++}if(O!==0){for(z=this.length-1;z>=0;z--)this.words[z+O]=this.words[z];for(z=0;z<O;z++)this.words[z]=0;this.length+=O}return this.strip()},G.prototype.ishln=function E(J){return Y(this.negative===0),this.iushln(J)},G.prototype.iushrn=function E(J,K,O){Y(typeof J==="number"&&J>=0);var U;if(K)U=(K-K%26)/26;else U=0;var z=J%26,C=Math.min((J-z)/26,this.length),R=67108863^67108863>>>z<<z,L=O;if(U-=C,U=Math.max(0,U),L){for(var W=0;W<C;W++)L.words[W]=this.words[W];L.length=C}if(C===0);else if(this.length>C){this.length-=C;for(W=0;W<this.length;W++)this.words[W]=this.words[W+C]}else this.words[0]=0,this.length=1;var q=0;for(W=this.length-1;W>=0&&(q!==0||W>=U);W--){var _=this.words[W]|0;this.words[W]=q<<26-z|_>>>z,q=_&R}if(L&&q!==0)L.words[L.length++]=q;if(this.length===0)this.words[0]=0,this.length=1;return this.strip()},G.prototype.ishrn=function E(J,K,O){return Y(this.negative===0),this.iushrn(J,K,O)},G.prototype.shln=function E(J){return this.clone().ishln(J)},G.prototype.ushln=function E(J){return this.clone().iushln(J)},G.prototype.shrn=function E(J){return this.clone().ishrn(J)},G.prototype.ushrn=function E(J){return this.clone().iushrn(J)},G.prototype.testn=function E(J){Y(typeof J==="number"&&J>=0);var K=J%26,O=(J-K)/26,U=1<<K;if(this.length<=O)return!1;var z=this.words[O];return!!(z&U)},G.prototype.imaskn=function E(J){Y(typeof J==="number"&&J>=0);var K=J%26,O=(J-K)/26;if(Y(this.negative===0,"imaskn works only with positive numbers"),this.length<=O)return this;if(K!==0)O++;if(this.length=Math.min(O,this.length),K!==0){var U=67108863^67108863>>>K<<K;this.words[this.length-1]&=U}return this.strip()},G.prototype.maskn=function E(J){return this.clone().imaskn(J)},G.prototype.iaddn=function E(J){if(Y(typeof J==="number"),Y(J<67108864),J<0)return this.isubn(-J);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<J)return this.words[0]=J-(this.words[0]|0),this.negative=0,this;return this.negative=0,this.isubn(J),this.negative=1,this}return this._iaddn(J)},G.prototype._iaddn=function E(J){this.words[0]+=J;for(var K=0;K<this.length&&this.words[K]>=67108864;K++)if(this.words[K]-=67108864,K===this.length-1)this.words[K+1]=1;else this.words[K+1]++;return this.length=Math.max(this.length,K+1),this},G.prototype.isubn=function E(J){if(Y(typeof J==="number"),Y(J<67108864),J<0)return this.iaddn(-J);if(this.negative!==0)return this.negative=0,this.iaddn(J),this.negative=1,this;if(this.words[0]-=J,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var K=0;K<this.length&&this.words[K]<0;K++)this.words[K]+=67108864,this.words[K+1]-=1;return this.strip()},G.prototype.addn=function E(J){return this.clone().iaddn(J)},G.prototype.subn=function E(J){return this.clone().isubn(J)},G.prototype.iabs=function E(){return this.negative=0,this},G.prototype.abs=function E(){return this.clone().iabs()},G.prototype._ishlnsubmul=function E(J,K,O){var U=J.length+O,z;this._expand(U);var C,R=0;for(z=0;z<J.length;z++){C=(this.words[z+O]|0)+R;var L=(J.words[z]|0)*K;C-=L&67108863,R=(C>>26)-(L/67108864|0),this.words[z+O]=C&67108863}for(;z<this.length-O;z++)C=(this.words[z+O]|0)+R,R=C>>26,this.words[z+O]=C&67108863;if(R===0)return this.strip();Y(R===-1),R=0;for(z=0;z<this.length;z++)C=-(this.words[z]|0)+R,R=C>>26,this.words[z]=C&67108863;return this.negative=1,this.strip()},G.prototype._wordDiv=function E(J,K){var O=this.length-J.length,U=this.clone(),z=J,C=z.words[z.length-1]|0,R=this._countBits(C);if(O=26-R,O!==0)z=z.ushln(O),U.iushln(O),C=z.words[z.length-1]|0;var L=U.length-z.length,W;if(K!=="mod"){W=new G(null),W.length=L+1,W.words=new Array(W.length);for(var q=0;q<W.length;q++)W.words[q]=0}var _=U.clone()._ishlnsubmul(z,1,L);if(_.negative===0){if(U=_,W)W.words[L]=1}for(var B=L-1;B>=0;B--){var x=(U.words[z.length+B]|0)*67108864+(U.words[z.length+B-1]|0);x=Math.min(x/C|0,67108863),U._ishlnsubmul(z,x,B);while(U.negative!==0)if(x--,U.negative=0,U._ishlnsubmul(z,1,B),!U.isZero())U.negative^=1;if(W)W.words[B]=x}if(W)W.strip();if(U.strip(),K!=="div"&&O!==0)U.iushrn(O);return{div:W||null,mod:U}},G.prototype.divmod=function E(J,K,O){if(Y(!J.isZero()),this.isZero())return{div:new G(0),mod:new G(0)};var U,z,C;if(this.negative!==0&&J.negative===0){if(C=this.neg().divmod(J,K),K!=="mod")U=C.div.neg();if(K!=="div"){if(z=C.mod.neg(),O&&z.negative!==0)z.iadd(J)}return{div:U,mod:z}}if(this.negative===0&&J.negative!==0){if(C=this.divmod(J.neg(),K),K!=="mod")U=C.div.neg();return{div:U,mod:C.mod}}if((this.negative&J.negative)!==0){if(C=this.neg().divmod(J.neg(),K),K!=="div"){if(z=C.mod.neg(),O&&z.negative!==0)z.isub(J)}return{div:C.div,mod:z}}if(J.length>this.length||this.cmp(J)<0)return{div:new G(0),mod:this};if(J.length===1){if(K==="div")return{div:this.divn(J.words[0]),mod:null};if(K==="mod")return{div:null,mod:new G(this.modn(J.words[0]))};return{div:this.divn(J.words[0]),mod:new G(this.modn(J.words[0]))}}return this._wordDiv(J,K)},G.prototype.div=function E(J){return this.divmod(J,"div",!1).div},G.prototype.mod=function E(J){return this.divmod(J,"mod",!1).mod},G.prototype.umod=function E(J){return this.divmod(J,"mod",!0).mod},G.prototype.divRound=function E(J){var K=this.divmod(J);if(K.mod.isZero())return K.div;var O=K.div.negative!==0?K.mod.isub(J):K.mod,U=J.ushrn(1),z=J.andln(1),C=O.cmp(U);if(C<0||z===1&&C===0)return K.div;return K.div.negative!==0?K.div.isubn(1):K.div.iaddn(1)},G.prototype.modn=function E(J){Y(J<=67108863);var K=67108864%J,O=0;for(var U=this.length-1;U>=0;U--)O=(K*O+(this.words[U]|0))%J;return O},G.prototype.idivn=function E(J){Y(J<=67108863);var K=0;for(var O=this.length-1;O>=0;O--){var U=(this.words[O]|0)+K*67108864;this.words[O]=U/J|0,K=U%J}return this.strip()},G.prototype.divn=function E(J){return this.clone().idivn(J)},G.prototype.egcd=function E(J){Y(J.negative===0),Y(!J.isZero());var K=this,O=J.clone();if(K.negative!==0)K=K.umod(J);else K=K.clone();var U=new G(1),z=new G(0),C=new G(0),R=new G(1),L=0;while(K.isEven()&&O.isEven())K.iushrn(1),O.iushrn(1),++L;var W=O.clone(),q=K.clone();while(!K.isZero()){for(var _=0,B=1;(K.words[0]&B)===0&&_<26;++_,B<<=1);if(_>0){K.iushrn(_);while(_-- >0){if(U.isOdd()||z.isOdd())U.iadd(W),z.isub(q);U.iushrn(1),z.iushrn(1)}}for(var x=0,b=1;(O.words[0]&b)===0&&x<26;++x,b<<=1);if(x>0){O.iushrn(x);while(x-- >0){if(C.isOdd()||R.isOdd())C.iadd(W),R.isub(q);C.iushrn(1),R.iushrn(1)}}if(K.cmp(O)>=0)K.isub(O),U.isub(C),z.isub(R);else O.isub(K),C.isub(U),R.isub(z)}return{a:C,b:R,gcd:O.iushln(L)}},G.prototype._invmp=function E(J){Y(J.negative===0),Y(!J.isZero());var K=this,O=J.clone();if(K.negative!==0)K=K.umod(J);else K=K.clone();var U=new G(1),z=new G(0),C=O.clone();while(K.cmpn(1)>0&&O.cmpn(1)>0){for(var R=0,L=1;(K.words[0]&L)===0&&R<26;++R,L<<=1);if(R>0){K.iushrn(R);while(R-- >0){if(U.isOdd())U.iadd(C);U.iushrn(1)}}for(var W=0,q=1;(O.words[0]&q)===0&&W<26;++W,q<<=1);if(W>0){O.iushrn(W);while(W-- >0){if(z.isOdd())z.iadd(C);z.iushrn(1)}}if(K.cmp(O)>=0)K.isub(O),U.isub(z);else O.isub(K),z.isub(U)}var _;if(K.cmpn(1)===0)_=U;else _=z;if(_.cmpn(0)<0)_.iadd(J);return _},G.prototype.gcd=function E(J){if(this.isZero())return J.abs();if(J.isZero())return this.abs();var K=this.clone(),O=J.clone();K.negative=0,O.negative=0;for(var U=0;K.isEven()&&O.isEven();U++)K.iushrn(1),O.iushrn(1);do{while(K.isEven())K.iushrn(1);while(O.isEven())O.iushrn(1);var z=K.cmp(O);if(z<0){var C=K;K=O,O=C}else if(z===0||O.cmpn(1)===0)break;K.isub(O)}while(!0);return O.iushln(U)},G.prototype.invm=function E(J){return this.egcd(J).a.umod(J)},G.prototype.isEven=function E(){return(this.words[0]&1)===0},G.prototype.isOdd=function E(){return(this.words[0]&1)===1},G.prototype.andln=function E(J){return this.words[0]&J},G.prototype.bincn=function E(J){Y(typeof J==="number");var K=J%26,O=(J-K)/26,U=1<<K;if(this.length<=O)return this._expand(O+1),this.words[O]|=U,this;var z=U;for(var C=O;z!==0&&C<this.length;C++){var R=this.words[C]|0;R+=z,z=R>>>26,R&=67108863,this.words[C]=R}if(z!==0)this.words[C]=z,this.length++;return this},G.prototype.isZero=function E(){return this.length===1&&this.words[0]===0},G.prototype.cmpn=function E(J){var K=J<0;if(this.negative!==0&&!K)return-1;if(this.negative===0&&K)return 1;this.strip();var O;if(this.length>1)O=1;else{if(K)J=-J;Y(J<=67108863,"Number is too big");var U=this.words[0]|0;O=U===J?0:U<J?-1:1}if(this.negative!==0)return-O|0;return O},G.prototype.cmp=function E(J){if(this.negative!==0&&J.negative===0)return-1;if(this.negative===0&&J.negative!==0)return 1;var K=this.ucmp(J);if(this.negative!==0)return-K|0;return K},G.prototype.ucmp=function E(J){if(this.length>J.length)return 1;if(this.length<J.length)return-1;var K=0;for(var O=this.length-1;O>=0;O--){var U=this.words[O]|0,z=J.words[O]|0;if(U===z)continue;if(U<z)K=-1;else if(U>z)K=1;break}return K},G.prototype.gtn=function E(J){return this.cmpn(J)===1},G.prototype.gt=function E(J){return this.cmp(J)===1},G.prototype.gten=function E(J){return this.cmpn(J)>=0},G.prototype.gte=function E(J){return this.cmp(J)>=0},G.prototype.ltn=function E(J){return this.cmpn(J)===-1},G.prototype.lt=function E(J){return this.cmp(J)===-1},G.prototype.lten=function E(J){return this.cmpn(J)<=0},G.prototype.lte=function E(J){return this.cmp(J)<=0},G.prototype.eqn=function E(J){return this.cmpn(J)===0},G.prototype.eq=function E(J){return this.cmp(J)===0},G.red=function E(J){return new p(J)},G.prototype.toRed=function E(J){return Y(!this.red,"Already a number in reduction context"),Y(this.negative===0,"red works only with positives"),J.convertTo(this)._forceRed(J)},G.prototype.fromRed=function E(){return Y(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},G.prototype._forceRed=function E(J){return this.red=J,this},G.prototype.forceRed=function E(J){return Y(!this.red,"Already a number in reduction context"),this._forceRed(J)},G.prototype.redAdd=function E(J){return Y(this.red,"redAdd works only with red numbers"),this.red.add(this,J)},G.prototype.redIAdd=function E(J){return Y(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,J)},G.prototype.redSub=function E(J){return Y(this.red,"redSub works only with red numbers"),this.red.sub(this,J)},G.prototype.redISub=function E(J){return Y(this.red,"redISub works only with red numbers"),this.red.isub(this,J)},G.prototype.redShl=function E(J){return Y(this.red,"redShl works only with red numbers"),this.red.shl(this,J)},G.prototype.redMul=function E(J){return Y(this.red,"redMul works only with red numbers"),this.red._verify2(this,J),this.red.mul(this,J)},G.prototype.redIMul=function E(J){return Y(this.red,"redMul works only with red numbers"),this.red._verify2(this,J),this.red.imul(this,J)},G.prototype.redSqr=function E(){return Y(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},G.prototype.redISqr=function E(){return Y(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},G.prototype.redSqrt=function E(){return Y(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},G.prototype.redInvm=function E(){return Y(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},G.prototype.redNeg=function E(){return Y(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},G.prototype.redPow=function E(J){return Y(this.red&&!J.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,J)};var f={k256:null,p224:null,p192:null,p25519:null};function v(E,J){this.name=E,this.p=new G(J,16),this.n=this.p.bitLength(),this.k=new G(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}v.prototype._tmp=function E(){var J=new G(null);return J.words=new Array(Math.ceil(this.n/13)),J},v.prototype.ireduce=function E(J){var K=J,O;do this.split(K,this.tmp),K=this.imulK(K),K=K.iadd(this.tmp),O=K.bitLength();while(O>this.n);var U=O<this.n?-1:K.ucmp(this.p);if(U===0)K.words[0]=0,K.length=1;else if(U>0)K.isub(this.p);else if(K.strip!==void 0)K.strip();else K._strip();return K},v.prototype.split=function E(J,K){J.iushrn(this.n,0,K)},v.prototype.imulK=function E(J){return J.imul(this.k)};function c(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}V(c,v),c.prototype.split=function E(J,K){var O=4194303,U=Math.min(J.length,9);for(var z=0;z<U;z++)K.words[z]=J.words[z];if(K.length=U,J.length<=9){J.words[0]=0,J.length=1;return}var C=J.words[9];K.words[K.length++]=C&O;for(z=10;z<J.length;z++){var R=J.words[z]|0;J.words[z-10]=(R&O)<<4|C>>>22,C=R}if(C>>>=22,J.words[z-10]=C,C===0&&J.length>10)J.length-=10;else J.length-=9},c.prototype.imulK=function E(J){J.words[J.length]=0,J.words[J.length+1]=0,J.length+=2;var K=0;for(var O=0;O<J.length;O++){var U=J.words[O]|0;K+=U*977,J.words[O]=K&67108863,K=U*64+(K/67108864|0)}if(J.words[J.length-1]===0){if(J.length--,J.words[J.length-1]===0)J.length--}return J};function u(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}V(u,v);function Z0(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}V(Z0,v);function e(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}V(e,v),e.prototype.imulK=function E(J){var K=0;for(var O=0;O<J.length;O++){var U=(J.words[O]|0)*19+K,z=U&67108863;U>>>=26,J.words[O]=z,K=U}if(K!==0)J.words[J.length++]=K;return J},G._prime=function E(J){if(f[J])return f[J];var K;if(J==="k256")K=new c;else if(J==="p224")K=new u;else if(J==="p192")K=new Z0;else if(J==="p25519")K=new e;else throw new Error("Unknown prime "+J);return f[J]=K,K};function p(E){if(typeof E==="string"){var J=G._prime(E);this.m=J.p,this.prime=J}else Y(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}p.prototype._verify1=function E(J){Y(J.negative===0,"red works only with positives"),Y(J.red,"red works only with red numbers")},p.prototype._verify2=function E(J,K){Y((J.negative|K.negative)===0,"red works only with positives"),Y(J.red&&J.red===K.red,"red works only with red numbers")},p.prototype.imod=function E(J){if(this.prime)return this.prime.ireduce(J)._forceRed(this);return J.umod(this.m)._forceRed(this)},p.prototype.neg=function E(J){if(J.isZero())return J.clone();return this.m.sub(J)._forceRed(this)},p.prototype.add=function E(J,K){this._verify2(J,K);var O=J.add(K);if(O.cmp(this.m)>=0)O.isub(this.m);return O._forceRed(this)},p.prototype.iadd=function E(J,K){this._verify2(J,K);var O=J.iadd(K);if(O.cmp(this.m)>=0)O.isub(this.m);return O},p.prototype.sub=function E(J,K){this._verify2(J,K);var O=J.sub(K);if(O.cmpn(0)<0)O.iadd(this.m);return O._forceRed(this)},p.prototype.isub=function E(J,K){this._verify2(J,K);var O=J.isub(K);if(O.cmpn(0)<0)O.iadd(this.m);return O},p.prototype.shl=function E(J,K){return this._verify1(J),this.imod(J.ushln(K))},p.prototype.imul=function E(J,K){return this._verify2(J,K),this.imod(J.imul(K))},p.prototype.mul=function E(J,K){return this._verify2(J,K),this.imod(J.mul(K))},p.prototype.isqr=function E(J){return this.imul(J,J.clone())},p.prototype.sqr=function E(J){return this.mul(J,J)},p.prototype.sqrt=function E(J){if(J.isZero())return J.clone();var K=this.m.andln(3);if(Y(K%2===1),K===3){var O=this.m.add(new G(1)).iushrn(2);return this.pow(J,O)}var U=this.m.subn(1),z=0;while(!U.isZero()&&U.andln(1)===0)z++,U.iushrn(1);Y(!U.isZero());var C=new G(1).toRed(this),R=C.redNeg(),L=this.m.subn(1).iushrn(1),W=this.m.bitLength();W=new G(2*W*W).toRed(this);while(this.pow(W,L).cmp(R)!==0)W.redIAdd(R);var q=this.pow(W,U),_=this.pow(J,U.addn(1).iushrn(1)),B=this.pow(J,U),x=z;while(B.cmp(C)!==0){var b=B;for(var l=0;b.cmp(C)!==0;l++)b=b.redSqr();Y(l<x);var r=this.pow(q,new G(1).iushln(x-l-1));_=_.redMul(r),q=r.redSqr(),B=B.redMul(q),x=l}return _},p.prototype.invm=function E(J){var K=J._invmp(this.m);if(K.negative!==0)return K.negative=0,this.imod(K).redNeg();else return this.imod(K)},p.prototype.pow=function E(J,K){if(K.isZero())return new G(1).toRed(this);if(K.cmpn(1)===0)return J.clone();var O=4,U=new Array(1<<O);U[0]=new G(1).toRed(this),U[1]=J;for(var z=2;z<U.length;z++)U[z]=this.mul(U[z-1],J);var C=U[0],R=0,L=0,W=K.bitLength()%26;if(W===0)W=26;for(z=K.length-1;z>=0;z--){var q=K.words[z];for(var _=W-1;_>=0;_--){var B=q>>_&1;if(C!==U[0])C=this.sqr(C);if(B===0&&R===0){L=0;continue}if(R<<=1,R|=B,L++,L!==O&&(z!==0||_!==0))continue;C=this.mul(C,U[R]),L=0,R=0}W=26}return C},p.prototype.convertTo=function E(J){var K=J.umod(this.m);return K===J?K.clone():K},p.prototype.convertFrom=function E(J){var K=J.clone();return K.red=null,K},G.mont=function E(J){return new s(J)};function s(E){if(p.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0)this.shift+=26-this.shift%26;this.r=new G(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}V(s,p),s.prototype.convertTo=function E(J){return this.imod(J.ushln(this.shift))},s.prototype.convertFrom=function E(J){var K=this.imod(J.mul(this.rinv));return K.red=null,K},s.prototype.imul=function E(J,K){if(J.isZero()||K.isZero())return J.words[0]=0,J.length=1,J;var O=J.imul(K),U=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),z=O.isub(U).iushrn(this.shift),C=z;if(z.cmp(this.m)>=0)C=z.isub(this.m);else if(z.cmpn(0)<0)C=z.iadd(this.m);return C._forceRed(this)},s.prototype.mul=function E(J,K){if(J.isZero()||K.isZero())return new G(0)._forceRed(this);var O=J.mul(K),U=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),z=O.isub(U).iushrn(this.shift),C=z;if(z.cmp(this.m)>=0)C=z.isub(this.m);else if(z.cmpn(0)<0)C=z.iadd(this.m);return C._forceRed(this)},s.prototype.invm=function E(J){var K=this.imod(J._invmp(this.m).mul(this.r2));return K._forceRed(this)}})(typeof Q==="undefined"||Q,$)}),dY=m0(($,Q)=>{Q.exports=X;function X(Z,Y){if(!Z)throw new Error(Y||"Assertion failed")}X.equal=function Z(Y,V,G){if(Y!=V)throw new Error(G||"Assertion failed: "+Y+" != "+V)}}),_D=m0(($)=>{var Q=$;function X(V,G){if(Array.isArray(V))return V.slice();if(!V)return[];var H=[];if(typeof V!=="string"){for(var D=0;D<V.length;D++)H[D]=V[D]|0;return H}if(G==="hex"){if(V=V.replace(/[^a-z0-9]+/ig,""),V.length%2!==0)V="0"+V;for(var D=0;D<V.length;D+=2)H.push(parseInt(V[D]+V[D+1],16))}else for(var D=0;D<V.length;D++){var A=V.charCodeAt(D),T=A>>8,F=A&255;if(T)H.push(T,F);else H.push(F)}return H}Q.toArray=X;function Z(V){if(V.length===1)return"0"+V;else return V}Q.zero2=Z;function Y(V){var G="";for(var H=0;H<V.length;H++)G+=Z(V[H].toString(16));return G}Q.toHex=Y,Q.encode=function V(G,H){if(H==="hex")return Y(G);else return G}}),hX=m0(($)=>{var Q=$,X=JY(),Z=dY(),Y=_D();Q.assert=Z,Q.toArray=Y.toArray,Q.zero2=Y.zero2,Q.toHex=Y.toHex,Q.encode=Y.encode;function V(T,F,M){var I=new Array(Math.max(T.bitLength(),M)+1),P;for(P=0;P<I.length;P+=1)I[P]=0;var S=1<<F+1,j=T.clone();for(P=0;P<I.length;P++){var N,w=j.andln(S-1);if(j.isOdd()){if(w>(S>>1)-1)N=(S>>1)-w;else N=w;j.isubn(N)}else N=0;I[P]=N,j.iushrn(1)}return I}Q.getNAF=V;function G(T,F){var M=[[],[]];T=T.clone(),F=F.clone();var I=0,P=0,S;while(T.cmpn(-I)>0||F.cmpn(-P)>0){var j=T.andln(3)+I&3,N=F.andln(3)+P&3;if(j===3)j=-1;if(N===3)N=-1;var w;if((j&1)===0)w=0;else if(S=T.andln(7)+I&7,(S===3||S===5)&&N===2)w=-j;else w=j;M[0].push(w);var k;if((N&1)===0)k=0;else if(S=F.andln(7)+P&7,(S===3||S===5)&&j===2)k=-N;else k=N;if(M[1].push(k),2*I===w+1)I=1-I;if(2*P===k+1)P=1-P;T.iushrn(1),F.iushrn(1)}return M}Q.getJSF=G;function H(T,F,M){var I="_"+F;T.prototype[F]=function P(){return this[I]!==void 0?this[I]:this[I]=M.call(this)}}Q.cachedProperty=H;function D(T){return typeof T==="string"?Q.toArray(T,"hex"):T}Q.parseBytes=D;function A(T){return new X(T,"hex","le")}Q.intFromLE=A}),xD=m0(($,Q)=>{var X;Q.exports=function V(G){if(!X)X=new Z(null);return X.generate(G)};function Z(V){this.rand=V}if(Q.exports.Rand=Z,Z.prototype.generate=function V(G){return this._rand(G)},Z.prototype._rand=function V(G){if(this.rand.getBytes)return this.rand.getBytes(G);var H=new Uint8Array(G);for(var D=0;D<H.length;D++)H[D]=this.rand.getByte();return H},typeof self==="object"){if(self.crypto&&self.crypto.getRandomValues)Z.prototype._rand=function V(G){var H=new Uint8Array(G);return self.crypto.getRandomValues(H),H};else if(self.msCrypto&&self.msCrypto.getRandomValues)Z.prototype._rand=function V(G){var H=new Uint8Array(G);return self.msCrypto.getRandomValues(H),H};else if(typeof window==="object")Z.prototype._rand=function(){throw new Error("Not implemented yet")}}else try{if(Y=(sQ(),$$(nQ)),typeof Y.randomBytes!=="function")throw new Error("Not supported");Z.prototype._rand=function V(G){return Y.randomBytes(G)}}catch(V){}var Y}),qU=m0(($,Q)=>{var X=JY(),Z=hX(),Y=Z.getNAF,V=Z.getJSF,G=Z.assert;function H(A,T){this.type=A,this.p=new X(T.p,16),this.red=T.prime?X.red(T.prime):X.mont(this.p),this.zero=new X(0).toRed(this.red),this.one=new X(1).toRed(this.red),this.two=new X(2).toRed(this.red),this.n=T.n&&new X(T.n,16),this.g=T.g&&this.pointFromJSON(T.g,T.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var F=this.n&&this.p.div(this.n);if(!F||F.cmpn(100)>0)this.redN=null;else this._maxwellTrick=!0,this.redN=this.n.toRed(this.red)}Q.exports=H,H.prototype.point=function A(){throw new Error("Not implemented")},H.prototype.validate=function A(){throw new Error("Not implemented")},H.prototype._fixedNafMul=function A(T,F){G(T.precomputed);var M=T._getDoubles(),I=Y(F,1,this._bitLength),P=(1<<M.step+1)-(M.step%2===0?2:1);P/=3;var S=[],j,N;for(j=0;j<I.length;j+=M.step){N=0;for(var w=j+M.step-1;w>=j;w--)N=(N<<1)+I[w];S.push(N)}var k=this.jpoint(null,null,null),f=this.jpoint(null,null,null);for(var v=P;v>0;v--){for(j=0;j<S.length;j++)if(N=S[j],N===v)f=f.mixedAdd(M.points[j]);else if(N===-v)f=f.mixedAdd(M.points[j].neg());k=k.add(f)}return k.toP()},H.prototype._wnafMul=function A(T,F){var M=4,I=T._getNAFPoints(M);M=I.wnd;var P=I.points,S=Y(F,M,this._bitLength),j=this.jpoint(null,null,null);for(var N=S.length-1;N>=0;N--){for(var w=0;N>=0&&S[N]===0;N--)w++;if(N>=0)w++;if(j=j.dblp(w),N<0)break;var k=S[N];if(G(k!==0),T.type==="affine")if(k>0)j=j.mixedAdd(P[k-1>>1]);else j=j.mixedAdd(P[-k-1>>1].neg());else if(k>0)j=j.add(P[k-1>>1]);else j=j.add(P[-k-1>>1].neg())}return T.type==="affine"?j.toP():j},H.prototype._wnafMulAdd=function A(T,F,M,I,P){var S=this._wnafT1,j=this._wnafT2,N=this._wnafT3,w=0,k,f,v;for(k=0;k<I;k++){v=F[k];var c=v._getNAFPoints(T);S[k]=c.wnd,j[k]=c.points}for(k=I-1;k>=1;k-=2){var u=k-1,Z0=k;if(S[u]!==1||S[Z0]!==1){N[u]=Y(M[u],S[u],this._bitLength),N[Z0]=Y(M[Z0],S[Z0],this._bitLength),w=Math.max(N[u].length,w),w=Math.max(N[Z0].length,w);continue}var e=[F[u],null,null,F[Z0]];if(F[u].y.cmp(F[Z0].y)===0)e[1]=F[u].add(F[Z0]),e[2]=F[u].toJ().mixedAdd(F[Z0].neg());else if(F[u].y.cmp(F[Z0].y.redNeg())===0)e[1]=F[u].toJ().mixedAdd(F[Z0]),e[2]=F[u].add(F[Z0].neg());else e[1]=F[u].toJ().mixedAdd(F[Z0]),e[2]=F[u].toJ().mixedAdd(F[Z0].neg());var p=[-3,-1,-5,-7,0,7,5,1,3],s=V(M[u],M[Z0]);w=Math.max(s[0].length,w),N[u]=new Array(w),N[Z0]=new Array(w);for(f=0;f<w;f++){var E=s[0][f]|0,J=s[1][f]|0;N[u][f]=p[(E+1)*3+(J+1)],N[Z0][f]=0,j[u]=e}}var K=this.jpoint(null,null,null),O=this._wnafT4;for(k=w;k>=0;k--){var U=0;while(k>=0){var z=!0;for(f=0;f<I;f++)if(O[f]=N[f][k]|0,O[f]!==0)z=!1;if(!z)break;U++,k--}if(k>=0)U++;if(K=K.dblp(U),k<0)break;for(f=0;f<I;f++){var C=O[f];if(C===0)continue;else if(C>0)v=j[f][C-1>>1];else if(C<0)v=j[f][-C-1>>1].neg();if(v.type==="affine")K=K.mixedAdd(v);else K=K.add(v)}}for(k=0;k<I;k++)j[k]=null;if(P)return K;else return K.toP()};function D(A,T){this.curve=A,this.type=T,this.precomputed=null}H.BasePoint=D,D.prototype.eq=function A(){throw new Error("Not implemented")},D.prototype.validate=function A(){return this.curve.validate(this)},H.prototype.decodePoint=function A(T,F){T=Z.toArray(T,F);var M=this.p.byteLength();if((T[0]===4||T[0]===6||T[0]===7)&&T.length-1===2*M){if(T[0]===6)G(T[T.length-1]%2===0);else if(T[0]===7)G(T[T.length-1]%2===1);var I=this.point(T.slice(1,1+M),T.slice(1+M,1+2*M));return I}else if((T[0]===2||T[0]===3)&&T.length-1===M)return this.pointFromX(T.slice(1,1+M),T[0]===3);throw new Error("Unknown point format")},D.prototype.encodeCompressed=function A(T){return this.encode(T,!0)},D.prototype._encode=function A(T){var F=this.curve.p.byteLength(),M=this.getX().toArray("be",F);if(T)return[this.getY().isEven()?2:3].concat(M);return[4].concat(M,this.getY().toArray("be",F))},D.prototype.encode=function A(T,F){return Z.encode(this._encode(F),T)},D.prototype.precompute=function A(T){if(this.precomputed)return this;var F={doubles:null,naf:null,beta:null};return F.naf=this._getNAFPoints(8),F.doubles=this._getDoubles(4,T),F.beta=this._getBeta(),this.precomputed=F,this},D.prototype._hasDoubles=function A(T){if(!this.precomputed)return!1;var F=this.precomputed.doubles;if(!F)return!1;return F.points.length>=Math.ceil((T.bitLength()+1)/F.step)},D.prototype._getDoubles=function A(T,F){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;var M=[this],I=this;for(var P=0;P<F;P+=T){for(var S=0;S<T;S++)I=I.dbl();M.push(I)}return{step:T,points:M}},D.prototype._getNAFPoints=function A(T){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;var F=[this],M=(1<<T)-1,I=M===1?null:this.dbl();for(var P=1;P<M;P++)F[P]=F[P-1].add(I);return{wnd:T,points:F}},D.prototype._getBeta=function A(){return null},D.prototype.dblp=function A(T){var F=this;for(var M=0;M<T;M++)F=F.dbl();return F}}),AP=m0(($,Q)=>{if(typeof Object.create==="function")Q.exports=function X(Z,Y){if(Y)Z.super_=Y,Z.prototype=Object.create(Y.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}})};else Q.exports=function X(Z,Y){if(Y){Z.super_=Y;var V=function(){};V.prototype=Y.prototype,Z.prototype=new V,Z.prototype.constructor=Z}}}),CX=m0(($,Q)=>{try{if(X=(MD(),$$(qD)),typeof X.inherits!=="function")throw"";Q.exports=X.inherits}catch(Z){Q.exports=AP()}var X}),CP=m0(($,Q)=>{var X=hX(),Z=JY(),Y=CX(),V=qU(),G=X.assert;function H(T){V.call(this,"short",T),this.a=new Z(T.a,16).toRed(this.red),this.b=new Z(T.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(T),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Y(H,V),Q.exports=H,H.prototype._getEndomorphism=function T(F){if(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)return;var M,I;if(F.beta)M=new Z(F.beta,16).toRed(this.red);else{var P=this._getEndoRoots(this.p);M=P[0].cmp(P[1])<0?P[0]:P[1],M=M.toRed(this.red)}if(F.lambda)I=new Z(F.lambda,16);else{var S=this._getEndoRoots(this.n);if(this.g.mul(S[0]).x.cmp(this.g.x.redMul(M))===0)I=S[0];else I=S[1],G(this.g.mul(I).x.cmp(this.g.x.redMul(M))===0)}var j;if(F.basis)j=F.basis.map(function(N){return{a:new Z(N.a,16),b:new Z(N.b,16)}});else j=this._getEndoBasis(I);return{beta:M,lambda:I,basis:j}},H.prototype._getEndoRoots=function T(F){var M=F===this.p?this.red:Z.mont(F),I=new Z(2).toRed(M).redInvm(),P=I.redNeg(),S=new Z(3).toRed(M).redNeg().redSqrt().redMul(I),j=P.redAdd(S).fromRed(),N=P.redSub(S).fromRed();return[j,N]},H.prototype._getEndoBasis=function T(F){var M=this.n.ushrn(Math.floor(this.n.bitLength()/2)),I=F,P=this.n.clone(),S=new Z(1),j=new Z(0),N=new Z(0),w=new Z(1),k,f,v,c,u,Z0,e,p=0,s,E;while(I.cmpn(0)!==0){var J=P.div(I);s=P.sub(J.mul(I)),E=N.sub(J.mul(S));var K=w.sub(J.mul(j));if(!v&&s.cmp(M)<0)k=e.neg(),f=S,v=s.neg(),c=E;else if(v&&++p===2)break;e=s,P=I,I=s,N=S,S=E,w=j,j=K}u=s.neg(),Z0=E;var O=v.sqr().add(c.sqr()),U=u.sqr().add(Z0.sqr());if(U.cmp(O)>=0)u=k,Z0=f;if(v.negative)v=v.neg(),c=c.neg();if(u.negative)u=u.neg(),Z0=Z0.neg();return[{a:v,b:c},{a:u,b:Z0}]},H.prototype._endoSplit=function T(F){var M=this.endo.basis,I=M[0],P=M[1],S=P.b.mul(F).divRound(this.n),j=I.b.neg().mul(F).divRound(this.n),N=S.mul(I.a),w=j.mul(P.a),k=S.mul(I.b),f=j.mul(P.b),v=F.sub(N).sub(w),c=k.add(f).neg();return{k1:v,k2:c}},H.prototype.pointFromX=function T(F,M){if(F=new Z(F,16),!F.red)F=F.toRed(this.red);var I=F.redSqr().redMul(F).redIAdd(F.redMul(this.a)).redIAdd(this.b),P=I.redSqrt();if(P.redSqr().redSub(I).cmp(this.zero)!==0)throw new Error("invalid point");var S=P.fromRed().isOdd();if(M&&!S||!M&&S)P=P.redNeg();return this.point(F,P)},H.prototype.validate=function T(F){if(F.inf)return!0;var{x:M,y:I}=F,P=this.a.redMul(M),S=M.redSqr().redMul(M).redIAdd(P).redIAdd(this.b);return I.redSqr().redISub(S).cmpn(0)===0},H.prototype._endoWnafMulAdd=function T(F,M,I){var P=this._endoWnafT1,S=this._endoWnafT2;for(var j=0;j<F.length;j++){var N=this._endoSplit(M[j]),w=F[j],k=w._getBeta();if(N.k1.negative)N.k1.ineg(),w=w.neg(!0);if(N.k2.negative)N.k2.ineg(),k=k.neg(!0);P[j*2]=w,P[j*2+1]=k,S[j*2]=N.k1,S[j*2+1]=N.k2}var f=this._wnafMulAdd(1,P,S,j*2,I);for(var v=0;v<j*2;v++)P[v]=null,S[v]=null;return f};function D(T,F,M,I){if(V.BasePoint.call(this,T,"affine"),F===null&&M===null)this.x=null,this.y=null,this.inf=!0;else{if(this.x=new Z(F,16),this.y=new Z(M,16),I)this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red);if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);this.inf=!1}}Y(D,V.BasePoint),H.prototype.point=function T(F,M,I){return new D(this,F,M,I)},H.prototype.pointFromJSON=function T(F,M){return D.fromJSON(this,F,M)},D.prototype._getBeta=function T(){if(!this.curve.endo)return;var F=this.precomputed;if(F&&F.beta)return F.beta;var M=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(F){var I=this.curve,P=function(S){return I.point(S.x.redMul(I.endo.beta),S.y)};F.beta=M,M.precomputed={beta:null,naf:F.naf&&{wnd:F.naf.wnd,points:F.naf.points.map(P)},doubles:F.doubles&&{step:F.doubles.step,points:F.doubles.points.map(P)}}}return M},D.prototype.toJSON=function T(){if(!this.precomputed)return[this.x,this.y];return[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]},D.fromJSON=function T(F,M,I){if(typeof M==="string")M=JSON.parse(M);var P=F.point(M[0],M[1],I);if(!M[2])return P;function S(N){return F.point(N[0],N[1],I)}var j=M[2];return P.precomputed={beta:null,doubles:j.doubles&&{step:j.doubles.step,points:[P].concat(j.doubles.points.map(S))},naf:j.naf&&{wnd:j.naf.wnd,points:[P].concat(j.naf.points.map(S))}},P},D.prototype.inspect=function T(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},D.prototype.isInfinity=function T(){return this.inf},D.prototype.add=function T(F){if(this.inf)return F;if(F.inf)return this;if(this.eq(F))return this.dbl();if(this.neg().eq(F))return this.curve.point(null,null);if(this.x.cmp(F.x)===0)return this.curve.point(null,null);var M=this.y.redSub(F.y);if(M.cmpn(0)!==0)M=M.redMul(this.x.redSub(F.x).redInvm());var I=M.redSqr().redISub(this.x).redISub(F.x),P=M.redMul(this.x.redSub(I)).redISub(this.y);return this.curve.point(I,P)},D.prototype.dbl=function T(){if(this.inf)return this;var F=this.y.redAdd(this.y);if(F.cmpn(0)===0)return this.curve.point(null,null);var M=this.curve.a,I=this.x.redSqr(),P=F.redInvm(),S=I.redAdd(I).redIAdd(I).redIAdd(M).redMul(P),j=S.redSqr().redISub(this.x.redAdd(this.x)),N=S.redMul(this.x.redSub(j)).redISub(this.y);return this.curve.point(j,N)},D.prototype.getX=function T(){return this.x.fromRed()},D.prototype.getY=function T(){return this.y.fromRed()},D.prototype.mul=function T(F){if(F=new Z(F,16),this.isInfinity())return this;else if(this._hasDoubles(F))return this.curve._fixedNafMul(this,F);else if(this.curve.endo)return this.curve._endoWnafMulAdd([this],[F]);else return this.curve._wnafMul(this,F)},D.prototype.mulAdd=function T(F,M,I){var P=[this,M],S=[F,I];if(this.curve.endo)return this.curve._endoWnafMulAdd(P,S);else return this.curve._wnafMulAdd(1,P,S,2)},D.prototype.jmulAdd=function T(F,M,I){var P=[this,M],S=[F,I];if(this.curve.endo)return this.curve._endoWnafMulAdd(P,S,!0);else return this.curve._wnafMulAdd(1,P,S,2,!0)},D.prototype.eq=function T(F){return this===F||this.inf===F.inf&&(this.inf||this.x.cmp(F.x)===0&&this.y.cmp(F.y)===0)},D.prototype.neg=function T(F){if(this.inf)return this;var M=this.curve.point(this.x,this.y.redNeg());if(F&&this.precomputed){var I=this.precomputed,P=function(S){return S.neg()};M.precomputed={naf:I.naf&&{wnd:I.naf.wnd,points:I.naf.points.map(P)},doubles:I.doubles&&{step:I.doubles.step,points:I.doubles.points.map(P)}}}return M},D.prototype.toJ=function T(){if(this.inf)return this.curve.jpoint(null,null,null);var F=this.curve.jpoint(this.x,this.y,this.curve.one);return F};function A(T,F,M,I){if(V.BasePoint.call(this,T,"jacobian"),F===null&&M===null&&I===null)this.x=this.curve.one,this.y=this.curve.one,this.z=new Z(0);else this.x=new Z(F,16),this.y=new Z(M,16),this.z=new Z(I,16);if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);this.zOne=this.z===this.curve.one}Y(A,V.BasePoint),H.prototype.jpoint=function T(F,M,I){return new A(this,F,M,I)},A.prototype.toP=function T(){if(this.isInfinity())return this.curve.point(null,null);var F=this.z.redInvm(),M=F.redSqr(),I=this.x.redMul(M),P=this.y.redMul(M).redMul(F);return this.curve.point(I,P)},A.prototype.neg=function T(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},A.prototype.add=function T(F){if(this.isInfinity())return F;if(F.isInfinity())return this;var M=F.z.redSqr(),I=this.z.redSqr(),P=this.x.redMul(M),S=F.x.redMul(I),j=this.y.redMul(M.redMul(F.z)),N=F.y.redMul(I.redMul(this.z)),w=P.redSub(S),k=j.redSub(N);if(w.cmpn(0)===0)if(k.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl();var f=w.redSqr(),v=f.redMul(w),c=P.redMul(f),u=k.redSqr().redIAdd(v).redISub(c).redISub(c),Z0=k.redMul(c.redISub(u)).redISub(j.redMul(v)),e=this.z.redMul(F.z).redMul(w);return this.curve.jpoint(u,Z0,e)},A.prototype.mixedAdd=function T(F){if(this.isInfinity())return F.toJ();if(F.isInfinity())return this;var M=this.z.redSqr(),I=this.x,P=F.x.redMul(M),S=this.y,j=F.y.redMul(M).redMul(this.z),N=I.redSub(P),w=S.redSub(j);if(N.cmpn(0)===0)if(w.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl();var k=N.redSqr(),f=k.redMul(N),v=I.redMul(k),c=w.redSqr().redIAdd(f).redISub(v).redISub(v),u=w.redMul(v.redISub(c)).redISub(S.redMul(f)),Z0=this.z.redMul(N);return this.curve.jpoint(c,u,Z0)},A.prototype.dblp=function T(F){if(F===0)return this;if(this.isInfinity())return this;if(!F)return this.dbl();var M;if(this.curve.zeroA||this.curve.threeA){var I=this;for(M=0;M<F;M++)I=I.dbl();return I}var P=this.curve.a,S=this.curve.tinv,j=this.x,N=this.y,w=this.z,k=w.redSqr().redSqr(),f=N.redAdd(N);for(M=0;M<F;M++){var v=j.redSqr(),c=f.redSqr(),u=c.redSqr(),Z0=v.redAdd(v).redIAdd(v).redIAdd(P.redMul(k)),e=j.redMul(c),p=Z0.redSqr().redISub(e.redAdd(e)),s=e.redISub(p),E=Z0.redMul(s);E=E.redIAdd(E).redISub(u);var J=f.redMul(w);if(M+1<F)k=k.redMul(u);j=p,w=J,f=E}return this.curve.jpoint(j,f.redMul(S),w)},A.prototype.dbl=function T(){if(this.isInfinity())return this;if(this.curve.zeroA)return this._zeroDbl();else if(this.curve.threeA)return this._threeDbl();else return this._dbl()},A.prototype._zeroDbl=function T(){var F,M,I;if(this.zOne){var P=this.x.redSqr(),S=this.y.redSqr(),j=S.redSqr(),N=this.x.redAdd(S).redSqr().redISub(P).redISub(j);N=N.redIAdd(N);var w=P.redAdd(P).redIAdd(P),k=w.redSqr().redISub(N).redISub(N),f=j.redIAdd(j);f=f.redIAdd(f),f=f.redIAdd(f),F=k,M=w.redMul(N.redISub(k)).redISub(f),I=this.y.redAdd(this.y)}else{var v=this.x.redSqr(),c=this.y.redSqr(),u=c.redSqr(),Z0=this.x.redAdd(c).redSqr().redISub(v).redISub(u);Z0=Z0.redIAdd(Z0);var e=v.redAdd(v).redIAdd(v),p=e.redSqr(),s=u.redIAdd(u);s=s.redIAdd(s),s=s.redIAdd(s),F=p.redISub(Z0).redISub(Z0),M=e.redMul(Z0.redISub(F)).redISub(s),I=this.y.redMul(this.z),I=I.redIAdd(I)}return this.curve.jpoint(F,M,I)},A.prototype._threeDbl=function T(){var F,M,I;if(this.zOne){var P=this.x.redSqr(),S=this.y.redSqr(),j=S.redSqr(),N=this.x.redAdd(S).redSqr().redISub(P).redISub(j);N=N.redIAdd(N);var w=P.redAdd(P).redIAdd(P).redIAdd(this.curve.a),k=w.redSqr().redISub(N).redISub(N);F=k;var f=j.redIAdd(j);f=f.redIAdd(f),f=f.redIAdd(f),M=w.redMul(N.redISub(k)).redISub(f),I=this.y.redAdd(this.y)}else{var v=this.z.redSqr(),c=this.y.redSqr(),u=this.x.redMul(c),Z0=this.x.redSub(v).redMul(this.x.redAdd(v));Z0=Z0.redAdd(Z0).redIAdd(Z0);var e=u.redIAdd(u);e=e.redIAdd(e);var p=e.redAdd(e);F=Z0.redSqr().redISub(p),I=this.y.redAdd(this.z).redSqr().redISub(c).redISub(v);var s=c.redSqr();s=s.redIAdd(s),s=s.redIAdd(s),s=s.redIAdd(s),M=Z0.redMul(e.redISub(F)).redISub(s)}return this.curve.jpoint(F,M,I)},A.prototype._dbl=function T(){var F=this.curve.a,M=this.x,I=this.y,P=this.z,S=P.redSqr().redSqr(),j=M.redSqr(),N=I.redSqr(),w=j.redAdd(j).redIAdd(j).redIAdd(F.redMul(S)),k=M.redAdd(M);k=k.redIAdd(k);var f=k.redMul(N),v=w.redSqr().redISub(f.redAdd(f)),c=f.redISub(v),u=N.redSqr();u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var Z0=w.redMul(c).redISub(u),e=I.redAdd(I).redMul(P);return this.curve.jpoint(v,Z0,e)},A.prototype.trpl=function T(){if(!this.curve.zeroA)return this.dbl().add(this);var F=this.x.redSqr(),M=this.y.redSqr(),I=this.z.redSqr(),P=M.redSqr(),S=F.redAdd(F).redIAdd(F),j=S.redSqr(),N=this.x.redAdd(M).redSqr().redISub(F).redISub(P);N=N.redIAdd(N),N=N.redAdd(N).redIAdd(N),N=N.redISub(j);var w=N.redSqr(),k=P.redIAdd(P);k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k);var f=S.redIAdd(N).redSqr().redISub(j).redISub(w).redISub(k),v=M.redMul(f);v=v.redIAdd(v),v=v.redIAdd(v);var c=this.x.redMul(w).redISub(v);c=c.redIAdd(c),c=c.redIAdd(c);var u=this.y.redMul(f.redMul(k.redISub(f)).redISub(N.redMul(w)));u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var Z0=this.z.redAdd(N).redSqr().redISub(I).redISub(w);return this.curve.jpoint(c,u,Z0)},A.prototype.mul=function T(F,M){return F=new Z(F,M),this.curve._wnafMul(this,F)},A.prototype.eq=function T(F){if(F.type==="affine")return this.eq(F.toJ());if(this===F)return!0;var M=this.z.redSqr(),I=F.z.redSqr();if(this.x.redMul(I).redISub(F.x.redMul(M)).cmpn(0)!==0)return!1;var P=M.redMul(this.z),S=I.redMul(F.z);return this.y.redMul(S).redISub(F.y.redMul(P)).cmpn(0)===0},A.prototype.eqXToP=function T(F){var M=this.z.redSqr(),I=F.toRed(this.curve.red).redMul(M);if(this.x.cmp(I)===0)return!0;var P=F.clone(),S=this.curve.redN.redMul(M);for(;;){if(P.iadd(this.curve.n),P.cmp(this.curve.p)>=0)return!1;if(I.redIAdd(S),this.x.cmp(I)===0)return!0}},A.prototype.inspect=function T(){if(this.isInfinity())return"<EC JPoint Infinity>";return"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},A.prototype.isInfinity=function T(){return this.z.cmpn(0)===0}}),TP=m0(($,Q)=>{var X=JY(),Z=CX(),Y=qU(),V=hX();function G(D){Y.call(this,"mont",D),this.a=new X(D.a,16).toRed(this.red),this.b=new X(D.b,16).toRed(this.red),this.i4=new X(4).toRed(this.red).redInvm(),this.two=new X(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}Z(G,Y),Q.exports=G,G.prototype.validate=function D(A){var T=A.normalize().x,F=T.redSqr(),M=F.redMul(T).redAdd(F.redMul(this.a)).redAdd(T),I=M.redSqrt();return I.redSqr().cmp(M)===0};function H(D,A,T){if(Y.BasePoint.call(this,D,"projective"),A===null&&T===null)this.x=this.curve.one,this.z=this.curve.zero;else{if(this.x=new X(A,16),this.z=new X(T,16),!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red)}}Z(H,Y.BasePoint),G.prototype.decodePoint=function D(A,T){return this.point(V.toArray(A,T),1)},G.prototype.point=function D(A,T){return new H(this,A,T)},G.prototype.pointFromJSON=function D(A){return H.fromJSON(this,A)},H.prototype.precompute=function D(){},H.prototype._encode=function D(){return this.getX().toArray("be",this.curve.p.byteLength())},H.fromJSON=function D(A,T){return new H(A,T[0],T[1]||A.one)},H.prototype.inspect=function D(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},H.prototype.isInfinity=function D(){return this.z.cmpn(0)===0},H.prototype.dbl=function D(){var A=this.x.redAdd(this.z),T=A.redSqr(),F=this.x.redSub(this.z),M=F.redSqr(),I=T.redSub(M),P=T.redMul(M),S=I.redMul(M.redAdd(this.curve.a24.redMul(I)));return this.curve.point(P,S)},H.prototype.add=function D(){throw new Error("Not supported on Montgomery curve")},H.prototype.diffAdd=function D(A,T){var F=this.x.redAdd(this.z),M=this.x.redSub(this.z),I=A.x.redAdd(A.z),P=A.x.redSub(A.z),S=P.redMul(F),j=I.redMul(M),N=T.z.redMul(S.redAdd(j).redSqr()),w=T.x.redMul(S.redISub(j).redSqr());return this.curve.point(N,w)},H.prototype.mul=function D(A){var T=A.clone(),F=this,M=this.curve.point(null,null),I=this;for(var P=[];T.cmpn(0)!==0;T.iushrn(1))P.push(T.andln(1));for(var S=P.length-1;S>=0;S--)if(P[S]===0)F=F.diffAdd(M,I),M=M.dbl();else M=F.diffAdd(M,I),F=F.dbl();return M},H.prototype.mulAdd=function D(){throw new Error("Not supported on Montgomery curve")},H.prototype.jumlAdd=function D(){throw new Error("Not supported on Montgomery curve")},H.prototype.eq=function D(A){return this.getX().cmp(A.getX())===0},H.prototype.normalize=function D(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},H.prototype.getX=function D(){return this.normalize(),this.x.fromRed()}}),FP=m0(($,Q)=>{var X=hX(),Z=JY(),Y=CX(),V=qU(),G=X.assert;function H(A){this.twisted=(A.a|0)!==1,this.mOneA=this.twisted&&(A.a|0)===-1,this.extended=this.mOneA,V.call(this,"edwards",A),this.a=new Z(A.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Z(A.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Z(A.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),G(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(A.c|0)===1}Y(H,V),Q.exports=H,H.prototype._mulA=function A(T){if(this.mOneA)return T.redNeg();else return this.a.redMul(T)},H.prototype._mulC=function A(T){if(this.oneC)return T;else return this.c.redMul(T)},H.prototype.jpoint=function A(T,F,M,I){return this.point(T,F,M,I)},H.prototype.pointFromX=function A(T,F){if(T=new Z(T,16),!T.red)T=T.toRed(this.red);var M=T.redSqr(),I=this.c2.redSub(this.a.redMul(M)),P=this.one.redSub(this.c2.redMul(this.d).redMul(M)),S=I.redMul(P.redInvm()),j=S.redSqrt();if(j.redSqr().redSub(S).cmp(this.zero)!==0)throw new Error("invalid point");var N=j.fromRed().isOdd();if(F&&!N||!F&&N)j=j.redNeg();return this.point(T,j)},H.prototype.pointFromY=function A(T,F){if(T=new Z(T,16),!T.red)T=T.toRed(this.red);var M=T.redSqr(),I=M.redSub(this.c2),P=M.redMul(this.d).redMul(this.c2).redSub(this.a),S=I.redMul(P.redInvm());if(S.cmp(this.zero)===0)if(F)throw new Error("invalid point");else return this.point(this.zero,T);var j=S.redSqrt();if(j.redSqr().redSub(S).cmp(this.zero)!==0)throw new Error("invalid point");if(j.fromRed().isOdd()!==F)j=j.redNeg();return this.point(j,T)},H.prototype.validate=function A(T){if(T.isInfinity())return!0;T.normalize();var F=T.x.redSqr(),M=T.y.redSqr(),I=F.redMul(this.a).redAdd(M),P=this.c2.redMul(this.one.redAdd(this.d.redMul(F).redMul(M)));return I.cmp(P)===0};function D(A,T,F,M,I){if(V.BasePoint.call(this,A,"projective"),T===null&&F===null&&M===null)this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0;else{if(this.x=new Z(T,16),this.y=new Z(F,16),this.z=M?new Z(M,16):this.curve.one,this.t=I&&new Z(I,16),!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);if(this.t&&!this.t.red)this.t=this.t.toRed(this.curve.red);if(this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t){if(this.t=this.x.redMul(this.y),!this.zOne)this.t=this.t.redMul(this.z.redInvm())}}}Y(D,V.BasePoint),H.prototype.pointFromJSON=function A(T){return D.fromJSON(this,T)},H.prototype.point=function A(T,F,M,I){return new D(this,T,F,M,I)},D.fromJSON=function A(T,F){return new D(T,F[0],F[1],F[2])},D.prototype.inspect=function A(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},D.prototype.isInfinity=function A(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},D.prototype._extDbl=function A(){var T=this.x.redSqr(),F=this.y.redSqr(),M=this.z.redSqr();M=M.redIAdd(M);var I=this.curve._mulA(T),P=this.x.redAdd(this.y).redSqr().redISub(T).redISub(F),S=I.redAdd(F),j=S.redSub(M),N=I.redSub(F),w=P.redMul(j),k=S.redMul(N),f=P.redMul(N),v=j.redMul(S);return this.curve.point(w,k,v,f)},D.prototype._projDbl=function A(){var T=this.x.redAdd(this.y).redSqr(),F=this.x.redSqr(),M=this.y.redSqr(),I,P,S,j,N,w;if(this.curve.twisted){j=this.curve._mulA(F);var k=j.redAdd(M);if(this.zOne)I=T.redSub(F).redSub(M).redMul(k.redSub(this.curve.two)),P=k.redMul(j.redSub(M)),S=k.redSqr().redSub(k).redSub(k);else N=this.z.redSqr(),w=k.redSub(N).redISub(N),I=T.redSub(F).redISub(M).redMul(w),P=k.redMul(j.redSub(M)),S=k.redMul(w)}else j=F.redAdd(M),N=this.curve._mulC(this.z).redSqr(),w=j.redSub(N).redSub(N),I=this.curve._mulC(T.redISub(j)).redMul(w),P=this.curve._mulC(j).redMul(F.redISub(M)),S=j.redMul(w);return this.curve.point(I,P,S)},D.prototype.dbl=function A(){if(this.isInfinity())return this;if(this.curve.extended)return this._extDbl();else return this._projDbl()},D.prototype._extAdd=function A(T){var F=this.y.redSub(this.x).redMul(T.y.redSub(T.x)),M=this.y.redAdd(this.x).redMul(T.y.redAdd(T.x)),I=this.t.redMul(this.curve.dd).redMul(T.t),P=this.z.redMul(T.z.redAdd(T.z)),S=M.redSub(F),j=P.redSub(I),N=P.redAdd(I),w=M.redAdd(F),k=S.redMul(j),f=N.redMul(w),v=S.redMul(w),c=j.redMul(N);return this.curve.point(k,f,c,v)},D.prototype._projAdd=function A(T){var F=this.z.redMul(T.z),M=F.redSqr(),I=this.x.redMul(T.x),P=this.y.redMul(T.y),S=this.curve.d.redMul(I).redMul(P),j=M.redSub(S),N=M.redAdd(S),w=this.x.redAdd(this.y).redMul(T.x.redAdd(T.y)).redISub(I).redISub(P),k=F.redMul(j).redMul(w),f,v;if(this.curve.twisted)f=F.redMul(N).redMul(P.redSub(this.curve._mulA(I))),v=j.redMul(N);else f=F.redMul(N).redMul(P.redSub(I)),v=this.curve._mulC(j).redMul(N);return this.curve.point(k,f,v)},D.prototype.add=function A(T){if(this.isInfinity())return T;if(T.isInfinity())return this;if(this.curve.extended)return this._extAdd(T);else return this._projAdd(T)},D.prototype.mul=function A(T){if(this._hasDoubles(T))return this.curve._fixedNafMul(this,T);else return this.curve._wnafMul(this,T)},D.prototype.mulAdd=function A(T,F,M){return this.curve._wnafMulAdd(1,[this,F],[T,M],2,!1)},D.prototype.jmulAdd=function A(T,F,M){return this.curve._wnafMulAdd(1,[this,F],[T,M],2,!0)},D.prototype.normalize=function A(){if(this.zOne)return this;var T=this.z.redInvm();if(this.x=this.x.redMul(T),this.y=this.y.redMul(T),this.t)this.t=this.t.redMul(T);return this.z=this.curve.one,this.zOne=!0,this},D.prototype.neg=function A(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},D.prototype.getX=function A(){return this.normalize(),this.x.fromRed()},D.prototype.getY=function A(){return this.normalize(),this.y.fromRed()},D.prototype.eq=function A(T){return this===T||this.getX().cmp(T.getX())===0&&this.getY().cmp(T.getY())===0},D.prototype.eqXToP=function A(T){var F=T.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(F)===0)return!0;var M=T.clone(),I=this.curve.redN.redMul(this.z);for(;;){if(M.iadd(this.curve.n),M.cmp(this.curve.p)>=0)return!1;if(F.redIAdd(I),this.x.cmp(F)===0)return!0}},D.prototype.toP=D.prototype.normalize,D.prototype.mixedAdd=D.prototype.add}),kD=m0(($)=>{var Q=$;Q.base=qU(),Q.short=CP(),Q.mont=TP(),Q.edwards=FP()}),BZ=m0(($)=>{var Q=dY(),X=CX();$.inherits=X;function Z(J,K){if((J.charCodeAt(K)&64512)!==55296)return!1;if(K<0||K+1>=J.length)return!1;return(J.charCodeAt(K+1)&64512)===56320}function Y(J,K){if(Array.isArray(J))return J.slice();if(!J)return[];var O=[];if(typeof J==="string"){if(!K){var U=0;for(var z=0;z<J.length;z++){var C=J.charCodeAt(z);if(C<128)O[U++]=C;else if(C<2048)O[U++]=C>>6|192,O[U++]=C&63|128;else if(Z(J,z))C=65536+((C&1023)<<10)+(J.charCodeAt(++z)&1023),O[U++]=C>>18|240,O[U++]=C>>12&63|128,O[U++]=C>>6&63|128,O[U++]=C&63|128;else O[U++]=C>>12|224,O[U++]=C>>6&63|128,O[U++]=C&63|128}}else if(K==="hex"){if(J=J.replace(/[^a-z0-9]+/ig,""),J.length%2!==0)J="0"+J;for(z=0;z<J.length;z+=2)O.push(parseInt(J[z]+J[z+1],16))}}else for(z=0;z<J.length;z++)O[z]=J[z]|0;return O}$.toArray=Y;function V(J){var K="";for(var O=0;O<J.length;O++)K+=D(J[O].toString(16));return K}$.toHex=V;function G(J){var K=J>>>24|J>>>8&65280|J<<8&16711680|(J&255)<<24;return K>>>0}$.htonl=G;function H(J,K){var O="";for(var U=0;U<J.length;U++){var z=J[U];if(K==="little")z=G(z);O+=A(z.toString(16))}return O}$.toHex32=H;function D(J){if(J.length===1)return"0"+J;else return J}$.zero2=D;function A(J){if(J.length===7)return"0"+J;else if(J.length===6)return"00"+J;else if(J.length===5)return"000"+J;else if(J.length===4)return"0000"+J;else if(J.length===3)return"00000"+J;else if(J.length===2)return"000000"+J;else if(J.length===1)return"0000000"+J;else return J}$.zero8=A;function T(J,K,O,U){var z=O-K;Q(z%4===0);var C=new Array(z/4);for(var R=0,L=K;R<C.length;R++,L+=4){var W;if(U==="big")W=J[L]<<24|J[L+1]<<16|J[L+2]<<8|J[L+3];else W=J[L+3]<<24|J[L+2]<<16|J[L+1]<<8|J[L];C[R]=W>>>0}return C}$.join32=T;function F(J,K){var O=new Array(J.length*4);for(var U=0,z=0;U<J.length;U++,z+=4){var C=J[U];if(K==="big")O[z]=C>>>24,O[z+1]=C>>>16&255,O[z+2]=C>>>8&255,O[z+3]=C&255;else O[z+3]=C>>>24,O[z+2]=C>>>16&255,O[z+1]=C>>>8&255,O[z]=C&255}return O}$.split32=F;function M(J,K){return J>>>K|J<<32-K}$.rotr32=M;function I(J,K){return J<<K|J>>>32-K}$.rotl32=I;function P(J,K){return J+K>>>0}$.sum32=P;function S(J,K,O){return J+K+O>>>0}$.sum32_3=S;function j(J,K,O,U){return J+K+O+U>>>0}$.sum32_4=j;function N(J,K,O,U,z){return J+K+O+U+z>>>0}$.sum32_5=N;function w(J,K,O,U){var z=J[K],C=J[K+1],R=U+C>>>0,L=(R<U?1:0)+O+z;J[K]=L>>>0,J[K+1]=R}$.sum64=w;function k(J,K,O,U){var z=K+U>>>0,C=(z<K?1:0)+J+O;return C>>>0}$.sum64_hi=k;function f(J,K,O,U){var z=K+U;return z>>>0}$.sum64_lo=f;function v(J,K,O,U,z,C,R,L){var W=0,q=K;q=q+U>>>0,W+=q<K?1:0,q=q+C>>>0,W+=q<C?1:0,q=q+L>>>0,W+=q<L?1:0;var _=J+O+z+R+W;return _>>>0}$.sum64_4_hi=v;function c(J,K,O,U,z,C,R,L){var W=K+U+C+L;return W>>>0}$.sum64_4_lo=c;function u(J,K,O,U,z,C,R,L,W,q){var _=0,B=K;B=B+U>>>0,_+=B<K?1:0,B=B+C>>>0,_+=B<C?1:0,B=B+L>>>0,_+=B<L?1:0,B=B+q>>>0,_+=B<q?1:0;var x=J+O+z+R+W+_;return x>>>0}$.sum64_5_hi=u;function Z0(J,K,O,U,z,C,R,L,W,q){var _=K+U+C+L+q;return _>>>0}$.sum64_5_lo=Z0;function e(J,K,O){var U=K<<32-O|J>>>O;return U>>>0}$.rotr64_hi=e;function p(J,K,O){var U=J<<32-O|K>>>O;return U>>>0}$.rotr64_lo=p;function s(J,K,O){return J>>>O}$.shr64_hi=s;function E(J,K,O){var U=J<<32-O|K>>>O;return U>>>0}$.shr64_lo=E}),rW=m0(($)=>{var Q=BZ(),X=dY();function Z(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}$.BlockHash=Z,Z.prototype.update=function Y(V,G){if(V=Q.toArray(V,G),!this.pending)this.pending=V;else this.pending=this.pending.concat(V);if(this.pendingTotal+=V.length,this.pending.length>=this._delta8){V=this.pending;var H=V.length%this._delta8;if(this.pending=V.slice(V.length-H,V.length),this.pending.length===0)this.pending=null;V=Q.join32(V,0,V.length-H,this.endian);for(var D=0;D<V.length;D+=this._delta32)this._update(V,D,D+this._delta32)}return this},Z.prototype.digest=function Y(V){return this.update(this._pad()),X(this.pending===null),this._digest(V)},Z.prototype._pad=function Y(){var V=this.pendingTotal,G=this._delta8,H=G-(V+this.padLength)%G,D=new Array(H+this.padLength);D[0]=128;for(var A=1;A<H;A++)D[A]=0;if(V<<=3,this.endian==="big"){for(var T=8;T<this.padLength;T++)D[A++]=0;D[A++]=0,D[A++]=0,D[A++]=0,D[A++]=0,D[A++]=V>>>24&255,D[A++]=V>>>16&255,D[A++]=V>>>8&255,D[A++]=V&255}else{D[A++]=V&255,D[A++]=V>>>8&255,D[A++]=V>>>16&255,D[A++]=V>>>24&255,D[A++]=0,D[A++]=0,D[A++]=0,D[A++]=0;for(T=8;T<this.padLength;T++)D[A++]=0}return D}}),fD=m0(($)=>{var Q=BZ(),X=Q.rotr32;function Z(F,M,I,P){if(F===0)return Y(M,I,P);if(F===1||F===3)return G(M,I,P);if(F===2)return V(M,I,P)}$.ft_1=Z;function Y(F,M,I){return F&M^~F&I}$.ch32=Y;function V(F,M,I){return F&M^F&I^M&I}$.maj32=V;function G(F,M,I){return F^M^I}$.p32=G;function H(F){return X(F,2)^X(F,13)^X(F,22)}$.s0_256=H;function D(F){return X(F,6)^X(F,11)^X(F,25)}$.s1_256=D;function A(F){return X(F,7)^X(F,18)^F>>>3}$.g0_256=A;function T(F){return X(F,17)^X(F,19)^F>>>10}$.g1_256=T}),RP=m0(($,Q)=>{var X=BZ(),Z=rW(),Y=fD(),V=X.rotl32,G=X.sum32,H=X.sum32_5,D=Y.ft_1,A=Z.BlockHash,T=[1518500249,1859775393,2400959708,3395469782];function F(){if(!(this instanceof F))return new F;A.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}X.inherits(F,A),Q.exports=F,F.blockSize=512,F.outSize=160,F.hmacStrength=80,F.padLength=64,F.prototype._update=function M(I,P){var S=this.W;for(var j=0;j<16;j++)S[j]=I[P+j];for(;j<S.length;j++)S[j]=V(S[j-3]^S[j-8]^S[j-14]^S[j-16],1);var N=this.h[0],w=this.h[1],k=this.h[2],f=this.h[3],v=this.h[4];for(j=0;j<S.length;j++){var c=~~(j/20),u=H(V(N,5),D(c,w,k,f),v,S[j],T[c]);v=f,f=k,k=V(w,30),w=N,N=u}this.h[0]=G(this.h[0],N),this.h[1]=G(this.h[1],w),this.h[2]=G(this.h[2],k),this.h[3]=G(this.h[3],f),this.h[4]=G(this.h[4],v)},F.prototype._digest=function M(I){if(I==="hex")return X.toHex32(this.h,"big");else return X.split32(this.h,"big")}}),vD=m0(($,Q)=>{var X=BZ(),Z=rW(),Y=fD(),V=dY(),G=X.sum32,H=X.sum32_4,D=X.sum32_5,A=Y.ch32,T=Y.maj32,F=Y.s0_256,M=Y.s1_256,I=Y.g0_256,P=Y.g1_256,S=Z.BlockHash,j=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function N(){if(!(this instanceof N))return new N;S.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=j,this.W=new Array(64)}X.inherits(N,S),Q.exports=N,N.blockSize=512,N.outSize=256,N.hmacStrength=192,N.padLength=64,N.prototype._update=function w(k,f){var v=this.W;for(var c=0;c<16;c++)v[c]=k[f+c];for(;c<v.length;c++)v[c]=H(P(v[c-2]),v[c-7],I(v[c-15]),v[c-16]);var u=this.h[0],Z0=this.h[1],e=this.h[2],p=this.h[3],s=this.h[4],E=this.h[5],J=this.h[6],K=this.h[7];V(this.k.length===v.length);for(c=0;c<v.length;c++){var O=D(K,M(s),A(s,E,J),this.k[c],v[c]),U=G(F(u),T(u,Z0,e));K=J,J=E,E=s,s=G(p,O),p=e,e=Z0,Z0=u,u=G(O,U)}this.h[0]=G(this.h[0],u),this.h[1]=G(this.h[1],Z0),this.h[2]=G(this.h[2],e),this.h[3]=G(this.h[3],p),this.h[4]=G(this.h[4],s),this.h[5]=G(this.h[5],E),this.h[6]=G(this.h[6],J),this.h[7]=G(this.h[7],K)},N.prototype._digest=function w(k){if(k==="hex")return X.toHex32(this.h,"big");else return X.split32(this.h,"big")}}),EP=m0(($,Q)=>{var X=BZ(),Z=vD();function Y(){if(!(this instanceof Y))return new Y;Z.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}X.inherits(Y,Z),Q.exports=Y,Y.blockSize=512,Y.outSize=224,Y.hmacStrength=192,Y.padLength=64,Y.prototype._digest=function V(G){if(G==="hex")return X.toHex32(this.h.slice(0,7),"big");else return X.split32(this.h.slice(0,7),"big")}}),gD=m0(($,Q)=>{var X=BZ(),Z=rW(),Y=dY(),V=X.rotr64_hi,G=X.rotr64_lo,H=X.shr64_hi,D=X.shr64_lo,A=X.sum64,T=X.sum64_hi,F=X.sum64_lo,M=X.sum64_4_hi,I=X.sum64_4_lo,P=X.sum64_5_hi,S=X.sum64_5_lo,j=Z.BlockHash,N=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function w(){if(!(this instanceof w))return new w;j.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=N,this.W=new Array(160)}X.inherits(w,j),Q.exports=w,w.blockSize=1024,w.outSize=512,w.hmacStrength=192,w.padLength=128,w.prototype._prepareBlock=function O(U,z){var C=this.W;for(var R=0;R<32;R++)C[R]=U[z+R];for(;R<C.length;R+=2){var L=J(C[R-4],C[R-3]),W=K(C[R-4],C[R-3]),q=C[R-14],_=C[R-13],B=s(C[R-30],C[R-29]),x=E(C[R-30],C[R-29]),b=C[R-32],l=C[R-31];C[R]=M(L,W,q,_,B,x,b,l),C[R+1]=I(L,W,q,_,B,x,b,l)}},w.prototype._update=function O(U,z){this._prepareBlock(U,z);var C=this.W,R=this.h[0],L=this.h[1],W=this.h[2],q=this.h[3],_=this.h[4],B=this.h[5],x=this.h[6],b=this.h[7],l=this.h[8],r=this.h[9],z0=this.h[10],d=this.h[11],o=this.h[12],R0=this.h[13],G0=this.h[14],W0=this.h[15];Y(this.k.length===C.length);for(var a=0;a<C.length;a+=2){var m=G0,n=W0,b0=e(l,r),Q0=p(l,r),$0=k(l,r,z0,d,o,R0),t=f(l,r,z0,d,o,R0),i=this.k[a],Y0=this.k[a+1],C0=C[a],U0=C[a+1],D0=P(m,n,b0,Q0,$0,t,i,Y0,C0,U0),a0=S(m,n,b0,Q0,$0,t,i,Y0,C0,U0);m=u(R,L),n=Z0(R,L),b0=v(R,L,W,q,_,B),Q0=c(R,L,W,q,_,B);var H0=T(m,n,b0,Q0),T0=F(m,n,b0,Q0);G0=o,W0=R0,o=z0,R0=d,z0=l,d=r,l=T(x,b,D0,a0),r=F(b,b,D0,a0),x=_,b=B,_=W,B=q,W=R,q=L,R=T(D0,a0,H0,T0),L=F(D0,a0,H0,T0)}A(this.h,0,R,L),A(this.h,2,W,q),A(this.h,4,_,B),A(this.h,6,x,b),A(this.h,8,l,r),A(this.h,10,z0,d),A(this.h,12,o,R0),A(this.h,14,G0,W0)},w.prototype._digest=function O(U){if(U==="hex")return X.toHex32(this.h,"big");else return X.split32(this.h,"big")};function k(O,U,z,C,R){var L=O&z^~O&R;if(L<0)L+=4294967296;return L}function f(O,U,z,C,R,L){var W=U&C^~U&L;if(W<0)W+=4294967296;return W}function v(O,U,z,C,R){var L=O&z^O&R^z&R;if(L<0)L+=4294967296;return L}function c(O,U,z,C,R,L){var W=U&C^U&L^C&L;if(W<0)W+=4294967296;return W}function u(O,U){var z=V(O,U,28),C=V(U,O,2),R=V(U,O,7),L=z^C^R;if(L<0)L+=4294967296;return L}function Z0(O,U){var z=G(O,U,28),C=G(U,O,2),R=G(U,O,7),L=z^C^R;if(L<0)L+=4294967296;return L}function e(O,U){var z=V(O,U,14),C=V(O,U,18),R=V(U,O,9),L=z^C^R;if(L<0)L+=4294967296;return L}function p(O,U){var z=G(O,U,14),C=G(O,U,18),R=G(U,O,9),L=z^C^R;if(L<0)L+=4294967296;return L}function s(O,U){var z=V(O,U,1),C=V(O,U,8),R=H(O,U,7),L=z^C^R;if(L<0)L+=4294967296;return L}function E(O,U){var z=G(O,U,1),C=G(O,U,8),R=D(O,U,7),L=z^C^R;if(L<0)L+=4294967296;return L}function J(O,U){var z=V(O,U,19),C=V(U,O,29),R=H(O,U,6),L=z^C^R;if(L<0)L+=4294967296;return L}function K(O,U){var z=G(O,U,19),C=G(U,O,29),R=D(O,U,6),L=z^C^R;if(L<0)L+=4294967296;return L}}),IP=m0(($,Q)=>{var X=BZ(),Z=gD();function Y(){if(!(this instanceof Y))return new Y;Z.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}X.inherits(Y,Z),Q.exports=Y,Y.blockSize=1024,Y.outSize=384,Y.hmacStrength=192,Y.padLength=128,Y.prototype._digest=function V(G){if(G==="hex")return X.toHex32(this.h.slice(0,12),"big");else return X.split32(this.h.slice(0,12),"big")}}),PP=m0(($)=>{$.sha1=RP(),$.sha224=EP(),$.sha256=vD(),$.sha384=IP(),$.sha512=gD()}),SP=m0(($)=>{var Q=BZ(),X=rW(),Z=Q.rotl32,Y=Q.sum32,V=Q.sum32_3,G=Q.sum32_4,H=X.BlockHash;function D(){if(!(this instanceof D))return new D;H.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Q.inherits(D,H),$.ripemd160=D,D.blockSize=512,D.outSize=160,D.hmacStrength=192,D.padLength=64,D.prototype._update=function j(N,w){var k=this.h[0],f=this.h[1],v=this.h[2],c=this.h[3],u=this.h[4],Z0=k,e=f,p=v,s=c,E=u;for(var J=0;J<80;J++){var K=Y(Z(G(k,A(J,f,v,c),N[M[J]+w],T(J)),P[J]),u);k=u,u=c,c=Z(v,10),v=f,f=K,K=Y(Z(G(Z0,A(79-J,e,p,s),N[I[J]+w],F(J)),S[J]),E),Z0=E,E=s,s=Z(p,10),p=e,e=K}K=V(this.h[1],v,s),this.h[1]=V(this.h[2],c,E),this.h[2]=V(this.h[3],u,Z0),this.h[3]=V(this.h[4],k,e),this.h[4]=V(this.h[0],f,p),this.h[0]=K},D.prototype._digest=function j(N){if(N==="hex")return Q.toHex32(this.h,"little");else return Q.split32(this.h,"little")};function A(j,N,w,k){if(j<=15)return N^w^k;else if(j<=31)return N&w|~N&k;else if(j<=47)return(N|~w)^k;else if(j<=63)return N&k|w&~k;else return N^(w|~k)}function T(j){if(j<=15)return 0;else if(j<=31)return 1518500249;else if(j<=47)return 1859775393;else if(j<=63)return 2400959708;else return 2840853838}function F(j){if(j<=15)return 1352829926;else if(j<=31)return 1548603684;else if(j<=47)return 1836072691;else if(j<=63)return 2053994217;else return 0}var M=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],I=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],P=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],S=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]}),BP=m0(($,Q)=>{var X=BZ(),Z=dY();function Y(V,G,H){if(!(this instanceof Y))return new Y(V,G,H);this.Hash=V,this.blockSize=V.blockSize/8,this.outSize=V.outSize/8,this.inner=null,this.outer=null,this._init(X.toArray(G,H))}Q.exports=Y,Y.prototype._init=function V(G){if(G.length>this.blockSize)G=new this.Hash().update(G).digest();Z(G.length<=this.blockSize);for(var H=G.length;H<this.blockSize;H++)G.push(0);for(H=0;H<G.length;H++)G[H]^=54;this.inner=new this.Hash().update(G);for(H=0;H<G.length;H++)G[H]^=106;this.outer=new this.Hash().update(G)},Y.prototype.update=function V(G,H){return this.inner.update(G,H),this},Y.prototype.digest=function V(G){return this.outer.update(this.inner.digest()),this.outer.digest(G)}}),xO=m0(($)=>{var Q=$;Q.utils=BZ(),Q.common=rW(),Q.sha=PP(),Q.ripemd=SP(),Q.hmac=BP(),Q.sha1=Q.sha.sha1,Q.sha256=Q.sha.sha256,Q.sha224=Q.sha.sha224,Q.sha384=Q.sha.sha384,Q.sha512=Q.sha.sha512,Q.ripemd160=Q.ripemd.ripemd160}),jP=m0(($,Q)=>{Q.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}}),kO=m0(($)=>{var Q=$,X=xO(),Z=kD(),Y=hX(),V=Y.assert;function G(A){if(A.type==="short")this.curve=new Z.short(A);else if(A.type==="edwards")this.curve=new Z.edwards(A);else this.curve=new Z.mont(A);this.g=this.curve.g,this.n=this.curve.n,this.hash=A.hash,V(this.g.validate(),"Invalid curve"),V(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}Q.PresetCurve=G;function H(A,T){Object.defineProperty(Q,A,{configurable:!0,enumerable:!0,get:function(){var F=new G(T);return Object.defineProperty(Q,A,{configurable:!0,enumerable:!0,value:F}),F}})}H("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:X.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),H("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:X.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),H("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:X.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),H("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:X.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),H("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:X.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),H("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:X.sha256,gRed:!1,g:["9"]}),H("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:X.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var D;try{D=jP()}catch(A){D=void 0}H("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:X.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",D]})}),NP=m0(($,Q)=>{var X=xO(),Z=_D(),Y=dY();function V(G){if(!(this instanceof V))return new V(G);this.hash=G.hash,this.predResist=!!G.predResist,this.outLen=this.hash.outSize,this.minEntropy=G.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var H=Z.toArray(G.entropy,G.entropyEnc||"hex"),D=Z.toArray(G.nonce,G.nonceEnc||"hex"),A=Z.toArray(G.pers,G.persEnc||"hex");Y(H.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(H,D,A)}Q.exports=V,V.prototype._init=function G(H,D,A){var T=H.concat(D).concat(A);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var F=0;F<this.V.length;F++)this.K[F]=0,this.V[F]=1;this._update(T),this._reseed=1,this.reseedInterval=281474976710656},V.prototype._hmac=function G(){return new X.hmac(this.hash,this.K)},V.prototype._update=function G(H){var D=this._hmac().update(this.V).update([0]);if(H)D=D.update(H);if(this.K=D.digest(),this.V=this._hmac().update(this.V).digest(),!H)return;this.K=this._hmac().update(this.V).update([1]).update(H).digest(),this.V=this._hmac().update(this.V).digest()},V.prototype.reseed=function G(H,D,A,T){if(typeof D!=="string")T=A,A=D,D=null;H=Z.toArray(H,D),A=Z.toArray(A,T),Y(H.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(H.concat(A||[])),this._reseed=1},V.prototype.generate=function G(H,D,A,T){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");if(typeof D!=="string")T=A,A=D,D=null;if(A)A=Z.toArray(A,T||"hex"),this._update(A);var F=[];while(F.length<H)this.V=this._hmac().update(this.V).digest(),F=F.concat(this.V);var M=F.slice(0,H);return this._update(A),this._reseed++,Z.encode(M,D)}}),wP=m0(($,Q)=>{var X=JY(),Z=hX(),Y=Z.assert;function V(G,H){if(this.ec=G,this.priv=null,this.pub=null,H.priv)this._importPrivate(H.priv,H.privEnc);if(H.pub)this._importPublic(H.pub,H.pubEnc)}Q.exports=V,V.fromPublic=function G(H,D,A){if(D instanceof V)return D;return new V(H,{pub:D,pubEnc:A})},V.fromPrivate=function G(H,D,A){if(D instanceof V)return D;return new V(H,{priv:D,privEnc:A})},V.prototype.validate=function G(){var H=this.getPublic();if(H.isInfinity())return{result:!1,reason:"Invalid public key"};if(!H.validate())return{result:!1,reason:"Public key is not a point"};if(!H.mul(this.ec.curve.n).isInfinity())return{result:!1,reason:"Public key * N != O"};return{result:!0,reason:null}},V.prototype.getPublic=function G(H,D){if(typeof H==="string")D=H,H=null;if(!this.pub)this.pub=this.ec.g.mul(this.priv);if(!D)return this.pub;return this.pub.encode(D,H)},V.prototype.getPrivate=function G(H){if(H==="hex")return this.priv.toString(16,2);else return this.priv},V.prototype._importPrivate=function G(H,D){this.priv=new X(H,D||16),this.priv=this.priv.umod(this.ec.curve.n)},V.prototype._importPublic=function G(H,D){if(H.x||H.y){if(this.ec.curve.type==="mont")Y(H.x,"Need x coordinate");else if(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")Y(H.x&&H.y,"Need both x and y coordinate");this.pub=this.ec.curve.point(H.x,H.y);return}this.pub=this.ec.curve.decodePoint(H,D)},V.prototype.derive=function G(H){if(!H.validate())Y(H.validate(),"public point not validated");return H.mul(this.priv).getX()},V.prototype.sign=function G(H,D,A){return this.ec.sign(H,this,D,A)},V.prototype.verify=function G(H,D,A){return this.ec.verify(H,D,this,void 0,A)},V.prototype.inspect=function G(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}}),_P=m0(($,Q)=>{var X=JY(),Z=hX(),Y=Z.assert;function V(T,F){if(T instanceof V)return T;if(this._importDER(T,F))return;if(Y(T.r&&T.s,"Signature without r or s"),this.r=new X(T.r,16),this.s=new X(T.s,16),T.recoveryParam===void 0)this.recoveryParam=null;else this.recoveryParam=T.recoveryParam}Q.exports=V;function G(){this.place=0}function H(T,F){var M=T[F.place++];if(!(M&128))return M;var I=M&15;if(I===0||I>4)return!1;if(T[F.place]===0)return!1;var P=0;for(var S=0,j=F.place;S<I;S++,j++)P<<=8,P|=T[j],P>>>=0;if(P<=127)return!1;return F.place=j,P}function D(T){var F=0,M=T.length-1;while(!T[F]&&!(T[F+1]&128)&&F<M)F++;if(F===0)return T;return T.slice(F)}V.prototype._importDER=function T(F,M){F=Z.toArray(F,M);var I=new G;if(F[I.place++]!==48)return!1;var P=H(F,I);if(P===!1)return!1;if(P+I.place!==F.length)return!1;if(F[I.place++]!==2)return!1;var S=H(F,I);if(S===!1)return!1;if((F[I.place]&128)!==0)return!1;var j=F.slice(I.place,S+I.place);if(I.place+=S,F[I.place++]!==2)return!1;var N=H(F,I);if(N===!1)return!1;if(F.length!==N+I.place)return!1;if((F[I.place]&128)!==0)return!1;var w=F.slice(I.place,N+I.place);if(j[0]===0)if(j[1]&128)j=j.slice(1);else return!1;if(w[0]===0)if(w[1]&128)w=w.slice(1);else return!1;return this.r=new X(j),this.s=new X(w),this.recoveryParam=null,!0};function A(T,F){if(F<128){T.push(F);return}var M=1+(Math.log(F)/Math.LN2>>>3);T.push(M|128);while(--M)T.push(F>>>(M<<3)&255);T.push(F)}V.prototype.toDER=function T(F){var M=this.r.toArray(),I=this.s.toArray();if(M[0]&128)M=[0].concat(M);if(I[0]&128)I=[0].concat(I);M=D(M),I=D(I);while(!I[0]&&!(I[1]&128))I=I.slice(1);var P=[2];A(P,M.length),P=P.concat(M),P.push(2),A(P,I.length);var S=P.concat(I),j=[48];return A(j,S.length),j=j.concat(S),Z.encode(j,F)}}),xP=m0(($,Q)=>{var X=JY(),Z=NP(),Y=hX(),V=kO(),G=xD(),H=Y.assert,D=wP(),A=_P();function T(F){if(!(this instanceof T))return new T(F);if(typeof F==="string")H(Object.prototype.hasOwnProperty.call(V,F),"Unknown curve "+F),F=V[F];if(F instanceof V.PresetCurve)F={curve:F};this.curve=F.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=F.curve.g,this.g.precompute(F.curve.n.bitLength()+1),this.hash=F.hash||F.curve.hash}Q.exports=T,T.prototype.keyPair=function F(M){return new D(this,M)},T.prototype.keyFromPrivate=function F(M,I){return D.fromPrivate(this,M,I)},T.prototype.keyFromPublic=function F(M,I){return D.fromPublic(this,M,I)},T.prototype.genKeyPair=function F(M){if(!M)M={};var I=new Z({hash:this.hash,pers:M.pers,persEnc:M.persEnc||"utf8",entropy:M.entropy||G(this.hash.hmacStrength),entropyEnc:M.entropy&&M.entropyEnc||"utf8",nonce:this.n.toArray()}),P=this.n.byteLength(),S=this.n.sub(new X(2));for(;;){var j=new X(I.generate(P));if(j.cmp(S)>0)continue;return j.iaddn(1),this.keyFromPrivate(j)}},T.prototype._truncateToN=function F(M,I,P){var S;if(X.isBN(M)||typeof M==="number")M=new X(M,16),S=M.byteLength();else if(typeof M==="object")S=M.length,M=new X(M,16);else{var j=M.toString();S=j.length+1>>>1,M=new X(j,16)}if(typeof P!=="number")P=S*8;var N=P-this.n.bitLength();if(N>0)M=M.ushrn(N);if(!I&&M.cmp(this.n)>=0)return M.sub(this.n);else return M},T.prototype.sign=function F(M,I,P,S){if(typeof P==="object")S=P,P=null;if(!S)S={};if(typeof M!=="string"&&typeof M!=="number"&&!X.isBN(M)){H(typeof M==="object"&&M&&typeof M.length==="number","Expected message to be an array-like, a hex string, or a BN instance"),H(M.length>>>0===M.length);for(var j=0;j<M.length;j++)H((M[j]&255)===M[j])}I=this.keyFromPrivate(I,P),M=this._truncateToN(M,!1,S.msgBitLength),H(!M.isNeg(),"Can not sign a negative message");var N=this.n.byteLength(),w=I.getPrivate().toArray("be",N),k=M.toArray("be",N);H(new X(k).eq(M),"Can not sign message");var f=new Z({hash:this.hash,entropy:w,nonce:k,pers:S.pers,persEnc:S.persEnc||"utf8"}),v=this.n.sub(new X(1));for(var c=0;;c++){var u=S.k?S.k(c):new X(f.generate(this.n.byteLength()));if(u=this._truncateToN(u,!0),u.cmpn(1)<=0||u.cmp(v)>=0)continue;var Z0=this.g.mul(u);if(Z0.isInfinity())continue;var e=Z0.getX(),p=e.umod(this.n);if(p.cmpn(0)===0)continue;var s=u.invm(this.n).mul(p.mul(I.getPrivate()).iadd(M));if(s=s.umod(this.n),s.cmpn(0)===0)continue;var E=(Z0.getY().isOdd()?1:0)|(e.cmp(p)!==0?2:0);if(S.canonical&&s.cmp(this.nh)>0)s=this.n.sub(s),E^=1;return new A({r:p,s,recoveryParam:E})}},T.prototype.verify=function F(M,I,P,S,j){if(!j)j={};M=this._truncateToN(M,!1,j.msgBitLength),P=this.keyFromPublic(P,S),I=new A(I,"hex");var{r:N,s:w}=I;if(N.cmpn(1)<0||N.cmp(this.n)>=0)return!1;if(w.cmpn(1)<0||w.cmp(this.n)>=0)return!1;var k=w.invm(this.n),f=k.mul(M).umod(this.n),v=k.mul(N).umod(this.n),c;if(!this.curve._maxwellTrick){if(c=this.g.mulAdd(f,P.getPublic(),v),c.isInfinity())return!1;return c.getX().umod(this.n).cmp(N)===0}if(c=this.g.jmulAdd(f,P.getPublic(),v),c.isInfinity())return!1;return c.eqXToP(N)},T.prototype.recoverPubKey=function(F,M,I,P){H((3&I)===I,"The recovery param is more than two bits"),M=new A(M,P);var S=this.n,j=new X(F),N=M.r,w=M.s,k=I&1,f=I>>1;if(N.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");if(f)N=this.curve.pointFromX(N.add(this.curve.n),k);else N=this.curve.pointFromX(N,k);var v=M.r.invm(S),c=S.sub(j).mul(v).umod(S),u=w.mul(v).umod(S);return this.g.mulAdd(c,N,u)},T.prototype.getKeyRecoveryParam=function(F,M,I,P){if(M=new A(M,P),M.recoveryParam!==null)return M.recoveryParam;for(var S=0;S<4;S++){var j;try{j=this.recoverPubKey(F,M,S)}catch(N){continue}if(j.eq(I))return S}throw new Error("Unable to find valid recovery factor")}}),kP=m0(($,Q)=>{var X=hX(),Z=X.assert,Y=X.parseBytes,V=X.cachedProperty;function G(H,D){if(this.eddsa=H,this._secret=Y(D.secret),H.isPoint(D.pub))this._pub=D.pub;else this._pubBytes=Y(D.pub)}G.fromPublic=function H(D,A){if(A instanceof G)return A;return new G(D,{pub:A})},G.fromSecret=function H(D,A){if(A instanceof G)return A;return new G(D,{secret:A})},G.prototype.secret=function H(){return this._secret},V(G,"pubBytes",function H(){return this.eddsa.encodePoint(this.pub())}),V(G,"pub",function H(){if(this._pubBytes)return this.eddsa.decodePoint(this._pubBytes);return this.eddsa.g.mul(this.priv())}),V(G,"privBytes",function H(){var D=this.eddsa,A=this.hash(),T=D.encodingLength-1,F=A.slice(0,D.encodingLength);return F[0]&=248,F[T]&=127,F[T]|=64,F}),V(G,"priv",function H(){return this.eddsa.decodeInt(this.privBytes())}),V(G,"hash",function H(){return this.eddsa.hash().update(this.secret()).digest()}),V(G,"messagePrefix",function H(){return this.hash().slice(this.eddsa.encodingLength)}),G.prototype.sign=function H(D){return Z(this._secret,"KeyPair can only verify"),this.eddsa.sign(D,this)},G.prototype.verify=function H(D,A){return this.eddsa.verify(D,A,this)},G.prototype.getSecret=function H(D){return Z(this._secret,"KeyPair is public only"),X.encode(this.secret(),D)},G.prototype.getPublic=function H(D){return X.encode(this.pubBytes(),D)},Q.exports=G}),fP=m0(($,Q)=>{var X=JY(),Z=hX(),Y=Z.assert,V=Z.cachedProperty,G=Z.parseBytes;function H(D,A){if(this.eddsa=D,typeof A!=="object")A=G(A);if(Array.isArray(A))Y(A.length===D.encodingLength*2,"Signature has invalid size"),A={R:A.slice(0,D.encodingLength),S:A.slice(D.encodingLength)};if(Y(A.R&&A.S,"Signature without R or S"),D.isPoint(A.R))this._R=A.R;if(A.S instanceof X)this._S=A.S;this._Rencoded=Array.isArray(A.R)?A.R:A.Rencoded,this._Sencoded=Array.isArray(A.S)?A.S:A.Sencoded}V(H,"S",function D(){return this.eddsa.decodeInt(this.Sencoded())}),V(H,"R",function D(){return this.eddsa.decodePoint(this.Rencoded())}),V(H,"Rencoded",function D(){return this.eddsa.encodePoint(this.R())}),V(H,"Sencoded",function D(){return this.eddsa.encodeInt(this.S())}),H.prototype.toBytes=function D(){return this.Rencoded().concat(this.Sencoded())},H.prototype.toHex=function D(){return Z.encode(this.toBytes(),"hex").toUpperCase()},Q.exports=H}),vP=m0(($,Q)=>{var X=xO(),Z=kO(),Y=hX(),V=Y.assert,G=Y.parseBytes,H=kP(),D=fP();function A(T){if(V(T==="ed25519","only tested with ed25519 so far"),!(this instanceof A))return new A(T);T=Z[T].curve,this.curve=T,this.g=T.g,this.g.precompute(T.n.bitLength()+1),this.pointClass=T.point().constructor,this.encodingLength=Math.ceil(T.n.bitLength()/8),this.hash=X.sha512}Q.exports=A,A.prototype.sign=function T(F,M){F=G(F);var I=this.keyFromSecret(M),P=this.hashInt(I.messagePrefix(),F),S=this.g.mul(P),j=this.encodePoint(S),N=this.hashInt(j,I.pubBytes(),F).mul(I.priv()),w=P.add(N).umod(this.curve.n);return this.makeSignature({R:S,S:w,Rencoded:j})},A.prototype.verify=function T(F,M,I){if(F=G(F),M=this.makeSignature(M),M.S().gte(M.eddsa.curve.n)||M.S().isNeg())return!1;var P=this.keyFromPublic(I),S=this.hashInt(M.Rencoded(),P.pubBytes(),F),j=this.g.mul(M.S()),N=M.R().add(P.pub().mul(S));return N.eq(j)},A.prototype.hashInt=function T(){var F=this.hash();for(var M=0;M<arguments.length;M++)F.update(arguments[M]);return Y.intFromLE(F.digest()).umod(this.curve.n)},A.prototype.keyFromPublic=function T(F){return H.fromPublic(this,F)},A.prototype.keyFromSecret=function T(F){return H.fromSecret(this,F)},A.prototype.makeSignature=function T(F){if(F instanceof D)return F;return new D(this,F)},A.prototype.encodePoint=function T(F){var M=F.getY().toArray("le",this.encodingLength);return M[this.encodingLength-1]|=F.getX().isOdd()?128:0,M},A.prototype.decodePoint=function T(F){F=Y.parseBytes(F);var M=F.length-1,I=F.slice(0,M).concat(F[M]&-129),P=(F[M]&128)!==0,S=Y.intFromLE(I);return this.curve.pointFromY(S,P)},A.prototype.encodeInt=function T(F){return F.toArray("le",this.encodingLength)},A.prototype.decodeInt=function T(F){return Y.intFromLE(F)},A.prototype.isPoint=function T(F){return F instanceof this.pointClass}}),gP=m0(($)=>{var Q=$;Q.version=MP().version,Q.utils=hX(),Q.rand=xD(),Q.curve=kD(),Q.curves=kO(),Q.ec=xP(),Q.eddsa=vP()}),yP=m0(($,Q)=>{(function(X,Z){function Y(E,J){if(!E)throw new Error(J||"Assertion failed")}function V(E,J){E.super_=J;var K=function(){};K.prototype=J.prototype,E.prototype=new K,E.prototype.constructor=E}function G(E,J,K){if(G.isBN(E))return E;if(this.negative=0,this.words=null,this.length=0,this.red=null,E!==null){if(J==="le"||J==="be")K=J,J=10;this._init(E||0,J||10,K||"be")}}if(typeof X==="object")X.exports=G;else Z.BN=G;G.BN=G,G.wordSize=26;var H;try{if(typeof window!=="undefined"&&typeof window.Buffer!=="undefined")H=window.Buffer;else H=(y$(),$$(g$)).Buffer}catch(E){}G.isBN=function E(J){if(J instanceof G)return!0;return J!==null&&typeof J==="object"&&J.constructor.wordSize===G.wordSize&&Array.isArray(J.words)},G.max=function E(J,K){if(J.cmp(K)>0)return J;return K},G.min=function E(J,K){if(J.cmp(K)<0)return J;return K},G.prototype._init=function E(J,K,O){if(typeof J==="number")return this._initNumber(J,K,O);if(typeof J==="object")return this._initArray(J,K,O);if(K==="hex")K=16;Y(K===(K|0)&&K>=2&&K<=36),J=J.toString().replace(/\s+/g,"");var U=0;if(J[0]==="-")U++,this.negative=1;if(U<J.length){if(K===16)this._parseHex(J,U,O);else if(this._parseBase(J,K,U),O==="le")this._initArray(this.toArray(),K,O)}},G.prototype._initNumber=function E(J,K,O){if(J<0)this.negative=1,J=-J;if(J<67108864)this.words=[J&67108863],this.length=1;else if(J<4503599627370496)this.words=[J&67108863,J/67108864&67108863],this.length=2;else Y(J<9007199254740992),this.words=[J&67108863,J/67108864&67108863,1],this.length=3;if(O!=="le")return;this._initArray(this.toArray(),K,O)},G.prototype._initArray=function E(J,K,O){if(Y(typeof J.length==="number"),J.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(J.length/3),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var z,C,R=0;if(O==="be"){for(U=J.length-1,z=0;U>=0;U-=3)if(C=J[U]|J[U-1]<<8|J[U-2]<<16,this.words[z]|=C<<R&67108863,this.words[z+1]=C>>>26-R&67108863,R+=24,R>=26)R-=26,z++}else if(O==="le"){for(U=0,z=0;U<J.length;U+=3)if(C=J[U]|J[U+1]<<8|J[U+2]<<16,this.words[z]|=C<<R&67108863,this.words[z+1]=C>>>26-R&67108863,R+=24,R>=26)R-=26,z++}return this.strip()};function D(E,J){var K=E.charCodeAt(J);if(K>=65&&K<=70)return K-55;else if(K>=97&&K<=102)return K-87;else return K-48&15}function A(E,J,K){var O=D(E,K);if(K-1>=J)O|=D(E,K-1)<<4;return O}G.prototype._parseHex=function E(J,K,O){this.length=Math.ceil((J.length-K)/6),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var z=0,C=0,R;if(O==="be")for(U=J.length-1;U>=K;U-=2)if(R=A(J,K,U)<<z,this.words[C]|=R&67108863,z>=18)z-=18,C+=1,this.words[C]|=R>>>26;else z+=8;else{var L=J.length-K;for(U=L%2===0?K+1:K;U<J.length;U+=2)if(R=A(J,K,U)<<z,this.words[C]|=R&67108863,z>=18)z-=18,C+=1,this.words[C]|=R>>>26;else z+=8}this.strip()};function T(E,J,K,O){var U=0,z=Math.min(E.length,K);for(var C=J;C<z;C++){var R=E.charCodeAt(C)-48;if(U*=O,R>=49)U+=R-49+10;else if(R>=17)U+=R-17+10;else U+=R}return U}G.prototype._parseBase=function E(J,K,O){this.words=[0],this.length=1;for(var U=0,z=1;z<=67108863;z*=K)U++;U--,z=z/K|0;var C=J.length-O,R=C%U,L=Math.min(C,C-R)+O,W=0;for(var q=O;q<L;q+=U)if(W=T(J,q,q+U,K),this.imuln(z),this.words[0]+W<67108864)this.words[0]+=W;else this._iaddn(W);if(R!==0){var _=1;W=T(J,q,J.length,K);for(q=0;q<R;q++)_*=K;if(this.imuln(_),this.words[0]+W<67108864)this.words[0]+=W;else this._iaddn(W)}this.strip()},G.prototype.copy=function E(J){J.words=new Array(this.length);for(var K=0;K<this.length;K++)J.words[K]=this.words[K];J.length=this.length,J.negative=this.negative,J.red=this.red},G.prototype.clone=function E(){var J=new G(null);return this.copy(J),J},G.prototype._expand=function E(J){while(this.length<J)this.words[this.length++]=0;return this},G.prototype.strip=function E(){while(this.length>1&&this.words[this.length-1]===0)this.length--;return this._normSign()},G.prototype._normSign=function E(){if(this.length===1&&this.words[0]===0)this.negative=0;return this},G.prototype.inspect=function E(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var F=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],M=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],I=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];if(G.prototype.toString=function E(J,K){J=J||10,K=K|0||1;var O;if(J===16||J==="hex"){O="";var U=0,z=0;for(var C=0;C<this.length;C++){var R=this.words[C],L=((R<<U|z)&16777215).toString(16);if(z=R>>>24-U&16777215,U+=2,U>=26)U-=26,C--;if(z!==0||C!==this.length-1)O=F[6-L.length]+L+O;else O=L+O}if(z!==0)O=z.toString(16)+O;while(O.length%K!==0)O="0"+O;if(this.negative!==0)O="-"+O;return O}if(J===(J|0)&&J>=2&&J<=36){var W=M[J],q=I[J];O="";var _=this.clone();_.negative=0;while(!_.isZero()){var B=_.modn(q).toString(J);if(_=_.idivn(q),!_.isZero())O=F[W-B.length]+B+O;else O=B+O}if(this.isZero())O="0"+O;while(O.length%K!==0)O="0"+O;if(this.negative!==0)O="-"+O;return O}Y(!1,"Base should be between 2 and 36")},G.prototype.toNumber=function E(){var J=this.words[0];if(this.length===2)J+=this.words[1]*67108864;else if(this.length===3&&this.words[2]===1)J+=4503599627370496+this.words[1]*67108864;else if(this.length>2)Y(!1,"Number can only safely store up to 53 bits");return this.negative!==0?-J:J},G.prototype.toJSON=function E(){return this.toString(16)},G.prototype.toBuffer=function E(J,K){return Y(typeof H!=="undefined"),this.toArrayLike(H,J,K)},G.prototype.toArray=function E(J,K){return this.toArrayLike(Array,J,K)},G.prototype.toArrayLike=function E(J,K,O){var U=this.byteLength(),z=O||Math.max(1,U);Y(U<=z,"byte array longer than desired length"),Y(z>0,"Requested array length <= 0"),this.strip();var C=K==="le",R=new J(z),L,W,q=this.clone();if(!C){for(W=0;W<z-U;W++)R[W]=0;for(W=0;!q.isZero();W++)L=q.andln(255),q.iushrn(8),R[z-W-1]=L}else{for(W=0;!q.isZero();W++)L=q.andln(255),q.iushrn(8),R[W]=L;for(;W<z;W++)R[W]=0}return R},Math.clz32)G.prototype._countBits=function E(J){return 32-Math.clz32(J)};else G.prototype._countBits=function E(J){var K=J,O=0;if(K>=4096)O+=13,K>>>=13;if(K>=64)O+=7,K>>>=7;if(K>=8)O+=4,K>>>=4;if(K>=2)O+=2,K>>>=2;return O+K};G.prototype._zeroBits=function E(J){if(J===0)return 26;var K=J,O=0;if((K&8191)===0)O+=13,K>>>=13;if((K&127)===0)O+=7,K>>>=7;if((K&15)===0)O+=4,K>>>=4;if((K&3)===0)O+=2,K>>>=2;if((K&1)===0)O++;return O},G.prototype.bitLength=function E(){var J=this.words[this.length-1],K=this._countBits(J);return(this.length-1)*26+K};function P(E){var J=new Array(E.bitLength());for(var K=0;K<J.length;K++){var O=K/26|0,U=K%26;J[K]=(E.words[O]&1<<U)>>>U}return J}G.prototype.zeroBits=function E(){if(this.isZero())return 0;var J=0;for(var K=0;K<this.length;K++){var O=this._zeroBits(this.words[K]);if(J+=O,O!==26)break}return J},G.prototype.byteLength=function E(){return Math.ceil(this.bitLength()/8)},G.prototype.toTwos=function E(J){if(this.negative!==0)return this.abs().inotn(J).iaddn(1);return this.clone()},G.prototype.fromTwos=function E(J){if(this.testn(J-1))return this.notn(J).iaddn(1).ineg();return this.clone()},G.prototype.isNeg=function E(){return this.negative!==0},G.prototype.neg=function E(){return this.clone().ineg()},G.prototype.ineg=function E(){if(!this.isZero())this.negative^=1;return this},G.prototype.iuor=function E(J){while(this.length<J.length)this.words[this.length++]=0;for(var K=0;K<J.length;K++)this.words[K]=this.words[K]|J.words[K];return this.strip()},G.prototype.ior=function E(J){return Y((this.negative|J.negative)===0),this.iuor(J)},G.prototype.or=function E(J){if(this.length>J.length)return this.clone().ior(J);return J.clone().ior(this)},G.prototype.uor=function E(J){if(this.length>J.length)return this.clone().iuor(J);return J.clone().iuor(this)},G.prototype.iuand=function E(J){var K;if(this.length>J.length)K=J;else K=this;for(var O=0;O<K.length;O++)this.words[O]=this.words[O]&J.words[O];return this.length=K.length,this.strip()},G.prototype.iand=function E(J){return Y((this.negative|J.negative)===0),this.iuand(J)},G.prototype.and=function E(J){if(this.length>J.length)return this.clone().iand(J);return J.clone().iand(this)},G.prototype.uand=function E(J){if(this.length>J.length)return this.clone().iuand(J);return J.clone().iuand(this)},G.prototype.iuxor=function E(J){var K,O;if(this.length>J.length)K=this,O=J;else K=J,O=this;for(var U=0;U<O.length;U++)this.words[U]=K.words[U]^O.words[U];if(this!==K)for(;U<K.length;U++)this.words[U]=K.words[U];return this.length=K.length,this.strip()},G.prototype.ixor=function E(J){return Y((this.negative|J.negative)===0),this.iuxor(J)},G.prototype.xor=function E(J){if(this.length>J.length)return this.clone().ixor(J);return J.clone().ixor(this)},G.prototype.uxor=function E(J){if(this.length>J.length)return this.clone().iuxor(J);return J.clone().iuxor(this)},G.prototype.inotn=function E(J){Y(typeof J==="number"&&J>=0);var K=Math.ceil(J/26)|0,O=J%26;if(this._expand(K),O>0)K--;for(var U=0;U<K;U++)this.words[U]=~this.words[U]&67108863;if(O>0)this.words[U]=~this.words[U]&67108863>>26-O;return this.strip()},G.prototype.notn=function E(J){return this.clone().inotn(J)},G.prototype.setn=function E(J,K){Y(typeof J==="number"&&J>=0);var O=J/26|0,U=J%26;if(this._expand(O+1),K)this.words[O]=this.words[O]|1<<U;else this.words[O]=this.words[O]&~(1<<U);return this.strip()},G.prototype.iadd=function E(J){var K;if(this.negative!==0&&J.negative===0)return this.negative=0,K=this.isub(J),this.negative^=1,this._normSign();else if(this.negative===0&&J.negative!==0)return J.negative=0,K=this.isub(J),J.negative=1,K._normSign();var O,U;if(this.length>J.length)O=this,U=J;else O=J,U=this;var z=0;for(var C=0;C<U.length;C++)K=(O.words[C]|0)+(U.words[C]|0)+z,this.words[C]=K&67108863,z=K>>>26;for(;z!==0&&C<O.length;C++)K=(O.words[C]|0)+z,this.words[C]=K&67108863,z=K>>>26;if(this.length=O.length,z!==0)this.words[this.length]=z,this.length++;else if(O!==this)for(;C<O.length;C++)this.words[C]=O.words[C];return this},G.prototype.add=function E(J){var K;if(J.negative!==0&&this.negative===0)return J.negative=0,K=this.sub(J),J.negative^=1,K;else if(J.negative===0&&this.negative!==0)return this.negative=0,K=J.sub(this),this.negative=1,K;if(this.length>J.length)return this.clone().iadd(J);return J.clone().iadd(this)},G.prototype.isub=function E(J){if(J.negative!==0){J.negative=0;var K=this.iadd(J);return J.negative=1,K._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(J),this.negative=1,this._normSign();var O=this.cmp(J);if(O===0)return this.negative=0,this.length=1,this.words[0]=0,this;var U,z;if(O>0)U=this,z=J;else U=J,z=this;var C=0;for(var R=0;R<z.length;R++)K=(U.words[R]|0)-(z.words[R]|0)+C,C=K>>26,this.words[R]=K&67108863;for(;C!==0&&R<U.length;R++)K=(U.words[R]|0)+C,C=K>>26,this.words[R]=K&67108863;if(C===0&&R<U.length&&U!==this)for(;R<U.length;R++)this.words[R]=U.words[R];if(this.length=Math.max(this.length,R),U!==this)this.negative=1;return this.strip()},G.prototype.sub=function E(J){return this.clone().isub(J)};function S(E,J,K){K.negative=J.negative^E.negative;var O=E.length+J.length|0;K.length=O,O=O-1|0;var U=E.words[0]|0,z=J.words[0]|0,C=U*z,R=C&67108863,L=C/67108864|0;K.words[0]=R;for(var W=1;W<O;W++){var q=L>>>26,_=L&67108863,B=Math.min(W,J.length-1);for(var x=Math.max(0,W-E.length+1);x<=B;x++){var b=W-x|0;U=E.words[b]|0,z=J.words[x]|0,C=U*z+_,q+=C/67108864|0,_=C&67108863}K.words[W]=_|0,L=q|0}if(L!==0)K.words[W]=L|0;else K.length--;return K.strip()}var j=function E(J,K,O){var U=J.words,z=K.words,C=O.words,R=0,L,W,q,_=U[0]|0,B=_&8191,x=_>>>13,b=U[1]|0,l=b&8191,r=b>>>13,z0=U[2]|0,d=z0&8191,o=z0>>>13,R0=U[3]|0,G0=R0&8191,W0=R0>>>13,a=U[4]|0,m=a&8191,n=a>>>13,b0=U[5]|0,Q0=b0&8191,$0=b0>>>13,t=U[6]|0,i=t&8191,Y0=t>>>13,C0=U[7]|0,U0=C0&8191,D0=C0>>>13,a0=U[8]|0,H0=a0&8191,T0=a0>>>13,C$=U[9]|0,q0=C$&8191,I0=C$>>>13,p$=z[0]|0,F0=p$&8191,f0=p$>>>13,CQ=z[1]|0,v0=CQ&8191,g0=CQ>>>13,_Q=z[2]|0,w0=_Q&8191,_0=_Q>>>13,xQ=z[3]|0,x0=xQ&8191,S0=xQ>>>13,kQ=z[4]|0,y0=kQ&8191,B0=kQ>>>13,TQ=z[5]|0,g=TQ&8191,y=TQ>>>13,p0=z[6]|0,X0=p0&8191,V0=p0>>>13,T$=z[7]|0,A0=T$&8191,E0=T$>>>13,FQ=z[8]|0,h0=FQ&8191,k0=FQ>>>13,RQ=z[9]|0,j0=RQ&8191,N0=RQ>>>13;O.negative=J.negative^K.negative,O.length=19,L=Math.imul(B,F0),W=Math.imul(B,f0),W=W+Math.imul(x,F0)|0,q=Math.imul(x,f0);var v$=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(v$>>>26)|0,v$&=67108863,L=Math.imul(l,F0),W=Math.imul(l,f0),W=W+Math.imul(r,F0)|0,q=Math.imul(r,f0),L=L+Math.imul(B,v0)|0,W=W+Math.imul(B,g0)|0,W=W+Math.imul(x,v0)|0,q=q+Math.imul(x,g0)|0;var t0=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(t0>>>26)|0,t0&=67108863,L=Math.imul(d,F0),W=Math.imul(d,f0),W=W+Math.imul(o,F0)|0,q=Math.imul(o,f0),L=L+Math.imul(l,v0)|0,W=W+Math.imul(l,g0)|0,W=W+Math.imul(r,v0)|0,q=q+Math.imul(r,g0)|0,L=L+Math.imul(B,w0)|0,W=W+Math.imul(B,_0)|0,W=W+Math.imul(x,w0)|0,q=q+Math.imul(x,_0)|0;var r0=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(r0>>>26)|0,r0&=67108863,L=Math.imul(G0,F0),W=Math.imul(G0,f0),W=W+Math.imul(W0,F0)|0,q=Math.imul(W0,f0),L=L+Math.imul(d,v0)|0,W=W+Math.imul(d,g0)|0,W=W+Math.imul(o,v0)|0,q=q+Math.imul(o,g0)|0,L=L+Math.imul(l,w0)|0,W=W+Math.imul(l,_0)|0,W=W+Math.imul(r,w0)|0,q=q+Math.imul(r,_0)|0,L=L+Math.imul(B,x0)|0,W=W+Math.imul(B,S0)|0,W=W+Math.imul(x,x0)|0,q=q+Math.imul(x,S0)|0;var I$=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(I$>>>26)|0,I$&=67108863,L=Math.imul(m,F0),W=Math.imul(m,f0),W=W+Math.imul(n,F0)|0,q=Math.imul(n,f0),L=L+Math.imul(G0,v0)|0,W=W+Math.imul(G0,g0)|0,W=W+Math.imul(W0,v0)|0,q=q+Math.imul(W0,g0)|0,L=L+Math.imul(d,w0)|0,W=W+Math.imul(d,_0)|0,W=W+Math.imul(o,w0)|0,q=q+Math.imul(o,_0)|0,L=L+Math.imul(l,x0)|0,W=W+Math.imul(l,S0)|0,W=W+Math.imul(r,x0)|0,q=q+Math.imul(r,S0)|0,L=L+Math.imul(B,y0)|0,W=W+Math.imul(B,B0)|0,W=W+Math.imul(x,y0)|0,q=q+Math.imul(x,B0)|0;var i$=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(i$>>>26)|0,i$&=67108863,L=Math.imul(Q0,F0),W=Math.imul(Q0,f0),W=W+Math.imul($0,F0)|0,q=Math.imul($0,f0),L=L+Math.imul(m,v0)|0,W=W+Math.imul(m,g0)|0,W=W+Math.imul(n,v0)|0,q=q+Math.imul(n,g0)|0,L=L+Math.imul(G0,w0)|0,W=W+Math.imul(G0,_0)|0,W=W+Math.imul(W0,w0)|0,q=q+Math.imul(W0,_0)|0,L=L+Math.imul(d,x0)|0,W=W+Math.imul(d,S0)|0,W=W+Math.imul(o,x0)|0,q=q+Math.imul(o,S0)|0,L=L+Math.imul(l,y0)|0,W=W+Math.imul(l,B0)|0,W=W+Math.imul(r,y0)|0,q=q+Math.imul(r,B0)|0,L=L+Math.imul(B,g)|0,W=W+Math.imul(B,y)|0,W=W+Math.imul(x,g)|0,q=q+Math.imul(x,y)|0;var r$=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(r$>>>26)|0,r$&=67108863,L=Math.imul(i,F0),W=Math.imul(i,f0),W=W+Math.imul(Y0,F0)|0,q=Math.imul(Y0,f0),L=L+Math.imul(Q0,v0)|0,W=W+Math.imul(Q0,g0)|0,W=W+Math.imul($0,v0)|0,q=q+Math.imul($0,g0)|0,L=L+Math.imul(m,w0)|0,W=W+Math.imul(m,_0)|0,W=W+Math.imul(n,w0)|0,q=q+Math.imul(n,_0)|0,L=L+Math.imul(G0,x0)|0,W=W+Math.imul(G0,S0)|0,W=W+Math.imul(W0,x0)|0,q=q+Math.imul(W0,S0)|0,L=L+Math.imul(d,y0)|0,W=W+Math.imul(d,B0)|0,W=W+Math.imul(o,y0)|0,q=q+Math.imul(o,B0)|0,L=L+Math.imul(l,g)|0,W=W+Math.imul(l,y)|0,W=W+Math.imul(r,g)|0,q=q+Math.imul(r,y)|0,L=L+Math.imul(B,X0)|0,W=W+Math.imul(B,V0)|0,W=W+Math.imul(x,X0)|0,q=q+Math.imul(x,V0)|0;var a$=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(a$>>>26)|0,a$&=67108863,L=Math.imul(U0,F0),W=Math.imul(U0,f0),W=W+Math.imul(D0,F0)|0,q=Math.imul(D0,f0),L=L+Math.imul(i,v0)|0,W=W+Math.imul(i,g0)|0,W=W+Math.imul(Y0,v0)|0,q=q+Math.imul(Y0,g0)|0,L=L+Math.imul(Q0,w0)|0,W=W+Math.imul(Q0,_0)|0,W=W+Math.imul($0,w0)|0,q=q+Math.imul($0,_0)|0,L=L+Math.imul(m,x0)|0,W=W+Math.imul(m,S0)|0,W=W+Math.imul(n,x0)|0,q=q+Math.imul(n,S0)|0,L=L+Math.imul(G0,y0)|0,W=W+Math.imul(G0,B0)|0,W=W+Math.imul(W0,y0)|0,q=q+Math.imul(W0,B0)|0,L=L+Math.imul(d,g)|0,W=W+Math.imul(d,y)|0,W=W+Math.imul(o,g)|0,q=q+Math.imul(o,y)|0,L=L+Math.imul(l,X0)|0,W=W+Math.imul(l,V0)|0,W=W+Math.imul(r,X0)|0,q=q+Math.imul(r,V0)|0,L=L+Math.imul(B,A0)|0,W=W+Math.imul(B,E0)|0,W=W+Math.imul(x,A0)|0,q=q+Math.imul(x,E0)|0;var t$=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(t$>>>26)|0,t$&=67108863,L=Math.imul(H0,F0),W=Math.imul(H0,f0),W=W+Math.imul(T0,F0)|0,q=Math.imul(T0,f0),L=L+Math.imul(U0,v0)|0,W=W+Math.imul(U0,g0)|0,W=W+Math.imul(D0,v0)|0,q=q+Math.imul(D0,g0)|0,L=L+Math.imul(i,w0)|0,W=W+Math.imul(i,_0)|0,W=W+Math.imul(Y0,w0)|0,q=q+Math.imul(Y0,_0)|0,L=L+Math.imul(Q0,x0)|0,W=W+Math.imul(Q0,S0)|0,W=W+Math.imul($0,x0)|0,q=q+Math.imul($0,S0)|0,L=L+Math.imul(m,y0)|0,W=W+Math.imul(m,B0)|0,W=W+Math.imul(n,y0)|0,q=q+Math.imul(n,B0)|0,L=L+Math.imul(G0,g)|0,W=W+Math.imul(G0,y)|0,W=W+Math.imul(W0,g)|0,q=q+Math.imul(W0,y)|0,L=L+Math.imul(d,X0)|0,W=W+Math.imul(d,V0)|0,W=W+Math.imul(o,X0)|0,q=q+Math.imul(o,V0)|0,L=L+Math.imul(l,A0)|0,W=W+Math.imul(l,E0)|0,W=W+Math.imul(r,A0)|0,q=q+Math.imul(r,E0)|0,L=L+Math.imul(B,h0)|0,W=W+Math.imul(B,k0)|0,W=W+Math.imul(x,h0)|0,q=q+Math.imul(x,k0)|0;var e$=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(e$>>>26)|0,e$&=67108863,L=Math.imul(q0,F0),W=Math.imul(q0,f0),W=W+Math.imul(I0,F0)|0,q=Math.imul(I0,f0),L=L+Math.imul(H0,v0)|0,W=W+Math.imul(H0,g0)|0,W=W+Math.imul(T0,v0)|0,q=q+Math.imul(T0,g0)|0,L=L+Math.imul(U0,w0)|0,W=W+Math.imul(U0,_0)|0,W=W+Math.imul(D0,w0)|0,q=q+Math.imul(D0,_0)|0,L=L+Math.imul(i,x0)|0,W=W+Math.imul(i,S0)|0,W=W+Math.imul(Y0,x0)|0,q=q+Math.imul(Y0,S0)|0,L=L+Math.imul(Q0,y0)|0,W=W+Math.imul(Q0,B0)|0,W=W+Math.imul($0,y0)|0,q=q+Math.imul($0,B0)|0,L=L+Math.imul(m,g)|0,W=W+Math.imul(m,y)|0,W=W+Math.imul(n,g)|0,q=q+Math.imul(n,y)|0,L=L+Math.imul(G0,X0)|0,W=W+Math.imul(G0,V0)|0,W=W+Math.imul(W0,X0)|0,q=q+Math.imul(W0,V0)|0,L=L+Math.imul(d,A0)|0,W=W+Math.imul(d,E0)|0,W=W+Math.imul(o,A0)|0,q=q+Math.imul(o,E0)|0,L=L+Math.imul(l,h0)|0,W=W+Math.imul(l,k0)|0,W=W+Math.imul(r,h0)|0,q=q+Math.imul(r,k0)|0,L=L+Math.imul(B,j0)|0,W=W+Math.imul(B,N0)|0,W=W+Math.imul(x,j0)|0,q=q+Math.imul(x,N0)|0;var $Q=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+($Q>>>26)|0,$Q&=67108863,L=Math.imul(q0,v0),W=Math.imul(q0,g0),W=W+Math.imul(I0,v0)|0,q=Math.imul(I0,g0),L=L+Math.imul(H0,w0)|0,W=W+Math.imul(H0,_0)|0,W=W+Math.imul(T0,w0)|0,q=q+Math.imul(T0,_0)|0,L=L+Math.imul(U0,x0)|0,W=W+Math.imul(U0,S0)|0,W=W+Math.imul(D0,x0)|0,q=q+Math.imul(D0,S0)|0,L=L+Math.imul(i,y0)|0,W=W+Math.imul(i,B0)|0,W=W+Math.imul(Y0,y0)|0,q=q+Math.imul(Y0,B0)|0,L=L+Math.imul(Q0,g)|0,W=W+Math.imul(Q0,y)|0,W=W+Math.imul($0,g)|0,q=q+Math.imul($0,y)|0,L=L+Math.imul(m,X0)|0,W=W+Math.imul(m,V0)|0,W=W+Math.imul(n,X0)|0,q=q+Math.imul(n,V0)|0,L=L+Math.imul(G0,A0)|0,W=W+Math.imul(G0,E0)|0,W=W+Math.imul(W0,A0)|0,q=q+Math.imul(W0,E0)|0,L=L+Math.imul(d,h0)|0,W=W+Math.imul(d,k0)|0,W=W+Math.imul(o,h0)|0,q=q+Math.imul(o,k0)|0,L=L+Math.imul(l,j0)|0,W=W+Math.imul(l,N0)|0,W=W+Math.imul(r,j0)|0,q=q+Math.imul(r,N0)|0;var QQ=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(QQ>>>26)|0,QQ&=67108863,L=Math.imul(q0,w0),W=Math.imul(q0,_0),W=W+Math.imul(I0,w0)|0,q=Math.imul(I0,_0),L=L+Math.imul(H0,x0)|0,W=W+Math.imul(H0,S0)|0,W=W+Math.imul(T0,x0)|0,q=q+Math.imul(T0,S0)|0,L=L+Math.imul(U0,y0)|0,W=W+Math.imul(U0,B0)|0,W=W+Math.imul(D0,y0)|0,q=q+Math.imul(D0,B0)|0,L=L+Math.imul(i,g)|0,W=W+Math.imul(i,y)|0,W=W+Math.imul(Y0,g)|0,q=q+Math.imul(Y0,y)|0,L=L+Math.imul(Q0,X0)|0,W=W+Math.imul(Q0,V0)|0,W=W+Math.imul($0,X0)|0,q=q+Math.imul($0,V0)|0,L=L+Math.imul(m,A0)|0,W=W+Math.imul(m,E0)|0,W=W+Math.imul(n,A0)|0,q=q+Math.imul(n,E0)|0,L=L+Math.imul(G0,h0)|0,W=W+Math.imul(G0,k0)|0,W=W+Math.imul(W0,h0)|0,q=q+Math.imul(W0,k0)|0,L=L+Math.imul(d,j0)|0,W=W+Math.imul(d,N0)|0,W=W+Math.imul(o,j0)|0,q=q+Math.imul(o,N0)|0;var XQ=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(XQ>>>26)|0,XQ&=67108863,L=Math.imul(q0,x0),W=Math.imul(q0,S0),W=W+Math.imul(I0,x0)|0,q=Math.imul(I0,S0),L=L+Math.imul(H0,y0)|0,W=W+Math.imul(H0,B0)|0,W=W+Math.imul(T0,y0)|0,q=q+Math.imul(T0,B0)|0,L=L+Math.imul(U0,g)|0,W=W+Math.imul(U0,y)|0,W=W+Math.imul(D0,g)|0,q=q+Math.imul(D0,y)|0,L=L+Math.imul(i,X0)|0,W=W+Math.imul(i,V0)|0,W=W+Math.imul(Y0,X0)|0,q=q+Math.imul(Y0,V0)|0,L=L+Math.imul(Q0,A0)|0,W=W+Math.imul(Q0,E0)|0,W=W+Math.imul($0,A0)|0,q=q+Math.imul($0,E0)|0,L=L+Math.imul(m,h0)|0,W=W+Math.imul(m,k0)|0,W=W+Math.imul(n,h0)|0,q=q+Math.imul(n,k0)|0,L=L+Math.imul(G0,j0)|0,W=W+Math.imul(G0,N0)|0,W=W+Math.imul(W0,j0)|0,q=q+Math.imul(W0,N0)|0;var ZQ=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(ZQ>>>26)|0,ZQ&=67108863,L=Math.imul(q0,y0),W=Math.imul(q0,B0),W=W+Math.imul(I0,y0)|0,q=Math.imul(I0,B0),L=L+Math.imul(H0,g)|0,W=W+Math.imul(H0,y)|0,W=W+Math.imul(T0,g)|0,q=q+Math.imul(T0,y)|0,L=L+Math.imul(U0,X0)|0,W=W+Math.imul(U0,V0)|0,W=W+Math.imul(D0,X0)|0,q=q+Math.imul(D0,V0)|0,L=L+Math.imul(i,A0)|0,W=W+Math.imul(i,E0)|0,W=W+Math.imul(Y0,A0)|0,q=q+Math.imul(Y0,E0)|0,L=L+Math.imul(Q0,h0)|0,W=W+Math.imul(Q0,k0)|0,W=W+Math.imul($0,h0)|0,q=q+Math.imul($0,k0)|0,L=L+Math.imul(m,j0)|0,W=W+Math.imul(m,N0)|0,W=W+Math.imul(n,j0)|0,q=q+Math.imul(n,N0)|0;var YQ=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(YQ>>>26)|0,YQ&=67108863,L=Math.imul(q0,g),W=Math.imul(q0,y),W=W+Math.imul(I0,g)|0,q=Math.imul(I0,y),L=L+Math.imul(H0,X0)|0,W=W+Math.imul(H0,V0)|0,W=W+Math.imul(T0,X0)|0,q=q+Math.imul(T0,V0)|0,L=L+Math.imul(U0,A0)|0,W=W+Math.imul(U0,E0)|0,W=W+Math.imul(D0,A0)|0,q=q+Math.imul(D0,E0)|0,L=L+Math.imul(i,h0)|0,W=W+Math.imul(i,k0)|0,W=W+Math.imul(Y0,h0)|0,q=q+Math.imul(Y0,k0)|0,L=L+Math.imul(Q0,j0)|0,W=W+Math.imul(Q0,N0)|0,W=W+Math.imul($0,j0)|0,q=q+Math.imul($0,N0)|0;var JQ=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(JQ>>>26)|0,JQ&=67108863,L=Math.imul(q0,X0),W=Math.imul(q0,V0),W=W+Math.imul(I0,X0)|0,q=Math.imul(I0,V0),L=L+Math.imul(H0,A0)|0,W=W+Math.imul(H0,E0)|0,W=W+Math.imul(T0,A0)|0,q=q+Math.imul(T0,E0)|0,L=L+Math.imul(U0,h0)|0,W=W+Math.imul(U0,k0)|0,W=W+Math.imul(D0,h0)|0,q=q+Math.imul(D0,k0)|0,L=L+Math.imul(i,j0)|0,W=W+Math.imul(i,N0)|0,W=W+Math.imul(Y0,j0)|0,q=q+Math.imul(Y0,N0)|0;var GQ=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(GQ>>>26)|0,GQ&=67108863,L=Math.imul(q0,A0),W=Math.imul(q0,E0),W=W+Math.imul(I0,A0)|0,q=Math.imul(I0,E0),L=L+Math.imul(H0,h0)|0,W=W+Math.imul(H0,k0)|0,W=W+Math.imul(T0,h0)|0,q=q+Math.imul(T0,k0)|0,L=L+Math.imul(U0,j0)|0,W=W+Math.imul(U0,N0)|0,W=W+Math.imul(D0,j0)|0,q=q+Math.imul(D0,N0)|0;var WQ=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(WQ>>>26)|0,WQ&=67108863,L=Math.imul(q0,h0),W=Math.imul(q0,k0),W=W+Math.imul(I0,h0)|0,q=Math.imul(I0,k0),L=L+Math.imul(H0,j0)|0,W=W+Math.imul(H0,N0)|0,W=W+Math.imul(T0,j0)|0,q=q+Math.imul(T0,N0)|0;var VQ=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(VQ>>>26)|0,VQ&=67108863,L=Math.imul(q0,j0),W=Math.imul(q0,N0),W=W+Math.imul(I0,j0)|0,q=Math.imul(I0,N0);var UQ=(R+L|0)+((W&8191)<<13)|0;if(R=(q+(W>>>13)|0)+(UQ>>>26)|0,UQ&=67108863,C[0]=v$,C[1]=t0,C[2]=r0,C[3]=I$,C[4]=i$,C[5]=r$,C[6]=a$,C[7]=t$,C[8]=e$,C[9]=$Q,C[10]=QQ,C[11]=XQ,C[12]=ZQ,C[13]=YQ,C[14]=JQ,C[15]=GQ,C[16]=WQ,C[17]=VQ,C[18]=UQ,R!==0)C[19]=R,O.length++;return O};if(!Math.imul)j=S;function N(E,J,K){K.negative=J.negative^E.negative,K.length=E.length+J.length;var O=0,U=0;for(var z=0;z<K.length-1;z++){var C=U;U=0;var R=O&67108863,L=Math.min(z,J.length-1);for(var W=Math.max(0,z-E.length+1);W<=L;W++){var q=z-W,_=E.words[q]|0,B=J.words[W]|0,x=_*B,b=x&67108863;C=C+(x/67108864|0)|0,b=b+R|0,R=b&67108863,C=C+(b>>>26)|0,U+=C>>>26,C&=67108863}K.words[z]=R,O=C,C=U}if(O!==0)K.words[z]=O;else K.length--;return K.strip()}function w(E,J,K){var O=new k;return O.mulp(E,J,K)}G.prototype.mulTo=function E(J,K){var O,U=this.length+J.length;if(this.length===10&&J.length===10)O=j(this,J,K);else if(U<63)O=S(this,J,K);else if(U<1024)O=N(this,J,K);else O=w(this,J,K);return O};function k(E,J){this.x=E,this.y=J}k.prototype.makeRBT=function E(J){var K=new Array(J),O=G.prototype._countBits(J)-1;for(var U=0;U<J;U++)K[U]=this.revBin(U,O,J);return K},k.prototype.revBin=function E(J,K,O){if(J===0||J===O-1)return J;var U=0;for(var z=0;z<K;z++)U|=(J&1)<<K-z-1,J>>=1;return U},k.prototype.permute=function E(J,K,O,U,z,C){for(var R=0;R<C;R++)U[R]=K[J[R]],z[R]=O[J[R]]},k.prototype.transform=function E(J,K,O,U,z,C){this.permute(C,J,K,O,U,z);for(var R=1;R<z;R<<=1){var L=R<<1,W=Math.cos(2*Math.PI/L),q=Math.sin(2*Math.PI/L);for(var _=0;_<z;_+=L){var B=W,x=q;for(var b=0;b<R;b++){var l=O[_+b],r=U[_+b],z0=O[_+b+R],d=U[_+b+R],o=B*z0-x*d;if(d=B*d+x*z0,z0=o,O[_+b]=l+z0,U[_+b]=r+d,O[_+b+R]=l-z0,U[_+b+R]=r-d,b!==L)o=W*B-q*x,x=W*x+q*B,B=o}}}},k.prototype.guessLen13b=function E(J,K){var O=Math.max(K,J)|1,U=O&1,z=0;for(O=O/2|0;O;O=O>>>1)z++;return 1<<z+1+U},k.prototype.conjugate=function E(J,K,O){if(O<=1)return;for(var U=0;U<O/2;U++){var z=J[U];J[U]=J[O-U-1],J[O-U-1]=z,z=K[U],K[U]=-K[O-U-1],K[O-U-1]=-z}},k.prototype.normalize13b=function E(J,K){var O=0;for(var U=0;U<K/2;U++){var z=Math.round(J[2*U+1]/K)*8192+Math.round(J[2*U]/K)+O;if(J[U]=z&67108863,z<67108864)O=0;else O=z/67108864|0}return J},k.prototype.convert13b=function E(J,K,O,U){var z=0;for(var C=0;C<K;C++)z=z+(J[C]|0),O[2*C]=z&8191,z=z>>>13,O[2*C+1]=z&8191,z=z>>>13;for(C=2*K;C<U;++C)O[C]=0;Y(z===0),Y((z&-8192)===0)},k.prototype.stub=function E(J){var K=new Array(J);for(var O=0;O<J;O++)K[O]=0;return K},k.prototype.mulp=function E(J,K,O){var U=2*this.guessLen13b(J.length,K.length),z=this.makeRBT(U),C=this.stub(U),R=new Array(U),L=new Array(U),W=new Array(U),q=new Array(U),_=new Array(U),B=new Array(U),x=O.words;x.length=U,this.convert13b(J.words,J.length,R,U),this.convert13b(K.words,K.length,q,U),this.transform(R,C,L,W,U,z),this.transform(q,C,_,B,U,z);for(var b=0;b<U;b++){var l=L[b]*_[b]-W[b]*B[b];W[b]=L[b]*B[b]+W[b]*_[b],L[b]=l}return this.conjugate(L,W,U),this.transform(L,W,x,C,U,z),this.conjugate(x,C,U),this.normalize13b(x,U),O.negative=J.negative^K.negative,O.length=J.length+K.length,O.strip()},G.prototype.mul=function E(J){var K=new G(null);return K.words=new Array(this.length+J.length),this.mulTo(J,K)},G.prototype.mulf=function E(J){var K=new G(null);return K.words=new Array(this.length+J.length),w(this,J,K)},G.prototype.imul=function E(J){return this.clone().mulTo(J,this)},G.prototype.imuln=function E(J){Y(typeof J==="number"),Y(J<67108864);var K=0;for(var O=0;O<this.length;O++){var U=(this.words[O]|0)*J,z=(U&67108863)+(K&67108863);K>>=26,K+=U/67108864|0,K+=z>>>26,this.words[O]=z&67108863}if(K!==0)this.words[O]=K,this.length++;return this.length=J===0?1:this.length,this},G.prototype.muln=function E(J){return this.clone().imuln(J)},G.prototype.sqr=function E(){return this.mul(this)},G.prototype.isqr=function E(){return this.imul(this.clone())},G.prototype.pow=function E(J){var K=P(J);if(K.length===0)return new G(1);var O=this;for(var U=0;U<K.length;U++,O=O.sqr())if(K[U]!==0)break;if(++U<K.length)for(var z=O.sqr();U<K.length;U++,z=z.sqr()){if(K[U]===0)continue;O=O.mul(z)}return O},G.prototype.iushln=function E(J){Y(typeof J==="number"&&J>=0);var K=J%26,O=(J-K)/26,U=67108863>>>26-K<<26-K,z;if(K!==0){var C=0;for(z=0;z<this.length;z++){var R=this.words[z]&U,L=(this.words[z]|0)-R<<K;this.words[z]=L|C,C=R>>>26-K}if(C)this.words[z]=C,this.length++}if(O!==0){for(z=this.length-1;z>=0;z--)this.words[z+O]=this.words[z];for(z=0;z<O;z++)this.words[z]=0;this.length+=O}return this.strip()},G.prototype.ishln=function E(J){return Y(this.negative===0),this.iushln(J)},G.prototype.iushrn=function E(J,K,O){Y(typeof J==="number"&&J>=0);var U;if(K)U=(K-K%26)/26;else U=0;var z=J%26,C=Math.min((J-z)/26,this.length),R=67108863^67108863>>>z<<z,L=O;if(U-=C,U=Math.max(0,U),L){for(var W=0;W<C;W++)L.words[W]=this.words[W];L.length=C}if(C===0);else if(this.length>C){this.length-=C;for(W=0;W<this.length;W++)this.words[W]=this.words[W+C]}else this.words[0]=0,this.length=1;var q=0;for(W=this.length-1;W>=0&&(q!==0||W>=U);W--){var _=this.words[W]|0;this.words[W]=q<<26-z|_>>>z,q=_&R}if(L&&q!==0)L.words[L.length++]=q;if(this.length===0)this.words[0]=0,this.length=1;return this.strip()},G.prototype.ishrn=function E(J,K,O){return Y(this.negative===0),this.iushrn(J,K,O)},G.prototype.shln=function E(J){return this.clone().ishln(J)},G.prototype.ushln=function E(J){return this.clone().iushln(J)},G.prototype.shrn=function E(J){return this.clone().ishrn(J)},G.prototype.ushrn=function E(J){return this.clone().iushrn(J)},G.prototype.testn=function E(J){Y(typeof J==="number"&&J>=0);var K=J%26,O=(J-K)/26,U=1<<K;if(this.length<=O)return!1;var z=this.words[O];return!!(z&U)},G.prototype.imaskn=function E(J){Y(typeof J==="number"&&J>=0);var K=J%26,O=(J-K)/26;if(Y(this.negative===0,"imaskn works only with positive numbers"),this.length<=O)return this;if(K!==0)O++;if(this.length=Math.min(O,this.length),K!==0){var U=67108863^67108863>>>K<<K;this.words[this.length-1]&=U}return this.strip()},G.prototype.maskn=function E(J){return this.clone().imaskn(J)},G.prototype.iaddn=function E(J){if(Y(typeof J==="number"),Y(J<67108864),J<0)return this.isubn(-J);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<J)return this.words[0]=J-(this.words[0]|0),this.negative=0,this;return this.negative=0,this.isubn(J),this.negative=1,this}return this._iaddn(J)},G.prototype._iaddn=function E(J){this.words[0]+=J;for(var K=0;K<this.length&&this.words[K]>=67108864;K++)if(this.words[K]-=67108864,K===this.length-1)this.words[K+1]=1;else this.words[K+1]++;return this.length=Math.max(this.length,K+1),this},G.prototype.isubn=function E(J){if(Y(typeof J==="number"),Y(J<67108864),J<0)return this.iaddn(-J);if(this.negative!==0)return this.negative=0,this.iaddn(J),this.negative=1,this;if(this.words[0]-=J,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var K=0;K<this.length&&this.words[K]<0;K++)this.words[K]+=67108864,this.words[K+1]-=1;return this.strip()},G.prototype.addn=function E(J){return this.clone().iaddn(J)},G.prototype.subn=function E(J){return this.clone().isubn(J)},G.prototype.iabs=function E(){return this.negative=0,this},G.prototype.abs=function E(){return this.clone().iabs()},G.prototype._ishlnsubmul=function E(J,K,O){var U=J.length+O,z;this._expand(U);var C,R=0;for(z=0;z<J.length;z++){C=(this.words[z+O]|0)+R;var L=(J.words[z]|0)*K;C-=L&67108863,R=(C>>26)-(L/67108864|0),this.words[z+O]=C&67108863}for(;z<this.length-O;z++)C=(this.words[z+O]|0)+R,R=C>>26,this.words[z+O]=C&67108863;if(R===0)return this.strip();Y(R===-1),R=0;for(z=0;z<this.length;z++)C=-(this.words[z]|0)+R,R=C>>26,this.words[z]=C&67108863;return this.negative=1,this.strip()},G.prototype._wordDiv=function E(J,K){var O=this.length-J.length,U=this.clone(),z=J,C=z.words[z.length-1]|0,R=this._countBits(C);if(O=26-R,O!==0)z=z.ushln(O),U.iushln(O),C=z.words[z.length-1]|0;var L=U.length-z.length,W;if(K!=="mod"){W=new G(null),W.length=L+1,W.words=new Array(W.length);for(var q=0;q<W.length;q++)W.words[q]=0}var _=U.clone()._ishlnsubmul(z,1,L);if(_.negative===0){if(U=_,W)W.words[L]=1}for(var B=L-1;B>=0;B--){var x=(U.words[z.length+B]|0)*67108864+(U.words[z.length+B-1]|0);x=Math.min(x/C|0,67108863),U._ishlnsubmul(z,x,B);while(U.negative!==0)if(x--,U.negative=0,U._ishlnsubmul(z,1,B),!U.isZero())U.negative^=1;if(W)W.words[B]=x}if(W)W.strip();if(U.strip(),K!=="div"&&O!==0)U.iushrn(O);return{div:W||null,mod:U}},G.prototype.divmod=function E(J,K,O){if(Y(!J.isZero()),this.isZero())return{div:new G(0),mod:new G(0)};var U,z,C;if(this.negative!==0&&J.negative===0){if(C=this.neg().divmod(J,K),K!=="mod")U=C.div.neg();if(K!=="div"){if(z=C.mod.neg(),O&&z.negative!==0)z.iadd(J)}return{div:U,mod:z}}if(this.negative===0&&J.negative!==0){if(C=this.divmod(J.neg(),K),K!=="mod")U=C.div.neg();return{div:U,mod:C.mod}}if((this.negative&J.negative)!==0){if(C=this.neg().divmod(J.neg(),K),K!=="div"){if(z=C.mod.neg(),O&&z.negative!==0)z.isub(J)}return{div:C.div,mod:z}}if(J.length>this.length||this.cmp(J)<0)return{div:new G(0),mod:this};if(J.length===1){if(K==="div")return{div:this.divn(J.words[0]),mod:null};if(K==="mod")return{div:null,mod:new G(this.modn(J.words[0]))};return{div:this.divn(J.words[0]),mod:new G(this.modn(J.words[0]))}}return this._wordDiv(J,K)},G.prototype.div=function E(J){return this.divmod(J,"div",!1).div},G.prototype.mod=function E(J){return this.divmod(J,"mod",!1).mod},G.prototype.umod=function E(J){return this.divmod(J,"mod",!0).mod},G.prototype.divRound=function E(J){var K=this.divmod(J);if(K.mod.isZero())return K.div;var O=K.div.negative!==0?K.mod.isub(J):K.mod,U=J.ushrn(1),z=J.andln(1),C=O.cmp(U);if(C<0||z===1&&C===0)return K.div;return K.div.negative!==0?K.div.isubn(1):K.div.iaddn(1)},G.prototype.modn=function E(J){Y(J<=67108863);var K=67108864%J,O=0;for(var U=this.length-1;U>=0;U--)O=(K*O+(this.words[U]|0))%J;return O},G.prototype.idivn=function E(J){Y(J<=67108863);var K=0;for(var O=this.length-1;O>=0;O--){var U=(this.words[O]|0)+K*67108864;this.words[O]=U/J|0,K=U%J}return this.strip()},G.prototype.divn=function E(J){return this.clone().idivn(J)},G.prototype.egcd=function E(J){Y(J.negative===0),Y(!J.isZero());var K=this,O=J.clone();if(K.negative!==0)K=K.umod(J);else K=K.clone();var U=new G(1),z=new G(0),C=new G(0),R=new G(1),L=0;while(K.isEven()&&O.isEven())K.iushrn(1),O.iushrn(1),++L;var W=O.clone(),q=K.clone();while(!K.isZero()){for(var _=0,B=1;(K.words[0]&B)===0&&_<26;++_,B<<=1);if(_>0){K.iushrn(_);while(_-- >0){if(U.isOdd()||z.isOdd())U.iadd(W),z.isub(q);U.iushrn(1),z.iushrn(1)}}for(var x=0,b=1;(O.words[0]&b)===0&&x<26;++x,b<<=1);if(x>0){O.iushrn(x);while(x-- >0){if(C.isOdd()||R.isOdd())C.iadd(W),R.isub(q);C.iushrn(1),R.iushrn(1)}}if(K.cmp(O)>=0)K.isub(O),U.isub(C),z.isub(R);else O.isub(K),C.isub(U),R.isub(z)}return{a:C,b:R,gcd:O.iushln(L)}},G.prototype._invmp=function E(J){Y(J.negative===0),Y(!J.isZero());var K=this,O=J.clone();if(K.negative!==0)K=K.umod(J);else K=K.clone();var U=new G(1),z=new G(0),C=O.clone();while(K.cmpn(1)>0&&O.cmpn(1)>0){for(var R=0,L=1;(K.words[0]&L)===0&&R<26;++R,L<<=1);if(R>0){K.iushrn(R);while(R-- >0){if(U.isOdd())U.iadd(C);U.iushrn(1)}}for(var W=0,q=1;(O.words[0]&q)===0&&W<26;++W,q<<=1);if(W>0){O.iushrn(W);while(W-- >0){if(z.isOdd())z.iadd(C);z.iushrn(1)}}if(K.cmp(O)>=0)K.isub(O),U.isub(z);else O.isub(K),z.isub(U)}var _;if(K.cmpn(1)===0)_=U;else _=z;if(_.cmpn(0)<0)_.iadd(J);return _},G.prototype.gcd=function E(J){if(this.isZero())return J.abs();if(J.isZero())return this.abs();var K=this.clone(),O=J.clone();K.negative=0,O.negative=0;for(var U=0;K.isEven()&&O.isEven();U++)K.iushrn(1),O.iushrn(1);do{while(K.isEven())K.iushrn(1);while(O.isEven())O.iushrn(1);var z=K.cmp(O);if(z<0){var C=K;K=O,O=C}else if(z===0||O.cmpn(1)===0)break;K.isub(O)}while(!0);return O.iushln(U)},G.prototype.invm=function E(J){return this.egcd(J).a.umod(J)},G.prototype.isEven=function E(){return(this.words[0]&1)===0},G.prototype.isOdd=function E(){return(this.words[0]&1)===1},G.prototype.andln=function E(J){return this.words[0]&J},G.prototype.bincn=function E(J){Y(typeof J==="number");var K=J%26,O=(J-K)/26,U=1<<K;if(this.length<=O)return this._expand(O+1),this.words[O]|=U,this;var z=U;for(var C=O;z!==0&&C<this.length;C++){var R=this.words[C]|0;R+=z,z=R>>>26,R&=67108863,this.words[C]=R}if(z!==0)this.words[C]=z,this.length++;return this},G.prototype.isZero=function E(){return this.length===1&&this.words[0]===0},G.prototype.cmpn=function E(J){var K=J<0;if(this.negative!==0&&!K)return-1;if(this.negative===0&&K)return 1;this.strip();var O;if(this.length>1)O=1;else{if(K)J=-J;Y(J<=67108863,"Number is too big");var U=this.words[0]|0;O=U===J?0:U<J?-1:1}if(this.negative!==0)return-O|0;return O},G.prototype.cmp=function E(J){if(this.negative!==0&&J.negative===0)return-1;if(this.negative===0&&J.negative!==0)return 1;var K=this.ucmp(J);if(this.negative!==0)return-K|0;return K},G.prototype.ucmp=function E(J){if(this.length>J.length)return 1;if(this.length<J.length)return-1;var K=0;for(var O=this.length-1;O>=0;O--){var U=this.words[O]|0,z=J.words[O]|0;if(U===z)continue;if(U<z)K=-1;else if(U>z)K=1;break}return K},G.prototype.gtn=function E(J){return this.cmpn(J)===1},G.prototype.gt=function E(J){return this.cmp(J)===1},G.prototype.gten=function E(J){return this.cmpn(J)>=0},G.prototype.gte=function E(J){return this.cmp(J)>=0},G.prototype.ltn=function E(J){return this.cmpn(J)===-1},G.prototype.lt=function E(J){return this.cmp(J)===-1},G.prototype.lten=function E(J){return this.cmpn(J)<=0},G.prototype.lte=function E(J){return this.cmp(J)<=0},G.prototype.eqn=function E(J){return this.cmpn(J)===0},G.prototype.eq=function E(J){return this.cmp(J)===0},G.red=function E(J){return new p(J)},G.prototype.toRed=function E(J){return Y(!this.red,"Already a number in reduction context"),Y(this.negative===0,"red works only with positives"),J.convertTo(this)._forceRed(J)},G.prototype.fromRed=function E(){return Y(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},G.prototype._forceRed=function E(J){return this.red=J,this},G.prototype.forceRed=function E(J){return Y(!this.red,"Already a number in reduction context"),this._forceRed(J)},G.prototype.redAdd=function E(J){return Y(this.red,"redAdd works only with red numbers"),this.red.add(this,J)},G.prototype.redIAdd=function E(J){return Y(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,J)},G.prototype.redSub=function E(J){return Y(this.red,"redSub works only with red numbers"),this.red.sub(this,J)},G.prototype.redISub=function E(J){return Y(this.red,"redISub works only with red numbers"),this.red.isub(this,J)},G.prototype.redShl=function E(J){return Y(this.red,"redShl works only with red numbers"),this.red.shl(this,J)},G.prototype.redMul=function E(J){return Y(this.red,"redMul works only with red numbers"),this.red._verify2(this,J),this.red.mul(this,J)},G.prototype.redIMul=function E(J){return Y(this.red,"redMul works only with red numbers"),this.red._verify2(this,J),this.red.imul(this,J)},G.prototype.redSqr=function E(){return Y(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},G.prototype.redISqr=function E(){return Y(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},G.prototype.redSqrt=function E(){return Y(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},G.prototype.redInvm=function E(){return Y(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},G.prototype.redNeg=function E(){return Y(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},G.prototype.redPow=function E(J){return Y(this.red&&!J.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,J)};var f={k256:null,p224:null,p192:null,p25519:null};function v(E,J){this.name=E,this.p=new G(J,16),this.n=this.p.bitLength(),this.k=new G(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}v.prototype._tmp=function E(){var J=new G(null);return J.words=new Array(Math.ceil(this.n/13)),J},v.prototype.ireduce=function E(J){var K=J,O;do this.split(K,this.tmp),K=this.imulK(K),K=K.iadd(this.tmp),O=K.bitLength();while(O>this.n);var U=O<this.n?-1:K.ucmp(this.p);if(U===0)K.words[0]=0,K.length=1;else if(U>0)K.isub(this.p);else if(K.strip!==void 0)K.strip();else K._strip();return K},v.prototype.split=function E(J,K){J.iushrn(this.n,0,K)},v.prototype.imulK=function E(J){return J.imul(this.k)};function c(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}V(c,v),c.prototype.split=function E(J,K){var O=4194303,U=Math.min(J.length,9);for(var z=0;z<U;z++)K.words[z]=J.words[z];if(K.length=U,J.length<=9){J.words[0]=0,J.length=1;return}var C=J.words[9];K.words[K.length++]=C&O;for(z=10;z<J.length;z++){var R=J.words[z]|0;J.words[z-10]=(R&O)<<4|C>>>22,C=R}if(C>>>=22,J.words[z-10]=C,C===0&&J.length>10)J.length-=10;else J.length-=9},c.prototype.imulK=function E(J){J.words[J.length]=0,J.words[J.length+1]=0,J.length+=2;var K=0;for(var O=0;O<J.length;O++){var U=J.words[O]|0;K+=U*977,J.words[O]=K&67108863,K=U*64+(K/67108864|0)}if(J.words[J.length-1]===0){if(J.length--,J.words[J.length-1]===0)J.length--}return J};function u(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}V(u,v);function Z0(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}V(Z0,v);function e(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}V(e,v),e.prototype.imulK=function E(J){var K=0;for(var O=0;O<J.length;O++){var U=(J.words[O]|0)*19+K,z=U&67108863;U>>>=26,J.words[O]=z,K=U}if(K!==0)J.words[J.length++]=K;return J},G._prime=function E(J){if(f[J])return f[J];var K;if(J==="k256")K=new c;else if(J==="p224")K=new u;else if(J==="p192")K=new Z0;else if(J==="p25519")K=new e;else throw new Error("Unknown prime "+J);return f[J]=K,K};function p(E){if(typeof E==="string"){var J=G._prime(E);this.m=J.p,this.prime=J}else Y(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}p.prototype._verify1=function E(J){Y(J.negative===0,"red works only with positives"),Y(J.red,"red works only with red numbers")},p.prototype._verify2=function E(J,K){Y((J.negative|K.negative)===0,"red works only with positives"),Y(J.red&&J.red===K.red,"red works only with red numbers")},p.prototype.imod=function E(J){if(this.prime)return this.prime.ireduce(J)._forceRed(this);return J.umod(this.m)._forceRed(this)},p.prototype.neg=function E(J){if(J.isZero())return J.clone();return this.m.sub(J)._forceRed(this)},p.prototype.add=function E(J,K){this._verify2(J,K);var O=J.add(K);if(O.cmp(this.m)>=0)O.isub(this.m);return O._forceRed(this)},p.prototype.iadd=function E(J,K){this._verify2(J,K);var O=J.iadd(K);if(O.cmp(this.m)>=0)O.isub(this.m);return O},p.prototype.sub=function E(J,K){this._verify2(J,K);var O=J.sub(K);if(O.cmpn(0)<0)O.iadd(this.m);return O._forceRed(this)},p.prototype.isub=function E(J,K){this._verify2(J,K);var O=J.isub(K);if(O.cmpn(0)<0)O.iadd(this.m);return O},p.prototype.shl=function E(J,K){return this._verify1(J),this.imod(J.ushln(K))},p.prototype.imul=function E(J,K){return this._verify2(J,K),this.imod(J.imul(K))},p.prototype.mul=function E(J,K){return this._verify2(J,K),this.imod(J.mul(K))},p.prototype.isqr=function E(J){return this.imul(J,J.clone())},p.prototype.sqr=function E(J){return this.mul(J,J)},p.prototype.sqrt=function E(J){if(J.isZero())return J.clone();var K=this.m.andln(3);if(Y(K%2===1),K===3){var O=this.m.add(new G(1)).iushrn(2);return this.pow(J,O)}var U=this.m.subn(1),z=0;while(!U.isZero()&&U.andln(1)===0)z++,U.iushrn(1);Y(!U.isZero());var C=new G(1).toRed(this),R=C.redNeg(),L=this.m.subn(1).iushrn(1),W=this.m.bitLength();W=new G(2*W*W).toRed(this);while(this.pow(W,L).cmp(R)!==0)W.redIAdd(R);var q=this.pow(W,U),_=this.pow(J,U.addn(1).iushrn(1)),B=this.pow(J,U),x=z;while(B.cmp(C)!==0){var b=B;for(var l=0;b.cmp(C)!==0;l++)b=b.redSqr();Y(l<x);var r=this.pow(q,new G(1).iushln(x-l-1));_=_.redMul(r),q=r.redSqr(),B=B.redMul(q),x=l}return _},p.prototype.invm=function E(J){var K=J._invmp(this.m);if(K.negative!==0)return K.negative=0,this.imod(K).redNeg();else return this.imod(K)},p.prototype.pow=function E(J,K){if(K.isZero())return new G(1).toRed(this);if(K.cmpn(1)===0)return J.clone();var O=4,U=new Array(1<<O);U[0]=new G(1).toRed(this),U[1]=J;for(var z=2;z<U.length;z++)U[z]=this.mul(U[z-1],J);var C=U[0],R=0,L=0,W=K.bitLength()%26;if(W===0)W=26;for(z=K.length-1;z>=0;z--){var q=K.words[z];for(var _=W-1;_>=0;_--){var B=q>>_&1;if(C!==U[0])C=this.sqr(C);if(B===0&&R===0){L=0;continue}if(R<<=1,R|=B,L++,L!==O&&(z!==0||_!==0))continue;C=this.mul(C,U[R]),L=0,R=0}W=26}return C},p.prototype.convertTo=function E(J){var K=J.umod(this.m);return K===J?K.clone():K},p.prototype.convertFrom=function E(J){var K=J.clone();return K.red=null,K},G.mont=function E(J){return new s(J)};function s(E){if(p.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0)this.shift+=26-this.shift%26;this.r=new G(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}V(s,p),s.prototype.convertTo=function E(J){return this.imod(J.ushln(this.shift))},s.prototype.convertFrom=function E(J){var K=this.imod(J.mul(this.rinv));return K.red=null,K},s.prototype.imul=function E(J,K){if(J.isZero()||K.isZero())return J.words[0]=0,J.length=1,J;var O=J.imul(K),U=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),z=O.isub(U).iushrn(this.shift),C=z;if(z.cmp(this.m)>=0)C=z.isub(this.m);else if(z.cmpn(0)<0)C=z.iadd(this.m);return C._forceRed(this)},s.prototype.mul=function E(J,K){if(J.isZero()||K.isZero())return new G(0)._forceRed(this);var O=J.mul(K),U=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),z=O.isub(U).iushrn(this.shift),C=z;if(z.cmp(this.m)>=0)C=z.isub(this.m);else if(z.cmpn(0)<0)C=z.iadd(this.m);return C._forceRed(this)},s.prototype.invm=function E(J){var K=this.imod(J._invmp(this.m).mul(this.r2));return K._forceRed(this)}})(typeof Q==="undefined"||Q,$)}),hP=m0(($,Q)=>{var X=gP(),Z=yP();Q.exports=function H(D){return new V(D)};var Y={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};Y.p224=Y.secp224r1,Y.p256=Y.secp256r1=Y.prime256v1,Y.p192=Y.secp192r1=Y.prime192v1,Y.p384=Y.secp384r1,Y.p521=Y.secp521r1;function V(H){if(this.curveType=Y[H],!this.curveType)this.curveType={name:H};this.curve=new X.ec(this.curveType.name),this.keys=void 0}V.prototype.generateKeys=function(H,D){return this.keys=this.curve.genKeyPair(),this.getPublicKey(H,D)},V.prototype.computeSecret=function(H,D,A){if(D=D||"utf8",!Buffer.isBuffer(H))H=new Buffer(H,D);var T=this.curve.keyFromPublic(H).getPublic(),F=T.mul(this.keys.getPrivate()).getX();return G(F,A,this.curveType.byteLength)},V.prototype.getPublicKey=function(H,D){var A=this.keys.getPublic(D==="compressed",!0);if(D==="hybrid")if(A[A.length-1]%2)A[0]=7;else A[0]=6;return G(A,H)},V.prototype.getPrivateKey=function(H){return G(this.keys.getPrivate(),H)},V.prototype.setPublicKey=function(H,D){if(D=D||"utf8",!Buffer.isBuffer(H))H=new Buffer(H,D);return this.keys._importPublic(H),this},V.prototype.setPrivateKey=function(H,D){if(D=D||"utf8",!Buffer.isBuffer(H))H=new Buffer(H,D);var A=new Z(H);return A=A.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(A),this};function G(H,D,A){if(!Array.isArray(H))H=H.toArray();var T=new Buffer(H);if(A&&T.length<A){var F=new Buffer(A-T.length);F.fill(0),T=Buffer.concat([F,T])}if(!D)return T;else return T.toString(D)}}),bP=m0(($,Q)=>{var X=(sQ(),$$(nQ)).createECDH;Q.exports=X||hP()}),pP=m0(($,Q)=>{(function(X,Z){function Y(E,J){if(!E)throw new Error(J||"Assertion failed")}function V(E,J){E.super_=J;var K=function(){};K.prototype=J.prototype,E.prototype=new K,E.prototype.constructor=E}function G(E,J,K){if(G.isBN(E))return E;if(this.negative=0,this.words=null,this.length=0,this.red=null,E!==null){if(J==="le"||J==="be")K=J,J=10;this._init(E||0,J||10,K||"be")}}if(typeof X==="object")X.exports=G;else Z.BN=G;G.BN=G,G.wordSize=26;var H;try{if(typeof window!=="undefined"&&typeof window.Buffer!=="undefined")H=window.Buffer;else H=(y$(),$$(g$)).Buffer}catch(E){}G.isBN=function E(J){if(J instanceof G)return!0;return J!==null&&typeof J==="object"&&J.constructor.wordSize===G.wordSize&&Array.isArray(J.words)},G.max=function E(J,K){if(J.cmp(K)>0)return J;return K},G.min=function E(J,K){if(J.cmp(K)<0)return J;return K},G.prototype._init=function E(J,K,O){if(typeof J==="number")return this._initNumber(J,K,O);if(typeof J==="object")return this._initArray(J,K,O);if(K==="hex")K=16;Y(K===(K|0)&&K>=2&&K<=36),J=J.toString().replace(/\s+/g,"");var U=0;if(J[0]==="-")U++,this.negative=1;if(U<J.length){if(K===16)this._parseHex(J,U,O);else if(this._parseBase(J,K,U),O==="le")this._initArray(this.toArray(),K,O)}},G.prototype._initNumber=function E(J,K,O){if(J<0)this.negative=1,J=-J;if(J<67108864)this.words=[J&67108863],this.length=1;else if(J<4503599627370496)this.words=[J&67108863,J/67108864&67108863],this.length=2;else Y(J<9007199254740992),this.words=[J&67108863,J/67108864&67108863,1],this.length=3;if(O!=="le")return;this._initArray(this.toArray(),K,O)},G.prototype._initArray=function E(J,K,O){if(Y(typeof J.length==="number"),J.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(J.length/3),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var z,C,R=0;if(O==="be"){for(U=J.length-1,z=0;U>=0;U-=3)if(C=J[U]|J[U-1]<<8|J[U-2]<<16,this.words[z]|=C<<R&67108863,this.words[z+1]=C>>>26-R&67108863,R+=24,R>=26)R-=26,z++}else if(O==="le"){for(U=0,z=0;U<J.length;U+=3)if(C=J[U]|J[U+1]<<8|J[U+2]<<16,this.words[z]|=C<<R&67108863,this.words[z+1]=C>>>26-R&67108863,R+=24,R>=26)R-=26,z++}return this.strip()};function D(E,J){var K=E.charCodeAt(J);if(K>=65&&K<=70)return K-55;else if(K>=97&&K<=102)return K-87;else return K-48&15}function A(E,J,K){var O=D(E,K);if(K-1>=J)O|=D(E,K-1)<<4;return O}G.prototype._parseHex=function E(J,K,O){this.length=Math.ceil((J.length-K)/6),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var z=0,C=0,R;if(O==="be")for(U=J.length-1;U>=K;U-=2)if(R=A(J,K,U)<<z,this.words[C]|=R&67108863,z>=18)z-=18,C+=1,this.words[C]|=R>>>26;else z+=8;else{var L=J.length-K;for(U=L%2===0?K+1:K;U<J.length;U+=2)if(R=A(J,K,U)<<z,this.words[C]|=R&67108863,z>=18)z-=18,C+=1,this.words[C]|=R>>>26;else z+=8}this.strip()};function T(E,J,K,O){var U=0,z=Math.min(E.length,K);for(var C=J;C<z;C++){var R=E.charCodeAt(C)-48;if(U*=O,R>=49)U+=R-49+10;else if(R>=17)U+=R-17+10;else U+=R}return U}G.prototype._parseBase=function E(J,K,O){this.words=[0],this.length=1;for(var U=0,z=1;z<=67108863;z*=K)U++;U--,z=z/K|0;var C=J.length-O,R=C%U,L=Math.min(C,C-R)+O,W=0;for(var q=O;q<L;q+=U)if(W=T(J,q,q+U,K),this.imuln(z),this.words[0]+W<67108864)this.words[0]+=W;else this._iaddn(W);if(R!==0){var _=1;W=T(J,q,J.length,K);for(q=0;q<R;q++)_*=K;if(this.imuln(_),this.words[0]+W<67108864)this.words[0]+=W;else this._iaddn(W)}this.strip()},G.prototype.copy=function E(J){J.words=new Array(this.length);for(var K=0;K<this.length;K++)J.words[K]=this.words[K];J.length=this.length,J.negative=this.negative,J.red=this.red},G.prototype.clone=function E(){var J=new G(null);return this.copy(J),J},G.prototype._expand=function E(J){while(this.length<J)this.words[this.length++]=0;return this},G.prototype.strip=function E(){while(this.length>1&&this.words[this.length-1]===0)this.length--;return this._normSign()},G.prototype._normSign=function E(){if(this.length===1&&this.words[0]===0)this.negative=0;return this},G.prototype.inspect=function E(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var F=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],M=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],I=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];if(G.prototype.toString=function E(J,K){J=J||10,K=K|0||1;var O;if(J===16||J==="hex"){O="";var U=0,z=0;for(var C=0;C<this.length;C++){var R=this.words[C],L=((R<<U|z)&16777215).toString(16);if(z=R>>>24-U&16777215,U+=2,U>=26)U-=26,C--;if(z!==0||C!==this.length-1)O=F[6-L.length]+L+O;else O=L+O}if(z!==0)O=z.toString(16)+O;while(O.length%K!==0)O="0"+O;if(this.negative!==0)O="-"+O;return O}if(J===(J|0)&&J>=2&&J<=36){var W=M[J],q=I[J];O="";var _=this.clone();_.negative=0;while(!_.isZero()){var B=_.modn(q).toString(J);if(_=_.idivn(q),!_.isZero())O=F[W-B.length]+B+O;else O=B+O}if(this.isZero())O="0"+O;while(O.length%K!==0)O="0"+O;if(this.negative!==0)O="-"+O;return O}Y(!1,"Base should be between 2 and 36")},G.prototype.toNumber=function E(){var J=this.words[0];if(this.length===2)J+=this.words[1]*67108864;else if(this.length===3&&this.words[2]===1)J+=4503599627370496+this.words[1]*67108864;else if(this.length>2)Y(!1,"Number can only safely store up to 53 bits");return this.negative!==0?-J:J},G.prototype.toJSON=function E(){return this.toString(16)},G.prototype.toBuffer=function E(J,K){return Y(typeof H!=="undefined"),this.toArrayLike(H,J,K)},G.prototype.toArray=function E(J,K){return this.toArrayLike(Array,J,K)},G.prototype.toArrayLike=function E(J,K,O){var U=this.byteLength(),z=O||Math.max(1,U);Y(U<=z,"byte array longer than desired length"),Y(z>0,"Requested array length <= 0"),this.strip();var C=K==="le",R=new J(z),L,W,q=this.clone();if(!C){for(W=0;W<z-U;W++)R[W]=0;for(W=0;!q.isZero();W++)L=q.andln(255),q.iushrn(8),R[z-W-1]=L}else{for(W=0;!q.isZero();W++)L=q.andln(255),q.iushrn(8),R[W]=L;for(;W<z;W++)R[W]=0}return R},Math.clz32)G.prototype._countBits=function E(J){return 32-Math.clz32(J)};else G.prototype._countBits=function E(J){var K=J,O=0;if(K>=4096)O+=13,K>>>=13;if(K>=64)O+=7,K>>>=7;if(K>=8)O+=4,K>>>=4;if(K>=2)O+=2,K>>>=2;return O+K};G.prototype._zeroBits=function E(J){if(J===0)return 26;var K=J,O=0;if((K&8191)===0)O+=13,K>>>=13;if((K&127)===0)O+=7,K>>>=7;if((K&15)===0)O+=4,K>>>=4;if((K&3)===0)O+=2,K>>>=2;if((K&1)===0)O++;return O},G.prototype.bitLength=function E(){var J=this.words[this.length-1],K=this._countBits(J);return(this.length-1)*26+K};function P(E){var J=new Array(E.bitLength());for(var K=0;K<J.length;K++){var O=K/26|0,U=K%26;J[K]=(E.words[O]&1<<U)>>>U}return J}G.prototype.zeroBits=function E(){if(this.isZero())return 0;var J=0;for(var K=0;K<this.length;K++){var O=this._zeroBits(this.words[K]);if(J+=O,O!==26)break}return J},G.prototype.byteLength=function E(){return Math.ceil(this.bitLength()/8)},G.prototype.toTwos=function E(J){if(this.negative!==0)return this.abs().inotn(J).iaddn(1);return this.clone()},G.prototype.fromTwos=function E(J){if(this.testn(J-1))return this.notn(J).iaddn(1).ineg();return this.clone()},G.prototype.isNeg=function E(){return this.negative!==0},G.prototype.neg=function E(){return this.clone().ineg()},G.prototype.ineg=function E(){if(!this.isZero())this.negative^=1;return this},G.prototype.iuor=function E(J){while(this.length<J.length)this.words[this.length++]=0;for(var K=0;K<J.length;K++)this.words[K]=this.words[K]|J.words[K];return this.strip()},G.prototype.ior=function E(J){return Y((this.negative|J.negative)===0),this.iuor(J)},G.prototype.or=function E(J){if(this.length>J.length)return this.clone().ior(J);return J.clone().ior(this)},G.prototype.uor=function E(J){if(this.length>J.length)return this.clone().iuor(J);return J.clone().iuor(this)},G.prototype.iuand=function E(J){var K;if(this.length>J.length)K=J;else K=this;for(var O=0;O<K.length;O++)this.words[O]=this.words[O]&J.words[O];return this.length=K.length,this.strip()},G.prototype.iand=function E(J){return Y((this.negative|J.negative)===0),this.iuand(J)},G.prototype.and=function E(J){if(this.length>J.length)return this.clone().iand(J);return J.clone().iand(this)},G.prototype.uand=function E(J){if(this.length>J.length)return this.clone().iuand(J);return J.clone().iuand(this)},G.prototype.iuxor=function E(J){var K,O;if(this.length>J.length)K=this,O=J;else K=J,O=this;for(var U=0;U<O.length;U++)this.words[U]=K.words[U]^O.words[U];if(this!==K)for(;U<K.length;U++)this.words[U]=K.words[U];return this.length=K.length,this.strip()},G.prototype.ixor=function E(J){return Y((this.negative|J.negative)===0),this.iuxor(J)},G.prototype.xor=function E(J){if(this.length>J.length)return this.clone().ixor(J);return J.clone().ixor(this)},G.prototype.uxor=function E(J){if(this.length>J.length)return this.clone().iuxor(J);return J.clone().iuxor(this)},G.prototype.inotn=function E(J){Y(typeof J==="number"&&J>=0);var K=Math.ceil(J/26)|0,O=J%26;if(this._expand(K),O>0)K--;for(var U=0;U<K;U++)this.words[U]=~this.words[U]&67108863;if(O>0)this.words[U]=~this.words[U]&67108863>>26-O;return this.strip()},G.prototype.notn=function E(J){return this.clone().inotn(J)},G.prototype.setn=function E(J,K){Y(typeof J==="number"&&J>=0);var O=J/26|0,U=J%26;if(this._expand(O+1),K)this.words[O]=this.words[O]|1<<U;else this.words[O]=this.words[O]&~(1<<U);return this.strip()},G.prototype.iadd=function E(J){var K;if(this.negative!==0&&J.negative===0)return this.negative=0,K=this.isub(J),this.negative^=1,this._normSign();else if(this.negative===0&&J.negative!==0)return J.negative=0,K=this.isub(J),J.negative=1,K._normSign();var O,U;if(this.length>J.length)O=this,U=J;else O=J,U=this;var z=0;for(var C=0;C<U.length;C++)K=(O.words[C]|0)+(U.words[C]|0)+z,this.words[C]=K&67108863,z=K>>>26;for(;z!==0&&C<O.length;C++)K=(O.words[C]|0)+z,this.words[C]=K&67108863,z=K>>>26;if(this.length=O.length,z!==0)this.words[this.length]=z,this.length++;else if(O!==this)for(;C<O.length;C++)this.words[C]=O.words[C];return this},G.prototype.add=function E(J){var K;if(J.negative!==0&&this.negative===0)return J.negative=0,K=this.sub(J),J.negative^=1,K;else if(J.negative===0&&this.negative!==0)return this.negative=0,K=J.sub(this),this.negative=1,K;if(this.length>J.length)return this.clone().iadd(J);return J.clone().iadd(this)},G.prototype.isub=function E(J){if(J.negative!==0){J.negative=0;var K=this.iadd(J);return J.negative=1,K._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(J),this.negative=1,this._normSign();var O=this.cmp(J);if(O===0)return this.negative=0,this.length=1,this.words[0]=0,this;var U,z;if(O>0)U=this,z=J;else U=J,z=this;var C=0;for(var R=0;R<z.length;R++)K=(U.words[R]|0)-(z.words[R]|0)+C,C=K>>26,this.words[R]=K&67108863;for(;C!==0&&R<U.length;R++)K=(U.words[R]|0)+C,C=K>>26,this.words[R]=K&67108863;if(C===0&&R<U.length&&U!==this)for(;R<U.length;R++)this.words[R]=U.words[R];if(this.length=Math.max(this.length,R),U!==this)this.negative=1;return this.strip()},G.prototype.sub=function E(J){return this.clone().isub(J)};function S(E,J,K){K.negative=J.negative^E.negative;var O=E.length+J.length|0;K.length=O,O=O-1|0;var U=E.words[0]|0,z=J.words[0]|0,C=U*z,R=C&67108863,L=C/67108864|0;K.words[0]=R;for(var W=1;W<O;W++){var q=L>>>26,_=L&67108863,B=Math.min(W,J.length-1);for(var x=Math.max(0,W-E.length+1);x<=B;x++){var b=W-x|0;U=E.words[b]|0,z=J.words[x]|0,C=U*z+_,q+=C/67108864|0,_=C&67108863}K.words[W]=_|0,L=q|0}if(L!==0)K.words[W]=L|0;else K.length--;return K.strip()}var j=function E(J,K,O){var U=J.words,z=K.words,C=O.words,R=0,L,W,q,_=U[0]|0,B=_&8191,x=_>>>13,b=U[1]|0,l=b&8191,r=b>>>13,z0=U[2]|0,d=z0&8191,o=z0>>>13,R0=U[3]|0,G0=R0&8191,W0=R0>>>13,a=U[4]|0,m=a&8191,n=a>>>13,b0=U[5]|0,Q0=b0&8191,$0=b0>>>13,t=U[6]|0,i=t&8191,Y0=t>>>13,C0=U[7]|0,U0=C0&8191,D0=C0>>>13,a0=U[8]|0,H0=a0&8191,T0=a0>>>13,C$=U[9]|0,q0=C$&8191,I0=C$>>>13,p$=z[0]|0,F0=p$&8191,f0=p$>>>13,CQ=z[1]|0,v0=CQ&8191,g0=CQ>>>13,_Q=z[2]|0,w0=_Q&8191,_0=_Q>>>13,xQ=z[3]|0,x0=xQ&8191,S0=xQ>>>13,kQ=z[4]|0,y0=kQ&8191,B0=kQ>>>13,TQ=z[5]|0,g=TQ&8191,y=TQ>>>13,p0=z[6]|0,X0=p0&8191,V0=p0>>>13,T$=z[7]|0,A0=T$&8191,E0=T$>>>13,FQ=z[8]|0,h0=FQ&8191,k0=FQ>>>13,RQ=z[9]|0,j0=RQ&8191,N0=RQ>>>13;O.negative=J.negative^K.negative,O.length=19,L=Math.imul(B,F0),W=Math.imul(B,f0),W=W+Math.imul(x,F0)|0,q=Math.imul(x,f0);var v$=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(v$>>>26)|0,v$&=67108863,L=Math.imul(l,F0),W=Math.imul(l,f0),W=W+Math.imul(r,F0)|0,q=Math.imul(r,f0),L=L+Math.imul(B,v0)|0,W=W+Math.imul(B,g0)|0,W=W+Math.imul(x,v0)|0,q=q+Math.imul(x,g0)|0;var t0=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(t0>>>26)|0,t0&=67108863,L=Math.imul(d,F0),W=Math.imul(d,f0),W=W+Math.imul(o,F0)|0,q=Math.imul(o,f0),L=L+Math.imul(l,v0)|0,W=W+Math.imul(l,g0)|0,W=W+Math.imul(r,v0)|0,q=q+Math.imul(r,g0)|0,L=L+Math.imul(B,w0)|0,W=W+Math.imul(B,_0)|0,W=W+Math.imul(x,w0)|0,q=q+Math.imul(x,_0)|0;var r0=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(r0>>>26)|0,r0&=67108863,L=Math.imul(G0,F0),W=Math.imul(G0,f0),W=W+Math.imul(W0,F0)|0,q=Math.imul(W0,f0),L=L+Math.imul(d,v0)|0,W=W+Math.imul(d,g0)|0,W=W+Math.imul(o,v0)|0,q=q+Math.imul(o,g0)|0,L=L+Math.imul(l,w0)|0,W=W+Math.imul(l,_0)|0,W=W+Math.imul(r,w0)|0,q=q+Math.imul(r,_0)|0,L=L+Math.imul(B,x0)|0,W=W+Math.imul(B,S0)|0,W=W+Math.imul(x,x0)|0,q=q+Math.imul(x,S0)|0;var I$=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(I$>>>26)|0,I$&=67108863,L=Math.imul(m,F0),W=Math.imul(m,f0),W=W+Math.imul(n,F0)|0,q=Math.imul(n,f0),L=L+Math.imul(G0,v0)|0,W=W+Math.imul(G0,g0)|0,W=W+Math.imul(W0,v0)|0,q=q+Math.imul(W0,g0)|0,L=L+Math.imul(d,w0)|0,W=W+Math.imul(d,_0)|0,W=W+Math.imul(o,w0)|0,q=q+Math.imul(o,_0)|0,L=L+Math.imul(l,x0)|0,W=W+Math.imul(l,S0)|0,W=W+Math.imul(r,x0)|0,q=q+Math.imul(r,S0)|0,L=L+Math.imul(B,y0)|0,W=W+Math.imul(B,B0)|0,W=W+Math.imul(x,y0)|0,q=q+Math.imul(x,B0)|0;var i$=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(i$>>>26)|0,i$&=67108863,L=Math.imul(Q0,F0),W=Math.imul(Q0,f0),W=W+Math.imul($0,F0)|0,q=Math.imul($0,f0),L=L+Math.imul(m,v0)|0,W=W+Math.imul(m,g0)|0,W=W+Math.imul(n,v0)|0,q=q+Math.imul(n,g0)|0,L=L+Math.imul(G0,w0)|0,W=W+Math.imul(G0,_0)|0,W=W+Math.imul(W0,w0)|0,q=q+Math.imul(W0,_0)|0,L=L+Math.imul(d,x0)|0,W=W+Math.imul(d,S0)|0,W=W+Math.imul(o,x0)|0,q=q+Math.imul(o,S0)|0,L=L+Math.imul(l,y0)|0,W=W+Math.imul(l,B0)|0,W=W+Math.imul(r,y0)|0,q=q+Math.imul(r,B0)|0,L=L+Math.imul(B,g)|0,W=W+Math.imul(B,y)|0,W=W+Math.imul(x,g)|0,q=q+Math.imul(x,y)|0;var r$=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(r$>>>26)|0,r$&=67108863,L=Math.imul(i,F0),W=Math.imul(i,f0),W=W+Math.imul(Y0,F0)|0,q=Math.imul(Y0,f0),L=L+Math.imul(Q0,v0)|0,W=W+Math.imul(Q0,g0)|0,W=W+Math.imul($0,v0)|0,q=q+Math.imul($0,g0)|0,L=L+Math.imul(m,w0)|0,W=W+Math.imul(m,_0)|0,W=W+Math.imul(n,w0)|0,q=q+Math.imul(n,_0)|0,L=L+Math.imul(G0,x0)|0,W=W+Math.imul(G0,S0)|0,W=W+Math.imul(W0,x0)|0,q=q+Math.imul(W0,S0)|0,L=L+Math.imul(d,y0)|0,W=W+Math.imul(d,B0)|0,W=W+Math.imul(o,y0)|0,q=q+Math.imul(o,B0)|0,L=L+Math.imul(l,g)|0,W=W+Math.imul(l,y)|0,W=W+Math.imul(r,g)|0,q=q+Math.imul(r,y)|0,L=L+Math.imul(B,X0)|0,W=W+Math.imul(B,V0)|0,W=W+Math.imul(x,X0)|0,q=q+Math.imul(x,V0)|0;var a$=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(a$>>>26)|0,a$&=67108863,L=Math.imul(U0,F0),W=Math.imul(U0,f0),W=W+Math.imul(D0,F0)|0,q=Math.imul(D0,f0),L=L+Math.imul(i,v0)|0,W=W+Math.imul(i,g0)|0,W=W+Math.imul(Y0,v0)|0,q=q+Math.imul(Y0,g0)|0,L=L+Math.imul(Q0,w0)|0,W=W+Math.imul(Q0,_0)|0,W=W+Math.imul($0,w0)|0,q=q+Math.imul($0,_0)|0,L=L+Math.imul(m,x0)|0,W=W+Math.imul(m,S0)|0,W=W+Math.imul(n,x0)|0,q=q+Math.imul(n,S0)|0,L=L+Math.imul(G0,y0)|0,W=W+Math.imul(G0,B0)|0,W=W+Math.imul(W0,y0)|0,q=q+Math.imul(W0,B0)|0,L=L+Math.imul(d,g)|0,W=W+Math.imul(d,y)|0,W=W+Math.imul(o,g)|0,q=q+Math.imul(o,y)|0,L=L+Math.imul(l,X0)|0,W=W+Math.imul(l,V0)|0,W=W+Math.imul(r,X0)|0,q=q+Math.imul(r,V0)|0,L=L+Math.imul(B,A0)|0,W=W+Math.imul(B,E0)|0,W=W+Math.imul(x,A0)|0,q=q+Math.imul(x,E0)|0;var t$=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(t$>>>26)|0,t$&=67108863,L=Math.imul(H0,F0),W=Math.imul(H0,f0),W=W+Math.imul(T0,F0)|0,q=Math.imul(T0,f0),L=L+Math.imul(U0,v0)|0,W=W+Math.imul(U0,g0)|0,W=W+Math.imul(D0,v0)|0,q=q+Math.imul(D0,g0)|0,L=L+Math.imul(i,w0)|0,W=W+Math.imul(i,_0)|0,W=W+Math.imul(Y0,w0)|0,q=q+Math.imul(Y0,_0)|0,L=L+Math.imul(Q0,x0)|0,W=W+Math.imul(Q0,S0)|0,W=W+Math.imul($0,x0)|0,q=q+Math.imul($0,S0)|0,L=L+Math.imul(m,y0)|0,W=W+Math.imul(m,B0)|0,W=W+Math.imul(n,y0)|0,q=q+Math.imul(n,B0)|0,L=L+Math.imul(G0,g)|0,W=W+Math.imul(G0,y)|0,W=W+Math.imul(W0,g)|0,q=q+Math.imul(W0,y)|0,L=L+Math.imul(d,X0)|0,W=W+Math.imul(d,V0)|0,W=W+Math.imul(o,X0)|0,q=q+Math.imul(o,V0)|0,L=L+Math.imul(l,A0)|0,W=W+Math.imul(l,E0)|0,W=W+Math.imul(r,A0)|0,q=q+Math.imul(r,E0)|0,L=L+Math.imul(B,h0)|0,W=W+Math.imul(B,k0)|0,W=W+Math.imul(x,h0)|0,q=q+Math.imul(x,k0)|0;var e$=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(e$>>>26)|0,e$&=67108863,L=Math.imul(q0,F0),W=Math.imul(q0,f0),W=W+Math.imul(I0,F0)|0,q=Math.imul(I0,f0),L=L+Math.imul(H0,v0)|0,W=W+Math.imul(H0,g0)|0,W=W+Math.imul(T0,v0)|0,q=q+Math.imul(T0,g0)|0,L=L+Math.imul(U0,w0)|0,W=W+Math.imul(U0,_0)|0,W=W+Math.imul(D0,w0)|0,q=q+Math.imul(D0,_0)|0,L=L+Math.imul(i,x0)|0,W=W+Math.imul(i,S0)|0,W=W+Math.imul(Y0,x0)|0,q=q+Math.imul(Y0,S0)|0,L=L+Math.imul(Q0,y0)|0,W=W+Math.imul(Q0,B0)|0,W=W+Math.imul($0,y0)|0,q=q+Math.imul($0,B0)|0,L=L+Math.imul(m,g)|0,W=W+Math.imul(m,y)|0,W=W+Math.imul(n,g)|0,q=q+Math.imul(n,y)|0,L=L+Math.imul(G0,X0)|0,W=W+Math.imul(G0,V0)|0,W=W+Math.imul(W0,X0)|0,q=q+Math.imul(W0,V0)|0,L=L+Math.imul(d,A0)|0,W=W+Math.imul(d,E0)|0,W=W+Math.imul(o,A0)|0,q=q+Math.imul(o,E0)|0,L=L+Math.imul(l,h0)|0,W=W+Math.imul(l,k0)|0,W=W+Math.imul(r,h0)|0,q=q+Math.imul(r,k0)|0,L=L+Math.imul(B,j0)|0,W=W+Math.imul(B,N0)|0,W=W+Math.imul(x,j0)|0,q=q+Math.imul(x,N0)|0;var $Q=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+($Q>>>26)|0,$Q&=67108863,L=Math.imul(q0,v0),W=Math.imul(q0,g0),W=W+Math.imul(I0,v0)|0,q=Math.imul(I0,g0),L=L+Math.imul(H0,w0)|0,W=W+Math.imul(H0,_0)|0,W=W+Math.imul(T0,w0)|0,q=q+Math.imul(T0,_0)|0,L=L+Math.imul(U0,x0)|0,W=W+Math.imul(U0,S0)|0,W=W+Math.imul(D0,x0)|0,q=q+Math.imul(D0,S0)|0,L=L+Math.imul(i,y0)|0,W=W+Math.imul(i,B0)|0,W=W+Math.imul(Y0,y0)|0,q=q+Math.imul(Y0,B0)|0,L=L+Math.imul(Q0,g)|0,W=W+Math.imul(Q0,y)|0,W=W+Math.imul($0,g)|0,q=q+Math.imul($0,y)|0,L=L+Math.imul(m,X0)|0,W=W+Math.imul(m,V0)|0,W=W+Math.imul(n,X0)|0,q=q+Math.imul(n,V0)|0,L=L+Math.imul(G0,A0)|0,W=W+Math.imul(G0,E0)|0,W=W+Math.imul(W0,A0)|0,q=q+Math.imul(W0,E0)|0,L=L+Math.imul(d,h0)|0,W=W+Math.imul(d,k0)|0,W=W+Math.imul(o,h0)|0,q=q+Math.imul(o,k0)|0,L=L+Math.imul(l,j0)|0,W=W+Math.imul(l,N0)|0,W=W+Math.imul(r,j0)|0,q=q+Math.imul(r,N0)|0;var QQ=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(QQ>>>26)|0,QQ&=67108863,L=Math.imul(q0,w0),W=Math.imul(q0,_0),W=W+Math.imul(I0,w0)|0,q=Math.imul(I0,_0),L=L+Math.imul(H0,x0)|0,W=W+Math.imul(H0,S0)|0,W=W+Math.imul(T0,x0)|0,q=q+Math.imul(T0,S0)|0,L=L+Math.imul(U0,y0)|0,W=W+Math.imul(U0,B0)|0,W=W+Math.imul(D0,y0)|0,q=q+Math.imul(D0,B0)|0,L=L+Math.imul(i,g)|0,W=W+Math.imul(i,y)|0,W=W+Math.imul(Y0,g)|0,q=q+Math.imul(Y0,y)|0,L=L+Math.imul(Q0,X0)|0,W=W+Math.imul(Q0,V0)|0,W=W+Math.imul($0,X0)|0,q=q+Math.imul($0,V0)|0,L=L+Math.imul(m,A0)|0,W=W+Math.imul(m,E0)|0,W=W+Math.imul(n,A0)|0,q=q+Math.imul(n,E0)|0,L=L+Math.imul(G0,h0)|0,W=W+Math.imul(G0,k0)|0,W=W+Math.imul(W0,h0)|0,q=q+Math.imul(W0,k0)|0,L=L+Math.imul(d,j0)|0,W=W+Math.imul(d,N0)|0,W=W+Math.imul(o,j0)|0,q=q+Math.imul(o,N0)|0;var XQ=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(XQ>>>26)|0,XQ&=67108863,L=Math.imul(q0,x0),W=Math.imul(q0,S0),W=W+Math.imul(I0,x0)|0,q=Math.imul(I0,S0),L=L+Math.imul(H0,y0)|0,W=W+Math.imul(H0,B0)|0,W=W+Math.imul(T0,y0)|0,q=q+Math.imul(T0,B0)|0,L=L+Math.imul(U0,g)|0,W=W+Math.imul(U0,y)|0,W=W+Math.imul(D0,g)|0,q=q+Math.imul(D0,y)|0,L=L+Math.imul(i,X0)|0,W=W+Math.imul(i,V0)|0,W=W+Math.imul(Y0,X0)|0,q=q+Math.imul(Y0,V0)|0,L=L+Math.imul(Q0,A0)|0,W=W+Math.imul(Q0,E0)|0,W=W+Math.imul($0,A0)|0,q=q+Math.imul($0,E0)|0,L=L+Math.imul(m,h0)|0,W=W+Math.imul(m,k0)|0,W=W+Math.imul(n,h0)|0,q=q+Math.imul(n,k0)|0,L=L+Math.imul(G0,j0)|0,W=W+Math.imul(G0,N0)|0,W=W+Math.imul(W0,j0)|0,q=q+Math.imul(W0,N0)|0;var ZQ=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(ZQ>>>26)|0,ZQ&=67108863,L=Math.imul(q0,y0),W=Math.imul(q0,B0),W=W+Math.imul(I0,y0)|0,q=Math.imul(I0,B0),L=L+Math.imul(H0,g)|0,W=W+Math.imul(H0,y)|0,W=W+Math.imul(T0,g)|0,q=q+Math.imul(T0,y)|0,L=L+Math.imul(U0,X0)|0,W=W+Math.imul(U0,V0)|0,W=W+Math.imul(D0,X0)|0,q=q+Math.imul(D0,V0)|0,L=L+Math.imul(i,A0)|0,W=W+Math.imul(i,E0)|0,W=W+Math.imul(Y0,A0)|0,q=q+Math.imul(Y0,E0)|0,L=L+Math.imul(Q0,h0)|0,W=W+Math.imul(Q0,k0)|0,W=W+Math.imul($0,h0)|0,q=q+Math.imul($0,k0)|0,L=L+Math.imul(m,j0)|0,W=W+Math.imul(m,N0)|0,W=W+Math.imul(n,j0)|0,q=q+Math.imul(n,N0)|0;var YQ=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(YQ>>>26)|0,YQ&=67108863,L=Math.imul(q0,g),W=Math.imul(q0,y),W=W+Math.imul(I0,g)|0,q=Math.imul(I0,y),L=L+Math.imul(H0,X0)|0,W=W+Math.imul(H0,V0)|0,W=W+Math.imul(T0,X0)|0,q=q+Math.imul(T0,V0)|0,L=L+Math.imul(U0,A0)|0,W=W+Math.imul(U0,E0)|0,W=W+Math.imul(D0,A0)|0,q=q+Math.imul(D0,E0)|0,L=L+Math.imul(i,h0)|0,W=W+Math.imul(i,k0)|0,W=W+Math.imul(Y0,h0)|0,q=q+Math.imul(Y0,k0)|0,L=L+Math.imul(Q0,j0)|0,W=W+Math.imul(Q0,N0)|0,W=W+Math.imul($0,j0)|0,q=q+Math.imul($0,N0)|0;var JQ=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(JQ>>>26)|0,JQ&=67108863,L=Math.imul(q0,X0),W=Math.imul(q0,V0),W=W+Math.imul(I0,X0)|0,q=Math.imul(I0,V0),L=L+Math.imul(H0,A0)|0,W=W+Math.imul(H0,E0)|0,W=W+Math.imul(T0,A0)|0,q=q+Math.imul(T0,E0)|0,L=L+Math.imul(U0,h0)|0,W=W+Math.imul(U0,k0)|0,W=W+Math.imul(D0,h0)|0,q=q+Math.imul(D0,k0)|0,L=L+Math.imul(i,j0)|0,W=W+Math.imul(i,N0)|0,W=W+Math.imul(Y0,j0)|0,q=q+Math.imul(Y0,N0)|0;var GQ=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(GQ>>>26)|0,GQ&=67108863,L=Math.imul(q0,A0),W=Math.imul(q0,E0),W=W+Math.imul(I0,A0)|0,q=Math.imul(I0,E0),L=L+Math.imul(H0,h0)|0,W=W+Math.imul(H0,k0)|0,W=W+Math.imul(T0,h0)|0,q=q+Math.imul(T0,k0)|0,L=L+Math.imul(U0,j0)|0,W=W+Math.imul(U0,N0)|0,W=W+Math.imul(D0,j0)|0,q=q+Math.imul(D0,N0)|0;var WQ=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(WQ>>>26)|0,WQ&=67108863,L=Math.imul(q0,h0),W=Math.imul(q0,k0),W=W+Math.imul(I0,h0)|0,q=Math.imul(I0,k0),L=L+Math.imul(H0,j0)|0,W=W+Math.imul(H0,N0)|0,W=W+Math.imul(T0,j0)|0,q=q+Math.imul(T0,N0)|0;var VQ=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(VQ>>>26)|0,VQ&=67108863,L=Math.imul(q0,j0),W=Math.imul(q0,N0),W=W+Math.imul(I0,j0)|0,q=Math.imul(I0,N0);var UQ=(R+L|0)+((W&8191)<<13)|0;if(R=(q+(W>>>13)|0)+(UQ>>>26)|0,UQ&=67108863,C[0]=v$,C[1]=t0,C[2]=r0,C[3]=I$,C[4]=i$,C[5]=r$,C[6]=a$,C[7]=t$,C[8]=e$,C[9]=$Q,C[10]=QQ,C[11]=XQ,C[12]=ZQ,C[13]=YQ,C[14]=JQ,C[15]=GQ,C[16]=WQ,C[17]=VQ,C[18]=UQ,R!==0)C[19]=R,O.length++;return O};if(!Math.imul)j=S;function N(E,J,K){K.negative=J.negative^E.negative,K.length=E.length+J.length;var O=0,U=0;for(var z=0;z<K.length-1;z++){var C=U;U=0;var R=O&67108863,L=Math.min(z,J.length-1);for(var W=Math.max(0,z-E.length+1);W<=L;W++){var q=z-W,_=E.words[q]|0,B=J.words[W]|0,x=_*B,b=x&67108863;C=C+(x/67108864|0)|0,b=b+R|0,R=b&67108863,C=C+(b>>>26)|0,U+=C>>>26,C&=67108863}K.words[z]=R,O=C,C=U}if(O!==0)K.words[z]=O;else K.length--;return K.strip()}function w(E,J,K){var O=new k;return O.mulp(E,J,K)}G.prototype.mulTo=function E(J,K){var O,U=this.length+J.length;if(this.length===10&&J.length===10)O=j(this,J,K);else if(U<63)O=S(this,J,K);else if(U<1024)O=N(this,J,K);else O=w(this,J,K);return O};function k(E,J){this.x=E,this.y=J}k.prototype.makeRBT=function E(J){var K=new Array(J),O=G.prototype._countBits(J)-1;for(var U=0;U<J;U++)K[U]=this.revBin(U,O,J);return K},k.prototype.revBin=function E(J,K,O){if(J===0||J===O-1)return J;var U=0;for(var z=0;z<K;z++)U|=(J&1)<<K-z-1,J>>=1;return U},k.prototype.permute=function E(J,K,O,U,z,C){for(var R=0;R<C;R++)U[R]=K[J[R]],z[R]=O[J[R]]},k.prototype.transform=function E(J,K,O,U,z,C){this.permute(C,J,K,O,U,z);for(var R=1;R<z;R<<=1){var L=R<<1,W=Math.cos(2*Math.PI/L),q=Math.sin(2*Math.PI/L);for(var _=0;_<z;_+=L){var B=W,x=q;for(var b=0;b<R;b++){var l=O[_+b],r=U[_+b],z0=O[_+b+R],d=U[_+b+R],o=B*z0-x*d;if(d=B*d+x*z0,z0=o,O[_+b]=l+z0,U[_+b]=r+d,O[_+b+R]=l-z0,U[_+b+R]=r-d,b!==L)o=W*B-q*x,x=W*x+q*B,B=o}}}},k.prototype.guessLen13b=function E(J,K){var O=Math.max(K,J)|1,U=O&1,z=0;for(O=O/2|0;O;O=O>>>1)z++;return 1<<z+1+U},k.prototype.conjugate=function E(J,K,O){if(O<=1)return;for(var U=0;U<O/2;U++){var z=J[U];J[U]=J[O-U-1],J[O-U-1]=z,z=K[U],K[U]=-K[O-U-1],K[O-U-1]=-z}},k.prototype.normalize13b=function E(J,K){var O=0;for(var U=0;U<K/2;U++){var z=Math.round(J[2*U+1]/K)*8192+Math.round(J[2*U]/K)+O;if(J[U]=z&67108863,z<67108864)O=0;else O=z/67108864|0}return J},k.prototype.convert13b=function E(J,K,O,U){var z=0;for(var C=0;C<K;C++)z=z+(J[C]|0),O[2*C]=z&8191,z=z>>>13,O[2*C+1]=z&8191,z=z>>>13;for(C=2*K;C<U;++C)O[C]=0;Y(z===0),Y((z&-8192)===0)},k.prototype.stub=function E(J){var K=new Array(J);for(var O=0;O<J;O++)K[O]=0;return K},k.prototype.mulp=function E(J,K,O){var U=2*this.guessLen13b(J.length,K.length),z=this.makeRBT(U),C=this.stub(U),R=new Array(U),L=new Array(U),W=new Array(U),q=new Array(U),_=new Array(U),B=new Array(U),x=O.words;x.length=U,this.convert13b(J.words,J.length,R,U),this.convert13b(K.words,K.length,q,U),this.transform(R,C,L,W,U,z),this.transform(q,C,_,B,U,z);for(var b=0;b<U;b++){var l=L[b]*_[b]-W[b]*B[b];W[b]=L[b]*B[b]+W[b]*_[b],L[b]=l}return this.conjugate(L,W,U),this.transform(L,W,x,C,U,z),this.conjugate(x,C,U),this.normalize13b(x,U),O.negative=J.negative^K.negative,O.length=J.length+K.length,O.strip()},G.prototype.mul=function E(J){var K=new G(null);return K.words=new Array(this.length+J.length),this.mulTo(J,K)},G.prototype.mulf=function E(J){var K=new G(null);return K.words=new Array(this.length+J.length),w(this,J,K)},G.prototype.imul=function E(J){return this.clone().mulTo(J,this)},G.prototype.imuln=function E(J){Y(typeof J==="number"),Y(J<67108864);var K=0;for(var O=0;O<this.length;O++){var U=(this.words[O]|0)*J,z=(U&67108863)+(K&67108863);K>>=26,K+=U/67108864|0,K+=z>>>26,this.words[O]=z&67108863}if(K!==0)this.words[O]=K,this.length++;return this.length=J===0?1:this.length,this},G.prototype.muln=function E(J){return this.clone().imuln(J)},G.prototype.sqr=function E(){return this.mul(this)},G.prototype.isqr=function E(){return this.imul(this.clone())},G.prototype.pow=function E(J){var K=P(J);if(K.length===0)return new G(1);var O=this;for(var U=0;U<K.length;U++,O=O.sqr())if(K[U]!==0)break;if(++U<K.length)for(var z=O.sqr();U<K.length;U++,z=z.sqr()){if(K[U]===0)continue;O=O.mul(z)}return O},G.prototype.iushln=function E(J){Y(typeof J==="number"&&J>=0);var K=J%26,O=(J-K)/26,U=67108863>>>26-K<<26-K,z;if(K!==0){var C=0;for(z=0;z<this.length;z++){var R=this.words[z]&U,L=(this.words[z]|0)-R<<K;this.words[z]=L|C,C=R>>>26-K}if(C)this.words[z]=C,this.length++}if(O!==0){for(z=this.length-1;z>=0;z--)this.words[z+O]=this.words[z];for(z=0;z<O;z++)this.words[z]=0;this.length+=O}return this.strip()},G.prototype.ishln=function E(J){return Y(this.negative===0),this.iushln(J)},G.prototype.iushrn=function E(J,K,O){Y(typeof J==="number"&&J>=0);var U;if(K)U=(K-K%26)/26;else U=0;var z=J%26,C=Math.min((J-z)/26,this.length),R=67108863^67108863>>>z<<z,L=O;if(U-=C,U=Math.max(0,U),L){for(var W=0;W<C;W++)L.words[W]=this.words[W];L.length=C}if(C===0);else if(this.length>C){this.length-=C;for(W=0;W<this.length;W++)this.words[W]=this.words[W+C]}else this.words[0]=0,this.length=1;var q=0;for(W=this.length-1;W>=0&&(q!==0||W>=U);W--){var _=this.words[W]|0;this.words[W]=q<<26-z|_>>>z,q=_&R}if(L&&q!==0)L.words[L.length++]=q;if(this.length===0)this.words[0]=0,this.length=1;return this.strip()},G.prototype.ishrn=function E(J,K,O){return Y(this.negative===0),this.iushrn(J,K,O)},G.prototype.shln=function E(J){return this.clone().ishln(J)},G.prototype.ushln=function E(J){return this.clone().iushln(J)},G.prototype.shrn=function E(J){return this.clone().ishrn(J)},G.prototype.ushrn=function E(J){return this.clone().iushrn(J)},G.prototype.testn=function E(J){Y(typeof J==="number"&&J>=0);var K=J%26,O=(J-K)/26,U=1<<K;if(this.length<=O)return!1;var z=this.words[O];return!!(z&U)},G.prototype.imaskn=function E(J){Y(typeof J==="number"&&J>=0);var K=J%26,O=(J-K)/26;if(Y(this.negative===0,"imaskn works only with positive numbers"),this.length<=O)return this;if(K!==0)O++;if(this.length=Math.min(O,this.length),K!==0){var U=67108863^67108863>>>K<<K;this.words[this.length-1]&=U}return this.strip()},G.prototype.maskn=function E(J){return this.clone().imaskn(J)},G.prototype.iaddn=function E(J){if(Y(typeof J==="number"),Y(J<67108864),J<0)return this.isubn(-J);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<J)return this.words[0]=J-(this.words[0]|0),this.negative=0,this;return this.negative=0,this.isubn(J),this.negative=1,this}return this._iaddn(J)},G.prototype._iaddn=function E(J){this.words[0]+=J;for(var K=0;K<this.length&&this.words[K]>=67108864;K++)if(this.words[K]-=67108864,K===this.length-1)this.words[K+1]=1;else this.words[K+1]++;return this.length=Math.max(this.length,K+1),this},G.prototype.isubn=function E(J){if(Y(typeof J==="number"),Y(J<67108864),J<0)return this.iaddn(-J);if(this.negative!==0)return this.negative=0,this.iaddn(J),this.negative=1,this;if(this.words[0]-=J,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var K=0;K<this.length&&this.words[K]<0;K++)this.words[K]+=67108864,this.words[K+1]-=1;return this.strip()},G.prototype.addn=function E(J){return this.clone().iaddn(J)},G.prototype.subn=function E(J){return this.clone().isubn(J)},G.prototype.iabs=function E(){return this.negative=0,this},G.prototype.abs=function E(){return this.clone().iabs()},G.prototype._ishlnsubmul=function E(J,K,O){var U=J.length+O,z;this._expand(U);var C,R=0;for(z=0;z<J.length;z++){C=(this.words[z+O]|0)+R;var L=(J.words[z]|0)*K;C-=L&67108863,R=(C>>26)-(L/67108864|0),this.words[z+O]=C&67108863}for(;z<this.length-O;z++)C=(this.words[z+O]|0)+R,R=C>>26,this.words[z+O]=C&67108863;if(R===0)return this.strip();Y(R===-1),R=0;for(z=0;z<this.length;z++)C=-(this.words[z]|0)+R,R=C>>26,this.words[z]=C&67108863;return this.negative=1,this.strip()},G.prototype._wordDiv=function E(J,K){var O=this.length-J.length,U=this.clone(),z=J,C=z.words[z.length-1]|0,R=this._countBits(C);if(O=26-R,O!==0)z=z.ushln(O),U.iushln(O),C=z.words[z.length-1]|0;var L=U.length-z.length,W;if(K!=="mod"){W=new G(null),W.length=L+1,W.words=new Array(W.length);for(var q=0;q<W.length;q++)W.words[q]=0}var _=U.clone()._ishlnsubmul(z,1,L);if(_.negative===0){if(U=_,W)W.words[L]=1}for(var B=L-1;B>=0;B--){var x=(U.words[z.length+B]|0)*67108864+(U.words[z.length+B-1]|0);x=Math.min(x/C|0,67108863),U._ishlnsubmul(z,x,B);while(U.negative!==0)if(x--,U.negative=0,U._ishlnsubmul(z,1,B),!U.isZero())U.negative^=1;if(W)W.words[B]=x}if(W)W.strip();if(U.strip(),K!=="div"&&O!==0)U.iushrn(O);return{div:W||null,mod:U}},G.prototype.divmod=function E(J,K,O){if(Y(!J.isZero()),this.isZero())return{div:new G(0),mod:new G(0)};var U,z,C;if(this.negative!==0&&J.negative===0){if(C=this.neg().divmod(J,K),K!=="mod")U=C.div.neg();if(K!=="div"){if(z=C.mod.neg(),O&&z.negative!==0)z.iadd(J)}return{div:U,mod:z}}if(this.negative===0&&J.negative!==0){if(C=this.divmod(J.neg(),K),K!=="mod")U=C.div.neg();return{div:U,mod:C.mod}}if((this.negative&J.negative)!==0){if(C=this.neg().divmod(J.neg(),K),K!=="div"){if(z=C.mod.neg(),O&&z.negative!==0)z.isub(J)}return{div:C.div,mod:z}}if(J.length>this.length||this.cmp(J)<0)return{div:new G(0),mod:this};if(J.length===1){if(K==="div")return{div:this.divn(J.words[0]),mod:null};if(K==="mod")return{div:null,mod:new G(this.modn(J.words[0]))};return{div:this.divn(J.words[0]),mod:new G(this.modn(J.words[0]))}}return this._wordDiv(J,K)},G.prototype.div=function E(J){return this.divmod(J,"div",!1).div},G.prototype.mod=function E(J){return this.divmod(J,"mod",!1).mod},G.prototype.umod=function E(J){return this.divmod(J,"mod",!0).mod},G.prototype.divRound=function E(J){var K=this.divmod(J);if(K.mod.isZero())return K.div;var O=K.div.negative!==0?K.mod.isub(J):K.mod,U=J.ushrn(1),z=J.andln(1),C=O.cmp(U);if(C<0||z===1&&C===0)return K.div;return K.div.negative!==0?K.div.isubn(1):K.div.iaddn(1)},G.prototype.modn=function E(J){Y(J<=67108863);var K=67108864%J,O=0;for(var U=this.length-1;U>=0;U--)O=(K*O+(this.words[U]|0))%J;return O},G.prototype.idivn=function E(J){Y(J<=67108863);var K=0;for(var O=this.length-1;O>=0;O--){var U=(this.words[O]|0)+K*67108864;this.words[O]=U/J|0,K=U%J}return this.strip()},G.prototype.divn=function E(J){return this.clone().idivn(J)},G.prototype.egcd=function E(J){Y(J.negative===0),Y(!J.isZero());var K=this,O=J.clone();if(K.negative!==0)K=K.umod(J);else K=K.clone();var U=new G(1),z=new G(0),C=new G(0),R=new G(1),L=0;while(K.isEven()&&O.isEven())K.iushrn(1),O.iushrn(1),++L;var W=O.clone(),q=K.clone();while(!K.isZero()){for(var _=0,B=1;(K.words[0]&B)===0&&_<26;++_,B<<=1);if(_>0){K.iushrn(_);while(_-- >0){if(U.isOdd()||z.isOdd())U.iadd(W),z.isub(q);U.iushrn(1),z.iushrn(1)}}for(var x=0,b=1;(O.words[0]&b)===0&&x<26;++x,b<<=1);if(x>0){O.iushrn(x);while(x-- >0){if(C.isOdd()||R.isOdd())C.iadd(W),R.isub(q);C.iushrn(1),R.iushrn(1)}}if(K.cmp(O)>=0)K.isub(O),U.isub(C),z.isub(R);else O.isub(K),C.isub(U),R.isub(z)}return{a:C,b:R,gcd:O.iushln(L)}},G.prototype._invmp=function E(J){Y(J.negative===0),Y(!J.isZero());var K=this,O=J.clone();if(K.negative!==0)K=K.umod(J);else K=K.clone();var U=new G(1),z=new G(0),C=O.clone();while(K.cmpn(1)>0&&O.cmpn(1)>0){for(var R=0,L=1;(K.words[0]&L)===0&&R<26;++R,L<<=1);if(R>0){K.iushrn(R);while(R-- >0){if(U.isOdd())U.iadd(C);U.iushrn(1)}}for(var W=0,q=1;(O.words[0]&q)===0&&W<26;++W,q<<=1);if(W>0){O.iushrn(W);while(W-- >0){if(z.isOdd())z.iadd(C);z.iushrn(1)}}if(K.cmp(O)>=0)K.isub(O),U.isub(z);else O.isub(K),z.isub(U)}var _;if(K.cmpn(1)===0)_=U;else _=z;if(_.cmpn(0)<0)_.iadd(J);return _},G.prototype.gcd=function E(J){if(this.isZero())return J.abs();if(J.isZero())return this.abs();var K=this.clone(),O=J.clone();K.negative=0,O.negative=0;for(var U=0;K.isEven()&&O.isEven();U++)K.iushrn(1),O.iushrn(1);do{while(K.isEven())K.iushrn(1);while(O.isEven())O.iushrn(1);var z=K.cmp(O);if(z<0){var C=K;K=O,O=C}else if(z===0||O.cmpn(1)===0)break;K.isub(O)}while(!0);return O.iushln(U)},G.prototype.invm=function E(J){return this.egcd(J).a.umod(J)},G.prototype.isEven=function E(){return(this.words[0]&1)===0},G.prototype.isOdd=function E(){return(this.words[0]&1)===1},G.prototype.andln=function E(J){return this.words[0]&J},G.prototype.bincn=function E(J){Y(typeof J==="number");var K=J%26,O=(J-K)/26,U=1<<K;if(this.length<=O)return this._expand(O+1),this.words[O]|=U,this;var z=U;for(var C=O;z!==0&&C<this.length;C++){var R=this.words[C]|0;R+=z,z=R>>>26,R&=67108863,this.words[C]=R}if(z!==0)this.words[C]=z,this.length++;return this},G.prototype.isZero=function E(){return this.length===1&&this.words[0]===0},G.prototype.cmpn=function E(J){var K=J<0;if(this.negative!==0&&!K)return-1;if(this.negative===0&&K)return 1;this.strip();var O;if(this.length>1)O=1;else{if(K)J=-J;Y(J<=67108863,"Number is too big");var U=this.words[0]|0;O=U===J?0:U<J?-1:1}if(this.negative!==0)return-O|0;return O},G.prototype.cmp=function E(J){if(this.negative!==0&&J.negative===0)return-1;if(this.negative===0&&J.negative!==0)return 1;var K=this.ucmp(J);if(this.negative!==0)return-K|0;return K},G.prototype.ucmp=function E(J){if(this.length>J.length)return 1;if(this.length<J.length)return-1;var K=0;for(var O=this.length-1;O>=0;O--){var U=this.words[O]|0,z=J.words[O]|0;if(U===z)continue;if(U<z)K=-1;else if(U>z)K=1;break}return K},G.prototype.gtn=function E(J){return this.cmpn(J)===1},G.prototype.gt=function E(J){return this.cmp(J)===1},G.prototype.gten=function E(J){return this.cmpn(J)>=0},G.prototype.gte=function E(J){return this.cmp(J)>=0},G.prototype.ltn=function E(J){return this.cmpn(J)===-1},G.prototype.lt=function E(J){return this.cmp(J)===-1},G.prototype.lten=function E(J){return this.cmpn(J)<=0},G.prototype.lte=function E(J){return this.cmp(J)<=0},G.prototype.eqn=function E(J){return this.cmpn(J)===0},G.prototype.eq=function E(J){return this.cmp(J)===0},G.red=function E(J){return new p(J)},G.prototype.toRed=function E(J){return Y(!this.red,"Already a number in reduction context"),Y(this.negative===0,"red works only with positives"),J.convertTo(this)._forceRed(J)},G.prototype.fromRed=function E(){return Y(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},G.prototype._forceRed=function E(J){return this.red=J,this},G.prototype.forceRed=function E(J){return Y(!this.red,"Already a number in reduction context"),this._forceRed(J)},G.prototype.redAdd=function E(J){return Y(this.red,"redAdd works only with red numbers"),this.red.add(this,J)},G.prototype.redIAdd=function E(J){return Y(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,J)},G.prototype.redSub=function E(J){return Y(this.red,"redSub works only with red numbers"),this.red.sub(this,J)},G.prototype.redISub=function E(J){return Y(this.red,"redISub works only with red numbers"),this.red.isub(this,J)},G.prototype.redShl=function E(J){return Y(this.red,"redShl works only with red numbers"),this.red.shl(this,J)},G.prototype.redMul=function E(J){return Y(this.red,"redMul works only with red numbers"),this.red._verify2(this,J),this.red.mul(this,J)},G.prototype.redIMul=function E(J){return Y(this.red,"redMul works only with red numbers"),this.red._verify2(this,J),this.red.imul(this,J)},G.prototype.redSqr=function E(){return Y(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},G.prototype.redISqr=function E(){return Y(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},G.prototype.redSqrt=function E(){return Y(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},G.prototype.redInvm=function E(){return Y(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},G.prototype.redNeg=function E(){return Y(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},G.prototype.redPow=function E(J){return Y(this.red&&!J.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,J)};var f={k256:null,p224:null,p192:null,p25519:null};function v(E,J){this.name=E,this.p=new G(J,16),this.n=this.p.bitLength(),this.k=new G(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}v.prototype._tmp=function E(){var J=new G(null);return J.words=new Array(Math.ceil(this.n/13)),J},v.prototype.ireduce=function E(J){var K=J,O;do this.split(K,this.tmp),K=this.imulK(K),K=K.iadd(this.tmp),O=K.bitLength();while(O>this.n);var U=O<this.n?-1:K.ucmp(this.p);if(U===0)K.words[0]=0,K.length=1;else if(U>0)K.isub(this.p);else if(K.strip!==void 0)K.strip();else K._strip();return K},v.prototype.split=function E(J,K){J.iushrn(this.n,0,K)},v.prototype.imulK=function E(J){return J.imul(this.k)};function c(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}V(c,v),c.prototype.split=function E(J,K){var O=4194303,U=Math.min(J.length,9);for(var z=0;z<U;z++)K.words[z]=J.words[z];if(K.length=U,J.length<=9){J.words[0]=0,J.length=1;return}var C=J.words[9];K.words[K.length++]=C&O;for(z=10;z<J.length;z++){var R=J.words[z]|0;J.words[z-10]=(R&O)<<4|C>>>22,C=R}if(C>>>=22,J.words[z-10]=C,C===0&&J.length>10)J.length-=10;else J.length-=9},c.prototype.imulK=function E(J){J.words[J.length]=0,J.words[J.length+1]=0,J.length+=2;var K=0;for(var O=0;O<J.length;O++){var U=J.words[O]|0;K+=U*977,J.words[O]=K&67108863,K=U*64+(K/67108864|0)}if(J.words[J.length-1]===0){if(J.length--,J.words[J.length-1]===0)J.length--}return J};function u(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}V(u,v);function Z0(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}V(Z0,v);function e(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}V(e,v),e.prototype.imulK=function E(J){var K=0;for(var O=0;O<J.length;O++){var U=(J.words[O]|0)*19+K,z=U&67108863;U>>>=26,J.words[O]=z,K=U}if(K!==0)J.words[J.length++]=K;return J},G._prime=function E(J){if(f[J])return f[J];var K;if(J==="k256")K=new c;else if(J==="p224")K=new u;else if(J==="p192")K=new Z0;else if(J==="p25519")K=new e;else throw new Error("Unknown prime "+J);return f[J]=K,K};function p(E){if(typeof E==="string"){var J=G._prime(E);this.m=J.p,this.prime=J}else Y(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}p.prototype._verify1=function E(J){Y(J.negative===0,"red works only with positives"),Y(J.red,"red works only with red numbers")},p.prototype._verify2=function E(J,K){Y((J.negative|K.negative)===0,"red works only with positives"),Y(J.red&&J.red===K.red,"red works only with red numbers")},p.prototype.imod=function E(J){if(this.prime)return this.prime.ireduce(J)._forceRed(this);return J.umod(this.m)._forceRed(this)},p.prototype.neg=function E(J){if(J.isZero())return J.clone();return this.m.sub(J)._forceRed(this)},p.prototype.add=function E(J,K){this._verify2(J,K);var O=J.add(K);if(O.cmp(this.m)>=0)O.isub(this.m);return O._forceRed(this)},p.prototype.iadd=function E(J,K){this._verify2(J,K);var O=J.iadd(K);if(O.cmp(this.m)>=0)O.isub(this.m);return O},p.prototype.sub=function E(J,K){this._verify2(J,K);var O=J.sub(K);if(O.cmpn(0)<0)O.iadd(this.m);return O._forceRed(this)},p.prototype.isub=function E(J,K){this._verify2(J,K);var O=J.isub(K);if(O.cmpn(0)<0)O.iadd(this.m);return O},p.prototype.shl=function E(J,K){return this._verify1(J),this.imod(J.ushln(K))},p.prototype.imul=function E(J,K){return this._verify2(J,K),this.imod(J.imul(K))},p.prototype.mul=function E(J,K){return this._verify2(J,K),this.imod(J.mul(K))},p.prototype.isqr=function E(J){return this.imul(J,J.clone())},p.prototype.sqr=function E(J){return this.mul(J,J)},p.prototype.sqrt=function E(J){if(J.isZero())return J.clone();var K=this.m.andln(3);if(Y(K%2===1),K===3){var O=this.m.add(new G(1)).iushrn(2);return this.pow(J,O)}var U=this.m.subn(1),z=0;while(!U.isZero()&&U.andln(1)===0)z++,U.iushrn(1);Y(!U.isZero());var C=new G(1).toRed(this),R=C.redNeg(),L=this.m.subn(1).iushrn(1),W=this.m.bitLength();W=new G(2*W*W).toRed(this);while(this.pow(W,L).cmp(R)!==0)W.redIAdd(R);var q=this.pow(W,U),_=this.pow(J,U.addn(1).iushrn(1)),B=this.pow(J,U),x=z;while(B.cmp(C)!==0){var b=B;for(var l=0;b.cmp(C)!==0;l++)b=b.redSqr();Y(l<x);var r=this.pow(q,new G(1).iushln(x-l-1));_=_.redMul(r),q=r.redSqr(),B=B.redMul(q),x=l}return _},p.prototype.invm=function E(J){var K=J._invmp(this.m);if(K.negative!==0)return K.negative=0,this.imod(K).redNeg();else return this.imod(K)},p.prototype.pow=function E(J,K){if(K.isZero())return new G(1).toRed(this);if(K.cmpn(1)===0)return J.clone();var O=4,U=new Array(1<<O);U[0]=new G(1).toRed(this),U[1]=J;for(var z=2;z<U.length;z++)U[z]=this.mul(U[z-1],J);var C=U[0],R=0,L=0,W=K.bitLength()%26;if(W===0)W=26;for(z=K.length-1;z>=0;z--){var q=K.words[z];for(var _=W-1;_>=0;_--){var B=q>>_&1;if(C!==U[0])C=this.sqr(C);if(B===0&&R===0){L=0;continue}if(R<<=1,R|=B,L++,L!==O&&(z!==0||_!==0))continue;C=this.mul(C,U[R]),L=0,R=0}W=26}return C},p.prototype.convertTo=function E(J){var K=J.umod(this.m);return K===J?K.clone():K},p.prototype.convertFrom=function E(J){var K=J.clone();return K.red=null,K},G.mont=function E(J){return new s(J)};function s(E){if(p.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0)this.shift+=26-this.shift%26;this.r=new G(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}V(s,p),s.prototype.convertTo=function E(J){return this.imod(J.ushln(this.shift))},s.prototype.convertFrom=function E(J){var K=this.imod(J.mul(this.rinv));return K.red=null,K},s.prototype.imul=function E(J,K){if(J.isZero()||K.isZero())return J.words[0]=0,J.length=1,J;var O=J.imul(K),U=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),z=O.isub(U).iushrn(this.shift),C=z;if(z.cmp(this.m)>=0)C=z.isub(this.m);else if(z.cmpn(0)<0)C=z.iadd(this.m);return C._forceRed(this)},s.prototype.mul=function E(J,K){if(J.isZero()||K.isZero())return new G(0)._forceRed(this);var O=J.mul(K),U=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),z=O.isub(U).iushrn(this.shift),C=z;if(z.cmp(this.m)>=0)C=z.isub(this.m);else if(z.cmpn(0)<0)C=z.iadd(this.m);return C._forceRed(this)},s.prototype.invm=function E(J){var K=this.imod(J._invmp(this.m).mul(this.r2));return K._forceRed(this)}})(typeof Q==="undefined"||Q,$)}),cP=m0(($)=>{var Q=aW(),X=CX(),Z=$;Z.define=function V(G,H){return new Y(G,H)};function Y(V,G){this.name=V,this.body=G,this.decoders={},this.encoders={}}Y.prototype._createNamed=function V(G){var H;try{H=(()=>{throw new Error("Cannot require module "+"vm");})().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch(D){H=function(A){this._initNamed(A)}}return X(H,G),H.prototype._initNamed=function D(A){G.call(this,A)},new H(this)},Y.prototype._getDecoder=function V(G){if(G=G||"der",!this.decoders.hasOwnProperty(G))this.decoders[G]=this._createNamed(Q.decoders[G]);return this.decoders[G]},Y.prototype.decode=function V(G,H,D){return this._getDecoder(H).decode(G,D)},Y.prototype._getEncoder=function V(G){if(G=G||"der",!this.encoders.hasOwnProperty(G))this.encoders[G]=this._createNamed(Q.encoders[G]);return this.encoders[G]},Y.prototype.encode=function V(G,H,D){return this._getEncoder(H).encode(G,D)}}),mP=m0(($)=>{var Q=CX();function X(Y){this._reporterState={obj:null,path:[],options:Y||{},errors:[]}}$.Reporter=X,X.prototype.isError=function Y(V){return V instanceof Z},X.prototype.save=function Y(){var V=this._reporterState;return{obj:V.obj,pathLen:V.path.length}},X.prototype.restore=function Y(V){var G=this._reporterState;G.obj=V.obj,G.path=G.path.slice(0,V.pathLen)},X.prototype.enterKey=function Y(V){return this._reporterState.path.push(V)},X.prototype.exitKey=function Y(V){var G=this._reporterState;G.path=G.path.slice(0,V-1)},X.prototype.leaveKey=function Y(V,G,H){var D=this._reporterState;if(this.exitKey(V),D.obj!==null)D.obj[G]=H},X.prototype.path=function Y(){return this._reporterState.path.join("/")},X.prototype.enterObject=function Y(){var V=this._reporterState,G=V.obj;return V.obj={},G},X.prototype.leaveObject=function Y(V){var G=this._reporterState,H=G.obj;return G.obj=V,H},X.prototype.error=function Y(V){var G,H=this._reporterState,D=V instanceof Z;if(D)G=V;else G=new Z(H.path.map(function(A){return"["+JSON.stringify(A)+"]"}).join(""),V.message||V,V.stack);if(!H.options.partial)throw G;if(!D)H.errors.push(G);return G},X.prototype.wrapResult=function Y(V){var G=this._reporterState;if(!G.options.partial)return V;return{result:this.isError(V)?null:V,errors:G.errors}};function Z(Y,V){this.path=Y,this.rethrow(V)}Q(Z,Error),Z.prototype.rethrow=function Y(V){if(this.message=V+" at: "+(this.path||"(shallow)"),Error.captureStackTrace)Error.captureStackTrace(this,Z);if(!this.stack)try{throw new Error(this.message)}catch(G){this.stack=G.stack}return this}}),BD=m0(($)=>{var Q=CX(),X=iW().Reporter,Z=(y$(),$$(g$)).Buffer;function Y(G,H){if(X.call(this,H),!Z.isBuffer(G)){this.error("Input not Buffer");return}this.base=G,this.offset=0,this.length=G.length}Q(Y,X),$.DecoderBuffer=Y,Y.prototype.save=function G(){return{offset:this.offset,reporter:X.prototype.save.call(this)}},Y.prototype.restore=function G(H){var D=new Y(this.base);return D.offset=H.offset,D.length=this.offset,this.offset=H.offset,X.prototype.restore.call(this,H.reporter),D},Y.prototype.isEmpty=function G(){return this.offset===this.length},Y.prototype.readUInt8=function G(H){if(this.offset+1<=this.length)return this.base.readUInt8(this.offset++,!0);else return this.error(H||"DecoderBuffer overrun")},Y.prototype.skip=function G(H,D){if(!(this.offset+H<=this.length))return this.error(D||"DecoderBuffer overrun");var A=new Y(this.base);return A._reporterState=this._reporterState,A.offset=this.offset,A.length=this.offset+H,this.offset+=H,A},Y.prototype.raw=function G(H){return this.base.slice(H?H.offset:this.offset,this.length)};function V(G,H){if(Array.isArray(G))this.length=0,this.value=G.map(function(D){if(!(D instanceof V))D=new V(D,H);return this.length+=D.length,D},this);else if(typeof G==="number"){if(!(0<=G&&G<=255))return H.error("non-byte EncoderBuffer value");this.value=G,this.length=1}else if(typeof G==="string")this.value=G,this.length=Z.byteLength(G);else if(Z.isBuffer(G))this.value=G,this.length=G.length;else return H.error("Unsupported type: "+typeof G)}$.EncoderBuffer=V,V.prototype.join=function G(H,D){if(!H)H=new Z(this.length);if(!D)D=0;if(this.length===0)return H;if(Array.isArray(this.value))this.value.forEach(function(A){A.join(H,D),D+=A.length});else{if(typeof this.value==="number")H[D]=this.value;else if(typeof this.value==="string")H.write(this.value,D);else if(Z.isBuffer(this.value))this.value.copy(H,D);D+=this.length}return H}}),uP=m0(($,Q)=>{var X=iW().Reporter,Z=iW().EncoderBuffer,Y=iW().DecoderBuffer,V=dY(),G=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],H=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(G),D=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function A(F,M){var I={};if(this._baseState=I,I.enc=F,I.parent=M||null,I.children=null,I.tag=null,I.args=null,I.reverseArgs=null,I.choice=null,I.optional=!1,I.any=!1,I.obj=!1,I.use=null,I.useDecoder=null,I.key=null,I.default=null,I.explicit=null,I.implicit=null,I.contains=null,!I.parent)I.children=[],this._wrap()}Q.exports=A;var T=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];A.prototype.clone=function F(){var M=this._baseState,I={};T.forEach(function(S){I[S]=M[S]});var P=new this.constructor(I.parent);return P._baseState=I,P},A.prototype._wrap=function F(){var M=this._baseState;H.forEach(function(I){this[I]=function P(){var S=new this.constructor(this);return M.children.push(S),S[I].apply(S,arguments)}},this)},A.prototype._init=function F(M){var I=this._baseState;V(I.parent===null),M.call(this),I.children=I.children.filter(function(P){return P._baseState.parent===this},this),V.equal(I.children.length,1,"Root node can have only one child")},A.prototype._useArgs=function F(M){var I=this._baseState,P=M.filter(function(S){return S instanceof this.constructor},this);if(M=M.filter(function(S){return!(S instanceof this.constructor)},this),P.length!==0)V(I.children===null),I.children=P,P.forEach(function(S){S._baseState.parent=this},this);if(M.length!==0)V(I.args===null),I.args=M,I.reverseArgs=M.map(function(S){if(typeof S!=="object"||S.constructor!==Object)return S;var j={};return Object.keys(S).forEach(function(N){if(N==(N|0))N|=0;var w=S[N];j[w]=N}),j})},D.forEach(function(F){A.prototype[F]=function M(){var I=this._baseState;throw new Error(F+" not implemented for encoding: "+I.enc)}}),G.forEach(function(F){A.prototype[F]=function M(){var I=this._baseState,P=Array.prototype.slice.call(arguments);return V(I.tag===null),I.tag=F,this._useArgs(P),this}}),A.prototype.use=function F(M){V(M);var I=this._baseState;return V(I.use===null),I.use=M,this},A.prototype.optional=function F(){var M=this._baseState;return M.optional=!0,this},A.prototype.def=function F(M){var I=this._baseState;return V(I.default===null),I.default=M,I.optional=!0,this},A.prototype.explicit=function F(M){var I=this._baseState;return V(I.explicit===null&&I.implicit===null),I.explicit=M,this},A.prototype.implicit=function F(M){var I=this._baseState;return V(I.explicit===null&&I.implicit===null),I.implicit=M,this},A.prototype.obj=function F(){var M=this._baseState,I=Array.prototype.slice.call(arguments);if(M.obj=!0,I.length!==0)this._useArgs(I);return this},A.prototype.key=function F(M){var I=this._baseState;return V(I.key===null),I.key=M,this},A.prototype.any=function F(){var M=this._baseState;return M.any=!0,this},A.prototype.choice=function F(M){var I=this._baseState;return V(I.choice===null),I.choice=M,this._useArgs(Object.keys(M).map(function(P){return M[P]})),this},A.prototype.contains=function F(M){var I=this._baseState;return V(I.use===null),I.contains=M,this},A.prototype._decode=function F(M,I){var P=this._baseState;if(P.parent===null)return M.wrapResult(P.children[0]._decode(M,I));var S=P.default,j=!0,N=null;if(P.key!==null)N=M.enterKey(P.key);if(P.optional){var w=null;if(P.explicit!==null)w=P.explicit;else if(P.implicit!==null)w=P.implicit;else if(P.tag!==null)w=P.tag;if(w===null&&!P.any){var k=M.save();try{if(P.choice===null)this._decodeGeneric(P.tag,M,I);else this._decodeChoice(M,I);j=!0}catch(e){j=!1}M.restore(k)}else if(j=this._peekTag(M,w,P.any),M.isError(j))return j}var f;if(P.obj&&j)f=M.enterObject();if(j){if(P.explicit!==null){var v=this._decodeTag(M,P.explicit);if(M.isError(v))return v;M=v}var c=M.offset;if(P.use===null&&P.choice===null){if(P.any)var k=M.save();var u=this._decodeTag(M,P.implicit!==null?P.implicit:P.tag,P.any);if(M.isError(u))return u;if(P.any)S=M.raw(k);else M=u}if(I&&I.track&&P.tag!==null)I.track(M.path(),c,M.length,"tagged");if(I&&I.track&&P.tag!==null)I.track(M.path(),M.offset,M.length,"content");if(P.any)S=S;else if(P.choice===null)S=this._decodeGeneric(P.tag,M,I);else S=this._decodeChoice(M,I);if(M.isError(S))return S;if(!P.any&&P.choice===null&&P.children!==null)P.children.forEach(function e(p){p._decode(M,I)});if(P.contains&&(P.tag==="octstr"||P.tag==="bitstr")){var Z0=new Y(S);S=this._getUse(P.contains,M._reporterState.obj)._decode(Z0,I)}}if(P.obj&&j)S=M.leaveObject(f);if(P.key!==null&&(S!==null||j===!0))M.leaveKey(N,P.key,S);else if(N!==null)M.exitKey(N);return S},A.prototype._decodeGeneric=function F(M,I,P){var S=this._baseState;if(M==="seq"||M==="set")return null;if(M==="seqof"||M==="setof")return this._decodeList(I,M,S.args[0],P);else if(/str$/.test(M))return this._decodeStr(I,M,P);else if(M==="objid"&&S.args)return this._decodeObjid(I,S.args[0],S.args[1],P);else if(M==="objid")return this._decodeObjid(I,null,null,P);else if(M==="gentime"||M==="utctime")return this._decodeTime(I,M,P);else if(M==="null_")return this._decodeNull(I,P);else if(M==="bool")return this._decodeBool(I,P);else if(M==="objDesc")return this._decodeStr(I,M,P);else if(M==="int"||M==="enum")return this._decodeInt(I,S.args&&S.args[0],P);if(S.use!==null)return this._getUse(S.use,I._reporterState.obj)._decode(I,P);else return I.error("unknown tag: "+M)},A.prototype._getUse=function F(M,I){var P=this._baseState;if(P.useDecoder=this._use(M,I),V(P.useDecoder._baseState.parent===null),P.useDecoder=P.useDecoder._baseState.children[0],P.implicit!==P.useDecoder._baseState.implicit)P.useDecoder=P.useDecoder.clone(),P.useDecoder._baseState.implicit=P.implicit;return P.useDecoder},A.prototype._decodeChoice=function F(M,I){var P=this._baseState,S=null,j=!1;if(Object.keys(P.choice).some(function(N){var w=M.save(),k=P.choice[N];try{var f=k._decode(M,I);if(M.isError(f))return!1;S={type:N,value:f},j=!0}catch(v){return M.restore(w),!1}return!0},this),!j)return M.error("Choice not matched");return S},A.prototype._createEncoderBuffer=function F(M){return new Z(M,this.reporter)},A.prototype._encode=function F(M,I,P){var S=this._baseState;if(S.default!==null&&S.default===M)return;var j=this._encodeValue(M,I,P);if(j===void 0)return;if(this._skipDefault(j,I,P))return;return j},A.prototype._encodeValue=function F(M,I,P){var S=this._baseState;if(S.parent===null)return S.children[0]._encode(M,I||new X);var k=null;if(this.reporter=I,S.optional&&M===void 0)if(S.default!==null)M=S.default;else return;var j=null,N=!1;if(S.any)k=this._createEncoderBuffer(M);else if(S.choice)k=this._encodeChoice(M,I);else if(S.contains)j=this._getUse(S.contains,P)._encode(M,I),N=!0;else if(S.children)j=S.children.map(function(c){if(c._baseState.tag==="null_")return c._encode(null,I,M);if(c._baseState.key===null)return I.error("Child should have a key");var u=I.enterKey(c._baseState.key);if(typeof M!=="object")return I.error("Child expected, but input is not object");var Z0=c._encode(M[c._baseState.key],I,M);return I.leaveKey(u),Z0},this).filter(function(c){return c}),j=this._createEncoderBuffer(j);else if(S.tag==="seqof"||S.tag==="setof"){if(!(S.args&&S.args.length===1))return I.error("Too many args for : "+S.tag);if(!Array.isArray(M))return I.error("seqof/setof, but data is not Array");var w=this.clone();w._baseState.implicit=null,j=this._createEncoderBuffer(M.map(function(c){var u=this._baseState;return this._getUse(u.args[0],M)._encode(c,I)},w))}else if(S.use!==null)k=this._getUse(S.use,P)._encode(M,I);else j=this._encodePrimitive(S.tag,M),N=!0;var k;if(!S.any&&S.choice===null){var f=S.implicit!==null?S.implicit:S.tag,v=S.implicit===null?"universal":"context";if(f===null){if(S.use===null)I.error("Tag could be omitted only for .use()")}else if(S.use===null)k=this._encodeComposite(f,N,v,j)}if(S.explicit!==null)k=this._encodeComposite(S.explicit,!1,"context",k);return k},A.prototype._encodeChoice=function F(M,I){var P=this._baseState,S=P.choice[M.type];if(!S)V(!1,M.type+" not found in "+JSON.stringify(Object.keys(P.choice)));return S._encode(M.value,I)},A.prototype._encodePrimitive=function F(M,I){var P=this._baseState;if(/str$/.test(M))return this._encodeStr(I,M);else if(M==="objid"&&P.args)return this._encodeObjid(I,P.reverseArgs[0],P.args[1]);else if(M==="objid")return this._encodeObjid(I,null,null);else if(M==="gentime"||M==="utctime")return this._encodeTime(I,M);else if(M==="null_")return this._encodeNull();else if(M==="int"||M==="enum")return this._encodeInt(I,P.args&&P.reverseArgs[0]);else if(M==="bool")return this._encodeBool(I);else if(M==="objDesc")return this._encodeStr(I,M);else throw new Error("Unsupported tag: "+M)},A.prototype._isNumstr=function F(M){return/^[0-9 ]*$/.test(M)},A.prototype._isPrintstr=function F(M){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(M)}}),iW=m0(($)=>{var Q=$;Q.Reporter=mP().Reporter,Q.DecoderBuffer=BD().DecoderBuffer,Q.EncoderBuffer=BD().EncoderBuffer,Q.Node=uP()}),dP=m0(($)=>{var Q=yD();$.tagClass={0:"universal",1:"application",2:"context",3:"private"},$.tagClassByName=Q._reverse($.tagClass),$.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},$.tagByName=Q._reverse($.tag)}),yD=m0(($)=>{var Q=$;Q._reverse=function X(Z){var Y={};return Object.keys(Z).forEach(function(V){if((V|0)==V)V=V|0;var G=Z[V];Y[G]=V}),Y},Q.der=dP()}),hD=m0(($,Q)=>{var X=CX(),Z=aW(),Y=Z.base,V=Z.bignum,G=Z.constants.der;function H(F){this.enc="der",this.name=F.name,this.entity=F,this.tree=new D,this.tree._init(F.body)}Q.exports=H,H.prototype.decode=function F(M,I){if(!(M instanceof Y.DecoderBuffer))M=new Y.DecoderBuffer(M,I);return this.tree._decode(M,I)};function D(F){Y.Node.call(this,"der",F)}X(D,Y.Node),D.prototype._peekTag=function F(M,I,P){if(M.isEmpty())return!1;var S=M.save(),j=A(M,'Failed to peek tag: "'+I+'"');if(M.isError(j))return j;return M.restore(S),j.tag===I||j.tagStr===I||j.tagStr+"of"===I||P},D.prototype._decodeTag=function F(M,I,P){var S=A(M,'Failed to decode tag of "'+I+'"');if(M.isError(S))return S;var j=T(M,S.primitive,'Failed to get length of "'+I+'"');if(M.isError(j))return j;if(!P&&S.tag!==I&&S.tagStr!==I&&S.tagStr+"of"!==I)return M.error('Failed to match tag: "'+I+'"');if(S.primitive||j!==null)return M.skip(j,'Failed to match body of: "'+I+'"');var N=M.save(),w=this._skipUntilEnd(M,'Failed to skip indefinite length body: "'+this.tag+'"');if(M.isError(w))return w;return j=M.offset-N.offset,M.restore(N),M.skip(j,'Failed to match body of: "'+I+'"')},D.prototype._skipUntilEnd=function F(M,I){while(!0){var P=A(M,I);if(M.isError(P))return P;var S=T(M,P.primitive,I);if(M.isError(S))return S;var j;if(P.primitive||S!==null)j=M.skip(S);else j=this._skipUntilEnd(M,I);if(M.isError(j))return j;if(P.tagStr==="end")break}},D.prototype._decodeList=function F(M,I,P,S){var j=[];while(!M.isEmpty()){var N=this._peekTag(M,"end");if(M.isError(N))return N;var w=P.decode(M,"der",S);if(M.isError(w)&&N)break;j.push(w)}return j},D.prototype._decodeStr=function F(M,I){if(I==="bitstr"){var P=M.readUInt8();if(M.isError(P))return P;return{unused:P,data:M.raw()}}else if(I==="bmpstr"){var S=M.raw();if(S.length%2===1)return M.error("Decoding of string type: bmpstr length mismatch");var j="";for(var N=0;N<S.length/2;N++)j+=String.fromCharCode(S.readUInt16BE(N*2));return j}else if(I==="numstr"){var w=M.raw().toString("ascii");if(!this._isNumstr(w))return M.error("Decoding of string type: numstr unsupported characters");return w}else if(I==="octstr")return M.raw();else if(I==="objDesc")return M.raw();else if(I==="printstr"){var k=M.raw().toString("ascii");if(!this._isPrintstr(k))return M.error("Decoding of string type: printstr unsupported characters");return k}else if(/str$/.test(I))return M.raw().toString();else return M.error("Decoding of string type: "+I+" unsupported")},D.prototype._decodeObjid=function F(M,I,P){var S,j=[],N=0;while(!M.isEmpty()){var w=M.readUInt8();if(N<<=7,N|=w&127,(w&128)===0)j.push(N),N=0}if(w&128)j.push(N);var k=j[0]/40|0,f=j[0]%40;if(P)S=j;else S=[k,f].concat(j.slice(1));if(I){var v=I[S.join(" ")];if(v===void 0)v=I[S.join(".")];if(v!==void 0)S=v}return S},D.prototype._decodeTime=function F(M,I){var P=M.raw().toString();if(I==="gentime")var S=P.slice(0,4)|0,j=P.slice(4,6)|0,N=P.slice(6,8)|0,w=P.slice(8,10)|0,k=P.slice(10,12)|0,f=P.slice(12,14)|0;else if(I==="utctime"){var S=P.slice(0,2)|0,j=P.slice(2,4)|0,N=P.slice(4,6)|0,w=P.slice(6,8)|0,k=P.slice(8,10)|0,f=P.slice(10,12)|0;if(S<70)S=2000+S;else S=1900+S}else return M.error("Decoding "+I+" time is not supported yet");return Date.UTC(S,j-1,N,w,k,f,0)},D.prototype._decodeNull=function F(M){return null},D.prototype._decodeBool=function F(M){var I=M.readUInt8();if(M.isError(I))return I;else return I!==0},D.prototype._decodeInt=function F(M,I){var P=M.raw(),S=new V(P);if(I)S=I[S.toString(10)]||S;return S},D.prototype._use=function F(M,I){if(typeof M==="function")M=M(I);return M._getDecoder("der").tree};function A(F,M){var I=F.readUInt8(M);if(F.isError(I))return I;var P=G.tagClass[I>>6],S=(I&32)===0;if((I&31)===31){var j=I;I=0;while((j&128)===128){if(j=F.readUInt8(M),F.isError(j))return j;I<<=7,I|=j&127}}else I&=31;var N=G.tag[I];return{cls:P,primitive:S,tag:I,tagStr:N}}function T(F,M,I){var P=F.readUInt8(I);if(F.isError(P))return P;if(!M&&P===128)return null;if((P&128)===0)return P;var S=P&127;if(S>4)return F.error("length octect is too long");P=0;for(var j=0;j<S;j++){P<<=8;var N=F.readUInt8(I);if(F.isError(N))return N;P|=N}return P}}),lP=m0(($,Q)=>{var X=CX(),Z=(y$(),$$(g$)).Buffer,Y=hD();function V(G){Y.call(this,G),this.enc="pem"}X(V,Y),Q.exports=V,V.prototype.decode=function G(H,D){var A=H.toString().split(/[\r\n]+/g),T=D.label.toUpperCase(),F=/^-----(BEGIN|END) ([^-]+)-----$/,M=-1,I=-1;for(var P=0;P<A.length;P++){var S=A[P].match(F);if(S===null)continue;if(S[2]!==T)continue;if(M===-1){if(S[1]!=="BEGIN")break;M=P}else{if(S[1]!=="END")break;I=P;break}}if(M===-1||I===-1)throw new Error("PEM section not found for: "+T);var j=A.slice(M+1,I).join("");j.replace(/[^a-z0-9\+\/=]+/gi,"");var N=new Z(j,"base64");return Y.prototype.decode.call(this,N,D)}}),oP=m0(($)=>{var Q=$;Q.der=hD(),Q.pem=lP()}),bD=m0(($,Q)=>{var X=CX(),Z=(y$(),$$(g$)).Buffer,Y=aW(),V=Y.base,G=Y.constants.der;function H(F){this.enc="der",this.name=F.name,this.entity=F,this.tree=new D,this.tree._init(F.body)}Q.exports=H,H.prototype.encode=function F(M,I){return this.tree._encode(M,I).join()};function D(F){V.Node.call(this,"der",F)}X(D,V.Node),D.prototype._encodeComposite=function F(M,I,P,S){var j=T(M,I,P,this.reporter);if(S.length<128){var k=new Z(2);return k[0]=j,k[1]=S.length,this._createEncoderBuffer([k,S])}var N=1;for(var w=S.length;w>=256;w>>=8)N++;var k=new Z(2+N);k[0]=j,k[1]=128|N;for(var w=1+N,f=S.length;f>0;w--,f>>=8)k[w]=f&255;return this._createEncoderBuffer([k,S])},D.prototype._encodeStr=function F(M,I){if(I==="bitstr")return this._createEncoderBuffer([M.unused|0,M.data]);else if(I==="bmpstr"){var P=new Z(M.length*2);for(var S=0;S<M.length;S++)P.writeUInt16BE(M.charCodeAt(S),S*2);return this._createEncoderBuffer(P)}else if(I==="numstr"){if(!this._isNumstr(M))return this.reporter.error("Encoding of string type: numstr supports only digits and space");return this._createEncoderBuffer(M)}else if(I==="printstr"){if(!this._isPrintstr(M))return this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark");return this._createEncoderBuffer(M)}else if(/str$/.test(I))return this._createEncoderBuffer(M);else if(I==="objDesc")return this._createEncoderBuffer(M);else return this.reporter.error("Encoding of string type: "+I+" unsupported")},D.prototype._encodeObjid=function F(M,I,P){if(typeof M==="string"){if(!I)return this.reporter.error("string objid given, but no values map found");if(!I.hasOwnProperty(M))return this.reporter.error("objid not found in values map");M=I[M].split(/[\s\.]+/g);for(var S=0;S<M.length;S++)M[S]|=0}else if(Array.isArray(M)){M=M.slice();for(var S=0;S<M.length;S++)M[S]|=0}if(!Array.isArray(M))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(M));if(!P){if(M[1]>=40)return this.reporter.error("Second objid identifier OOB");M.splice(0,2,M[0]*40+M[1])}var j=0;for(var S=0;S<M.length;S++){var N=M[S];for(j++;N>=128;N>>=7)j++}var w=new Z(j),k=w.length-1;for(var S=M.length-1;S>=0;S--){var N=M[S];w[k--]=N&127;while((N>>=7)>0)w[k--]=128|N&127}return this._createEncoderBuffer(w)};function A(F){if(F<10)return"0"+F;else return F}D.prototype._encodeTime=function F(M,I){var P,S=new Date(M);if(I==="gentime")P=[A(S.getFullYear()),A(S.getUTCMonth()+1),A(S.getUTCDate()),A(S.getUTCHours()),A(S.getUTCMinutes()),A(S.getUTCSeconds()),"Z"].join("");else if(I==="utctime")P=[A(S.getFullYear()%100),A(S.getUTCMonth()+1),A(S.getUTCDate()),A(S.getUTCHours()),A(S.getUTCMinutes()),A(S.getUTCSeconds()),"Z"].join("");else this.reporter.error("Encoding "+I+" time is not supported yet");return this._encodeStr(P,"octstr")},D.prototype._encodeNull=function F(){return this._createEncoderBuffer("")},D.prototype._encodeInt=function F(M,I){if(typeof M==="string"){if(!I)return this.reporter.error("String int or enum given, but no values map");if(!I.hasOwnProperty(M))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(M));M=I[M]}if(typeof M!=="number"&&!Z.isBuffer(M)){var P=M.toArray();if(!M.sign&&P[0]&128)P.unshift(0);M=new Z(P)}if(Z.isBuffer(M)){var S=M.length;if(M.length===0)S++;var N=new Z(S);if(M.copy(N),M.length===0)N[0]=0;return this._createEncoderBuffer(N)}if(M<128)return this._createEncoderBuffer(M);if(M<256)return this._createEncoderBuffer([0,M]);var S=1;for(var j=M;j>=256;j>>=8)S++;var N=new Array(S);for(var j=N.length-1;j>=0;j--)N[j]=M&255,M>>=8;if(N[0]&128)N.unshift(0);return this._createEncoderBuffer(new Z(N))},D.prototype._encodeBool=function F(M){return this._createEncoderBuffer(M?255:0)},D.prototype._use=function F(M,I){if(typeof M==="function")M=M(I);return M._getEncoder("der").tree},D.prototype._skipDefault=function F(M,I,P){var S=this._baseState,j;if(S.default===null)return!1;var N=M.join();if(S.defaultBuffer===void 0)S.defaultBuffer=this._encodeValue(S.default,I,P).join();if(N.length!==S.defaultBuffer.length)return!1;for(j=0;j<N.length;j++)if(N[j]!==S.defaultBuffer[j])return!1;return!0};function T(F,M,I,P){var S;if(F==="seqof")F="seq";else if(F==="setof")F="set";if(G.tagByName.hasOwnProperty(F))S=G.tagByName[F];else if(typeof F==="number"&&(F|0)===F)S=F;else return P.error("Unknown tag: "+F);if(S>=31)return P.error("Multi-octet tag encoding unsupported");if(!M)S|=32;return S|=G.tagClassByName[I||"universal"]<<6,S}}),nP=m0(($,Q)=>{var X=CX(),Z=bD();function Y(V){Z.call(this,V),this.enc="pem"}X(Y,Z),Q.exports=Y,Y.prototype.encode=function V(G,H){var D=Z.prototype.encode.call(this,G),A=D.toString("base64"),T=["-----BEGIN "+H.label+"-----"];for(var F=0;F<A.length;F+=64)T.push(A.slice(F,F+64));return T.push("-----END "+H.label+"-----"),T.join(`
`)}}),sP=m0(($)=>{var Q=$;Q.der=bD(),Q.pem=nP()}),aW=m0(($)=>{var Q=$;Q.bignum=pP(),Q.define=cP().define,Q.base=iW(),Q.constants=yD(),Q.decoders=oP(),Q.encoders=sP()}),iP=m0(($,Q)=>{var X=aW(),Z=X.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),Y=X.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),V=X.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),G=X.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(V),this.key("subjectPublicKey").bitstr())}),H=X.define("RelativeDistinguishedName",function(){this.setof(Y)}),D=X.define("RDNSequence",function(){this.seqof(H)}),A=X.define("Name",function(){this.choice({rdnSequence:this.use(D)})}),T=X.define("Validity",function(){this.seq().obj(this.key("notBefore").use(Z),this.key("notAfter").use(Z))}),F=X.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),M=X.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(V),this.key("issuer").use(A),this.key("validity").use(T),this.key("subject").use(A),this.key("subjectPublicKeyInfo").use(G),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(F).optional())}),I=X.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(M),this.key("signatureAlgorithm").use(V),this.key("signatureValue").bitstr())});Q.exports=I}),rP=m0(($)=>{var Q=aW();$.certificate=iP();var X=Q.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});$.RSAPrivateKey=X;var Z=Q.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});$.RSAPublicKey=Z;var Y=Q.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),V=Q.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(Y),this.key("subjectPublicKey").bitstr())});$.PublicKey=V;var G=Q.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(Y),this.key("subjectPrivateKey").octstr())});$.PrivateKey=G;var H=Q.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});$.EncryptedPrivateKey=H;var D=Q.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});$.DSAPrivateKey=D,$.DSAparam=Q.define("DSAparam",function(){this.int()});var A=Q.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),T=Q.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(A),this.key("publicKey").optional().explicit(1).bitstr())});$.ECPrivateKey=T,$.signature=Q.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})}),aP=m0(($,Q)=>{Q.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}}),tP=m0(($,Q)=>{var X=JX().Buffer,Z=BO().Transform,Y=CX();function V(A){Z.call(this),this._block=X.allocUnsafe(A),this._blockSize=A,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}Y(V,Z),V.prototype._transform=function(A,T,F){var M=null;try{this.update(A,T)}catch(I){M=I}F(M)},V.prototype._flush=function(A){var T=null;try{this.push(this.digest())}catch(F){T=F}A(T)};var G=typeof Uint8Array!=="undefined",H=typeof ArrayBuffer!=="undefined"&&typeof Uint8Array!=="undefined"&&ArrayBuffer.isView&&(X.prototype instanceof Uint8Array||X.TYPED_ARRAY_SUPPORT);function D(A,T){if(A instanceof X)return A;if(typeof A==="string")return X.from(A,T);if(H&&ArrayBuffer.isView(A)){if(A.byteLength===0)return X.alloc(0);var F=X.from(A.buffer,A.byteOffset,A.byteLength);if(F.byteLength===A.byteLength)return F}if(G&&A instanceof Uint8Array)return X.from(A);if(X.isBuffer(A)&&A.constructor&&typeof A.constructor.isBuffer==="function"&&A.constructor.isBuffer(A))return X.from(A);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}V.prototype.update=function(A,T){if(this._finalized)throw new Error("Digest already called");A=D(A,T);var F=this._block,M=0;while(this._blockOffset+A.length-M>=this._blockSize){for(var I=this._blockOffset;I<this._blockSize;)F[I++]=A[M++];this._update(),this._blockOffset=0}while(M<A.length)F[this._blockOffset++]=A[M++];for(var P=0,S=A.length*8;S>0;++P)if(this._length[P]+=S,S=this._length[P]/4294967296|0,S>0)this._length[P]-=4294967296*S;return this},V.prototype._update=function(){throw new Error("_update is not implemented")},V.prototype.digest=function(A){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var T=this._digest();if(A!==void 0)T=T.toString(A);this._block.fill(0),this._blockOffset=0;for(var F=0;F<4;++F)this._length[F]=0;return T},V.prototype._digest=function(){throw new Error("_digest is not implemented")},Q.exports=V}),eP=m0(($,Q)=>{var X=CX(),Z=tP(),Y=JX().Buffer,V=new Array(16);function G(){Z.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}X(G,Z),G.prototype._update=function(){var M=V;for(var I=0;I<16;++I)M[I]=this._block.readInt32LE(I*4);var P=this._a,S=this._b,j=this._c,N=this._d;P=D(P,S,j,N,M[0],3614090360,7),N=D(N,P,S,j,M[1],3905402710,12),j=D(j,N,P,S,M[2],606105819,17),S=D(S,j,N,P,M[3],3250441966,22),P=D(P,S,j,N,M[4],4118548399,7),N=D(N,P,S,j,M[5],1200080426,12),j=D(j,N,P,S,M[6],2821735955,17),S=D(S,j,N,P,M[7],4249261313,22),P=D(P,S,j,N,M[8],1770035416,7),N=D(N,P,S,j,M[9],2336552879,12),j=D(j,N,P,S,M[10],4294925233,17),S=D(S,j,N,P,M[11],2304563134,22),P=D(P,S,j,N,M[12],1804603682,7),N=D(N,P,S,j,M[13],4254626195,12),j=D(j,N,P,S,M[14],2792965006,17),S=D(S,j,N,P,M[15],1236535329,22),P=A(P,S,j,N,M[1],4129170786,5),N=A(N,P,S,j,M[6],3225465664,9),j=A(j,N,P,S,M[11],643717713,14),S=A(S,j,N,P,M[0],3921069994,20),P=A(P,S,j,N,M[5],3593408605,5),N=A(N,P,S,j,M[10],38016083,9),j=A(j,N,P,S,M[15],3634488961,14),S=A(S,j,N,P,M[4],3889429448,20),P=A(P,S,j,N,M[9],568446438,5),N=A(N,P,S,j,M[14],3275163606,9),j=A(j,N,P,S,M[3],4107603335,14),S=A(S,j,N,P,M[8],1163531501,20),P=A(P,S,j,N,M[13],2850285829,5),N=A(N,P,S,j,M[2],4243563512,9),j=A(j,N,P,S,M[7],1735328473,14),S=A(S,j,N,P,M[12],2368359562,20),P=T(P,S,j,N,M[5],4294588738,4),N=T(N,P,S,j,M[8],2272392833,11),j=T(j,N,P,S,M[11],1839030562,16),S=T(S,j,N,P,M[14],4259657740,23),P=T(P,S,j,N,M[1],2763975236,4),N=T(N,P,S,j,M[4],1272893353,11),j=T(j,N,P,S,M[7],4139469664,16),S=T(S,j,N,P,M[10],3200236656,23),P=T(P,S,j,N,M[13],681279174,4),N=T(N,P,S,j,M[0],3936430074,11),j=T(j,N,P,S,M[3],3572445317,16),S=T(S,j,N,P,M[6],76029189,23),P=T(P,S,j,N,M[9],3654602809,4),N=T(N,P,S,j,M[12],3873151461,11),j=T(j,N,P,S,M[15],530742520,16),S=T(S,j,N,P,M[2],3299628645,23),P=F(P,S,j,N,M[0],4096336452,6),N=F(N,P,S,j,M[7],1126891415,10),j=F(j,N,P,S,M[14],2878612391,15),S=F(S,j,N,P,M[5],4237533241,21),P=F(P,S,j,N,M[12],1700485571,6),N=F(N,P,S,j,M[3],2399980690,10),j=F(j,N,P,S,M[10],4293915773,15),S=F(S,j,N,P,M[1],2240044497,21),P=F(P,S,j,N,M[8],1873313359,6),N=F(N,P,S,j,M[15],4264355552,10),j=F(j,N,P,S,M[6],2734768916,15),S=F(S,j,N,P,M[13],1309151649,21),P=F(P,S,j,N,M[4],4149444226,6),N=F(N,P,S,j,M[11],3174756917,10),j=F(j,N,P,S,M[2],718787259,15),S=F(S,j,N,P,M[9],3951481745,21),this._a=this._a+P|0,this._b=this._b+S|0,this._c=this._c+j|0,this._d=this._d+N|0},G.prototype._digest=function(){if(this._block[this._blockOffset++]=128,this._blockOffset>56)this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0;this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var M=Y.allocUnsafe(16);return M.writeInt32LE(this._a,0),M.writeInt32LE(this._b,4),M.writeInt32LE(this._c,8),M.writeInt32LE(this._d,12),M};function H(M,I){return M<<I|M>>>32-I}function D(M,I,P,S,j,N,w){return H(M+(I&P|~I&S)+j+N|0,w)+I|0}function A(M,I,P,S,j,N,w){return H(M+(I&S|P&~S)+j+N|0,w)+I|0}function T(M,I,P,S,j,N,w){return H(M+(I^P^S)+j+N|0,w)+I|0}function F(M,I,P,S,j,N,w){return H(M+(P^(I|~S))+j+N|0,w)+I|0}Q.exports=G}),$S=m0(($,Q)=>{var X=JX().Buffer,Z=eP();function Y(V,G,H,D){if(!X.isBuffer(V))V=X.from(V,"binary");if(G){if(!X.isBuffer(G))G=X.from(G,"binary");if(G.length!==8)throw new RangeError("salt should be Buffer with 8 byte length")}var A=H/8,T=X.alloc(A),F=X.alloc(D||0),M=X.alloc(0);while(A>0||D>0){var I=new Z;if(I.update(M),I.update(V),G)I.update(G);M=I.digest();var P=0;if(A>0){var S=T.length-A;P=Math.min(A,M.length),M.copy(T,S,0,P),A-=P}if(P<M.length&&D>0){var j=F.length-D,N=Math.min(D,M.length-P);M.copy(F,j,P,P+N),D-=N}}return M.fill(0),{key:T,iv:F}}Q.exports=Y}),pD=m0(($)=>{var Q=(sQ(),$$(nQ));$.createCipher=$.Cipher=Q.createCipher,$.createCipheriv=$.Cipheriv=Q.createCipheriv,$.createDecipher=$.Decipher=Q.createDecipher,$.createDecipheriv=$.Decipheriv=Q.createDecipheriv,$.listCiphers=$.getCiphers=Q.getCiphers}),QS=m0(($,Q)=>{var X=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,Z=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,Y=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,V=$S(),G=pD(),H=JX().Buffer;Q.exports=function(D,A){var T=D.toString(),F=T.match(X),M;if(!F){var I=T.match(Y);M=H.from(I[2].replace(/[\r\n]/g,""),"base64")}else{var P="aes"+F[1],S=H.from(F[2],"hex"),j=H.from(F[3].replace(/[\r\n]/g,""),"base64"),N=V(A,S.slice(0,8),parseInt(F[1],10)).key,w=[],k=G.createDecipheriv(P,N,S);w.push(k.update(j)),w.push(k.final()),M=H.concat(w)}var f=T.match(Z)[1];return{tag:f,data:M}}}),cD=m0(($,Q)=>{var X=rP(),Z=aP(),Y=QS(),V=pD(),G=wD(),H=JX().Buffer;function D(T,F){var M=T.algorithm.decrypt.kde.kdeparams.salt,I=parseInt(T.algorithm.decrypt.kde.kdeparams.iters.toString(),10),P=Z[T.algorithm.decrypt.cipher.algo.join(".")],S=T.algorithm.decrypt.cipher.iv,j=T.subjectPrivateKey,N=parseInt(P.split("-")[1],10)/8,w=G.pbkdf2Sync(F,M,I,N,"sha1"),k=V.createDecipheriv(P,w,S),f=[];return f.push(k.update(j)),f.push(k.final()),H.concat(f)}function A(T){var F;if(typeof T==="object"&&!H.isBuffer(T))F=T.passphrase,T=T.key;if(typeof T==="string")T=H.from(T);var M=Y(T,F),I=M.tag,P=M.data,S,j;switch(I){case"CERTIFICATE":j=X.certificate.decode(P,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":if(!j)j=X.PublicKey.decode(P,"der");switch(S=j.algorithm.algorithm.join("."),S){case"1.2.840.113549.1.1.1":return X.RSAPublicKey.decode(j.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return j.subjectPrivateKey=j.subjectPublicKey,{type:"ec",data:j};case"1.2.840.10040.4.1":return j.algorithm.params.pub_key=X.DSAparam.decode(j.subjectPublicKey.data,"der"),{type:"dsa",data:j.algorithm.params};default:throw new Error("unknown key id "+S)}case"ENCRYPTED PRIVATE KEY":P=X.EncryptedPrivateKey.decode(P,"der"),P=D(P,F);case"PRIVATE KEY":switch(j=X.PrivateKey.decode(P,"der"),S=j.algorithm.algorithm.join("."),S){case"1.2.840.113549.1.1.1":return X.RSAPrivateKey.decode(j.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:j.algorithm.curve,privateKey:X.ECPrivateKey.decode(j.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return j.algorithm.params.priv_key=X.DSAparam.decode(j.subjectPrivateKey,"der"),{type:"dsa",params:j.algorithm.params};default:throw new Error("unknown key id "+S)}case"RSA PUBLIC KEY":return X.RSAPublicKey.decode(P,"der");case"RSA PRIVATE KEY":return X.RSAPrivateKey.decode(P,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:X.DSAPrivateKey.decode(P,"der")};case"EC PRIVATE KEY":return P=X.ECPrivateKey.decode(P,"der"),{curve:P.parameters.value,privateKey:P.privateKey};default:throw new Error("unknown key type "+I)}}A.signature=X.signature,Q.exports=A}),mD=m0(($,Q)=>{var X=DU(),Z=JX().Buffer;Q.exports=function(V,G){var H=Z.alloc(0),D=0,A;while(H.length<G)A=Y(D++),H=Z.concat([H,X("sha1").update(V).update(A).digest()]);return H.slice(0,G)};function Y(V){var G=Z.allocUnsafe(4);return G.writeUInt32BE(V,0),G}}),uD=m0(($,Q)=>{Q.exports=function X(Z,Y){var V=Z.length,G=-1;while(++G<V)Z[G]^=Y[G];return Z}}),fO=m0(($,Q)=>{(function(X,Z){function Y(E,J){if(!E)throw new Error(J||"Assertion failed")}function V(E,J){E.super_=J;var K=function(){};K.prototype=J.prototype,E.prototype=new K,E.prototype.constructor=E}function G(E,J,K){if(G.isBN(E))return E;if(this.negative=0,this.words=null,this.length=0,this.red=null,E!==null){if(J==="le"||J==="be")K=J,J=10;this._init(E||0,J||10,K||"be")}}if(typeof X==="object")X.exports=G;else Z.BN=G;G.BN=G,G.wordSize=26;var H;try{if(typeof window!=="undefined"&&typeof window.Buffer!=="undefined")H=window.Buffer;else H=(y$(),$$(g$)).Buffer}catch(E){}G.isBN=function E(J){if(J instanceof G)return!0;return J!==null&&typeof J==="object"&&J.constructor.wordSize===G.wordSize&&Array.isArray(J.words)},G.max=function E(J,K){if(J.cmp(K)>0)return J;return K},G.min=function E(J,K){if(J.cmp(K)<0)return J;return K},G.prototype._init=function E(J,K,O){if(typeof J==="number")return this._initNumber(J,K,O);if(typeof J==="object")return this._initArray(J,K,O);if(K==="hex")K=16;Y(K===(K|0)&&K>=2&&K<=36),J=J.toString().replace(/\s+/g,"");var U=0;if(J[0]==="-")U++,this.negative=1;if(U<J.length){if(K===16)this._parseHex(J,U,O);else if(this._parseBase(J,K,U),O==="le")this._initArray(this.toArray(),K,O)}},G.prototype._initNumber=function E(J,K,O){if(J<0)this.negative=1,J=-J;if(J<67108864)this.words=[J&67108863],this.length=1;else if(J<4503599627370496)this.words=[J&67108863,J/67108864&67108863],this.length=2;else Y(J<9007199254740992),this.words=[J&67108863,J/67108864&67108863,1],this.length=3;if(O!=="le")return;this._initArray(this.toArray(),K,O)},G.prototype._initArray=function E(J,K,O){if(Y(typeof J.length==="number"),J.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(J.length/3),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var z,C,R=0;if(O==="be"){for(U=J.length-1,z=0;U>=0;U-=3)if(C=J[U]|J[U-1]<<8|J[U-2]<<16,this.words[z]|=C<<R&67108863,this.words[z+1]=C>>>26-R&67108863,R+=24,R>=26)R-=26,z++}else if(O==="le"){for(U=0,z=0;U<J.length;U+=3)if(C=J[U]|J[U+1]<<8|J[U+2]<<16,this.words[z]|=C<<R&67108863,this.words[z+1]=C>>>26-R&67108863,R+=24,R>=26)R-=26,z++}return this.strip()};function D(E,J){var K=E.charCodeAt(J);if(K>=65&&K<=70)return K-55;else if(K>=97&&K<=102)return K-87;else return K-48&15}function A(E,J,K){var O=D(E,K);if(K-1>=J)O|=D(E,K-1)<<4;return O}G.prototype._parseHex=function E(J,K,O){this.length=Math.ceil((J.length-K)/6),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var z=0,C=0,R;if(O==="be")for(U=J.length-1;U>=K;U-=2)if(R=A(J,K,U)<<z,this.words[C]|=R&67108863,z>=18)z-=18,C+=1,this.words[C]|=R>>>26;else z+=8;else{var L=J.length-K;for(U=L%2===0?K+1:K;U<J.length;U+=2)if(R=A(J,K,U)<<z,this.words[C]|=R&67108863,z>=18)z-=18,C+=1,this.words[C]|=R>>>26;else z+=8}this.strip()};function T(E,J,K,O){var U=0,z=Math.min(E.length,K);for(var C=J;C<z;C++){var R=E.charCodeAt(C)-48;if(U*=O,R>=49)U+=R-49+10;else if(R>=17)U+=R-17+10;else U+=R}return U}G.prototype._parseBase=function E(J,K,O){this.words=[0],this.length=1;for(var U=0,z=1;z<=67108863;z*=K)U++;U--,z=z/K|0;var C=J.length-O,R=C%U,L=Math.min(C,C-R)+O,W=0;for(var q=O;q<L;q+=U)if(W=T(J,q,q+U,K),this.imuln(z),this.words[0]+W<67108864)this.words[0]+=W;else this._iaddn(W);if(R!==0){var _=1;W=T(J,q,J.length,K);for(q=0;q<R;q++)_*=K;if(this.imuln(_),this.words[0]+W<67108864)this.words[0]+=W;else this._iaddn(W)}this.strip()},G.prototype.copy=function E(J){J.words=new Array(this.length);for(var K=0;K<this.length;K++)J.words[K]=this.words[K];J.length=this.length,J.negative=this.negative,J.red=this.red},G.prototype.clone=function E(){var J=new G(null);return this.copy(J),J},G.prototype._expand=function E(J){while(this.length<J)this.words[this.length++]=0;return this},G.prototype.strip=function E(){while(this.length>1&&this.words[this.length-1]===0)this.length--;return this._normSign()},G.prototype._normSign=function E(){if(this.length===1&&this.words[0]===0)this.negative=0;return this},G.prototype.inspect=function E(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var F=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],M=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],I=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];if(G.prototype.toString=function E(J,K){J=J||10,K=K|0||1;var O;if(J===16||J==="hex"){O="";var U=0,z=0;for(var C=0;C<this.length;C++){var R=this.words[C],L=((R<<U|z)&16777215).toString(16);if(z=R>>>24-U&16777215,U+=2,U>=26)U-=26,C--;if(z!==0||C!==this.length-1)O=F[6-L.length]+L+O;else O=L+O}if(z!==0)O=z.toString(16)+O;while(O.length%K!==0)O="0"+O;if(this.negative!==0)O="-"+O;return O}if(J===(J|0)&&J>=2&&J<=36){var W=M[J],q=I[J];O="";var _=this.clone();_.negative=0;while(!_.isZero()){var B=_.modn(q).toString(J);if(_=_.idivn(q),!_.isZero())O=F[W-B.length]+B+O;else O=B+O}if(this.isZero())O="0"+O;while(O.length%K!==0)O="0"+O;if(this.negative!==0)O="-"+O;return O}Y(!1,"Base should be between 2 and 36")},G.prototype.toNumber=function E(){var J=this.words[0];if(this.length===2)J+=this.words[1]*67108864;else if(this.length===3&&this.words[2]===1)J+=4503599627370496+this.words[1]*67108864;else if(this.length>2)Y(!1,"Number can only safely store up to 53 bits");return this.negative!==0?-J:J},G.prototype.toJSON=function E(){return this.toString(16)},G.prototype.toBuffer=function E(J,K){return Y(typeof H!=="undefined"),this.toArrayLike(H,J,K)},G.prototype.toArray=function E(J,K){return this.toArrayLike(Array,J,K)},G.prototype.toArrayLike=function E(J,K,O){var U=this.byteLength(),z=O||Math.max(1,U);Y(U<=z,"byte array longer than desired length"),Y(z>0,"Requested array length <= 0"),this.strip();var C=K==="le",R=new J(z),L,W,q=this.clone();if(!C){for(W=0;W<z-U;W++)R[W]=0;for(W=0;!q.isZero();W++)L=q.andln(255),q.iushrn(8),R[z-W-1]=L}else{for(W=0;!q.isZero();W++)L=q.andln(255),q.iushrn(8),R[W]=L;for(;W<z;W++)R[W]=0}return R},Math.clz32)G.prototype._countBits=function E(J){return 32-Math.clz32(J)};else G.prototype._countBits=function E(J){var K=J,O=0;if(K>=4096)O+=13,K>>>=13;if(K>=64)O+=7,K>>>=7;if(K>=8)O+=4,K>>>=4;if(K>=2)O+=2,K>>>=2;return O+K};G.prototype._zeroBits=function E(J){if(J===0)return 26;var K=J,O=0;if((K&8191)===0)O+=13,K>>>=13;if((K&127)===0)O+=7,K>>>=7;if((K&15)===0)O+=4,K>>>=4;if((K&3)===0)O+=2,K>>>=2;if((K&1)===0)O++;return O},G.prototype.bitLength=function E(){var J=this.words[this.length-1],K=this._countBits(J);return(this.length-1)*26+K};function P(E){var J=new Array(E.bitLength());for(var K=0;K<J.length;K++){var O=K/26|0,U=K%26;J[K]=(E.words[O]&1<<U)>>>U}return J}G.prototype.zeroBits=function E(){if(this.isZero())return 0;var J=0;for(var K=0;K<this.length;K++){var O=this._zeroBits(this.words[K]);if(J+=O,O!==26)break}return J},G.prototype.byteLength=function E(){return Math.ceil(this.bitLength()/8)},G.prototype.toTwos=function E(J){if(this.negative!==0)return this.abs().inotn(J).iaddn(1);return this.clone()},G.prototype.fromTwos=function E(J){if(this.testn(J-1))return this.notn(J).iaddn(1).ineg();return this.clone()},G.prototype.isNeg=function E(){return this.negative!==0},G.prototype.neg=function E(){return this.clone().ineg()},G.prototype.ineg=function E(){if(!this.isZero())this.negative^=1;return this},G.prototype.iuor=function E(J){while(this.length<J.length)this.words[this.length++]=0;for(var K=0;K<J.length;K++)this.words[K]=this.words[K]|J.words[K];return this.strip()},G.prototype.ior=function E(J){return Y((this.negative|J.negative)===0),this.iuor(J)},G.prototype.or=function E(J){if(this.length>J.length)return this.clone().ior(J);return J.clone().ior(this)},G.prototype.uor=function E(J){if(this.length>J.length)return this.clone().iuor(J);return J.clone().iuor(this)},G.prototype.iuand=function E(J){var K;if(this.length>J.length)K=J;else K=this;for(var O=0;O<K.length;O++)this.words[O]=this.words[O]&J.words[O];return this.length=K.length,this.strip()},G.prototype.iand=function E(J){return Y((this.negative|J.negative)===0),this.iuand(J)},G.prototype.and=function E(J){if(this.length>J.length)return this.clone().iand(J);return J.clone().iand(this)},G.prototype.uand=function E(J){if(this.length>J.length)return this.clone().iuand(J);return J.clone().iuand(this)},G.prototype.iuxor=function E(J){var K,O;if(this.length>J.length)K=this,O=J;else K=J,O=this;for(var U=0;U<O.length;U++)this.words[U]=K.words[U]^O.words[U];if(this!==K)for(;U<K.length;U++)this.words[U]=K.words[U];return this.length=K.length,this.strip()},G.prototype.ixor=function E(J){return Y((this.negative|J.negative)===0),this.iuxor(J)},G.prototype.xor=function E(J){if(this.length>J.length)return this.clone().ixor(J);return J.clone().ixor(this)},G.prototype.uxor=function E(J){if(this.length>J.length)return this.clone().iuxor(J);return J.clone().iuxor(this)},G.prototype.inotn=function E(J){Y(typeof J==="number"&&J>=0);var K=Math.ceil(J/26)|0,O=J%26;if(this._expand(K),O>0)K--;for(var U=0;U<K;U++)this.words[U]=~this.words[U]&67108863;if(O>0)this.words[U]=~this.words[U]&67108863>>26-O;return this.strip()},G.prototype.notn=function E(J){return this.clone().inotn(J)},G.prototype.setn=function E(J,K){Y(typeof J==="number"&&J>=0);var O=J/26|0,U=J%26;if(this._expand(O+1),K)this.words[O]=this.words[O]|1<<U;else this.words[O]=this.words[O]&~(1<<U);return this.strip()},G.prototype.iadd=function E(J){var K;if(this.negative!==0&&J.negative===0)return this.negative=0,K=this.isub(J),this.negative^=1,this._normSign();else if(this.negative===0&&J.negative!==0)return J.negative=0,K=this.isub(J),J.negative=1,K._normSign();var O,U;if(this.length>J.length)O=this,U=J;else O=J,U=this;var z=0;for(var C=0;C<U.length;C++)K=(O.words[C]|0)+(U.words[C]|0)+z,this.words[C]=K&67108863,z=K>>>26;for(;z!==0&&C<O.length;C++)K=(O.words[C]|0)+z,this.words[C]=K&67108863,z=K>>>26;if(this.length=O.length,z!==0)this.words[this.length]=z,this.length++;else if(O!==this)for(;C<O.length;C++)this.words[C]=O.words[C];return this},G.prototype.add=function E(J){var K;if(J.negative!==0&&this.negative===0)return J.negative=0,K=this.sub(J),J.negative^=1,K;else if(J.negative===0&&this.negative!==0)return this.negative=0,K=J.sub(this),this.negative=1,K;if(this.length>J.length)return this.clone().iadd(J);return J.clone().iadd(this)},G.prototype.isub=function E(J){if(J.negative!==0){J.negative=0;var K=this.iadd(J);return J.negative=1,K._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(J),this.negative=1,this._normSign();var O=this.cmp(J);if(O===0)return this.negative=0,this.length=1,this.words[0]=0,this;var U,z;if(O>0)U=this,z=J;else U=J,z=this;var C=0;for(var R=0;R<z.length;R++)K=(U.words[R]|0)-(z.words[R]|0)+C,C=K>>26,this.words[R]=K&67108863;for(;C!==0&&R<U.length;R++)K=(U.words[R]|0)+C,C=K>>26,this.words[R]=K&67108863;if(C===0&&R<U.length&&U!==this)for(;R<U.length;R++)this.words[R]=U.words[R];if(this.length=Math.max(this.length,R),U!==this)this.negative=1;return this.strip()},G.prototype.sub=function E(J){return this.clone().isub(J)};function S(E,J,K){K.negative=J.negative^E.negative;var O=E.length+J.length|0;K.length=O,O=O-1|0;var U=E.words[0]|0,z=J.words[0]|0,C=U*z,R=C&67108863,L=C/67108864|0;K.words[0]=R;for(var W=1;W<O;W++){var q=L>>>26,_=L&67108863,B=Math.min(W,J.length-1);for(var x=Math.max(0,W-E.length+1);x<=B;x++){var b=W-x|0;U=E.words[b]|0,z=J.words[x]|0,C=U*z+_,q+=C/67108864|0,_=C&67108863}K.words[W]=_|0,L=q|0}if(L!==0)K.words[W]=L|0;else K.length--;return K.strip()}var j=function E(J,K,O){var U=J.words,z=K.words,C=O.words,R=0,L,W,q,_=U[0]|0,B=_&8191,x=_>>>13,b=U[1]|0,l=b&8191,r=b>>>13,z0=U[2]|0,d=z0&8191,o=z0>>>13,R0=U[3]|0,G0=R0&8191,W0=R0>>>13,a=U[4]|0,m=a&8191,n=a>>>13,b0=U[5]|0,Q0=b0&8191,$0=b0>>>13,t=U[6]|0,i=t&8191,Y0=t>>>13,C0=U[7]|0,U0=C0&8191,D0=C0>>>13,a0=U[8]|0,H0=a0&8191,T0=a0>>>13,C$=U[9]|0,q0=C$&8191,I0=C$>>>13,p$=z[0]|0,F0=p$&8191,f0=p$>>>13,CQ=z[1]|0,v0=CQ&8191,g0=CQ>>>13,_Q=z[2]|0,w0=_Q&8191,_0=_Q>>>13,xQ=z[3]|0,x0=xQ&8191,S0=xQ>>>13,kQ=z[4]|0,y0=kQ&8191,B0=kQ>>>13,TQ=z[5]|0,g=TQ&8191,y=TQ>>>13,p0=z[6]|0,X0=p0&8191,V0=p0>>>13,T$=z[7]|0,A0=T$&8191,E0=T$>>>13,FQ=z[8]|0,h0=FQ&8191,k0=FQ>>>13,RQ=z[9]|0,j0=RQ&8191,N0=RQ>>>13;O.negative=J.negative^K.negative,O.length=19,L=Math.imul(B,F0),W=Math.imul(B,f0),W=W+Math.imul(x,F0)|0,q=Math.imul(x,f0);var v$=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(v$>>>26)|0,v$&=67108863,L=Math.imul(l,F0),W=Math.imul(l,f0),W=W+Math.imul(r,F0)|0,q=Math.imul(r,f0),L=L+Math.imul(B,v0)|0,W=W+Math.imul(B,g0)|0,W=W+Math.imul(x,v0)|0,q=q+Math.imul(x,g0)|0;var t0=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(t0>>>26)|0,t0&=67108863,L=Math.imul(d,F0),W=Math.imul(d,f0),W=W+Math.imul(o,F0)|0,q=Math.imul(o,f0),L=L+Math.imul(l,v0)|0,W=W+Math.imul(l,g0)|0,W=W+Math.imul(r,v0)|0,q=q+Math.imul(r,g0)|0,L=L+Math.imul(B,w0)|0,W=W+Math.imul(B,_0)|0,W=W+Math.imul(x,w0)|0,q=q+Math.imul(x,_0)|0;var r0=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(r0>>>26)|0,r0&=67108863,L=Math.imul(G0,F0),W=Math.imul(G0,f0),W=W+Math.imul(W0,F0)|0,q=Math.imul(W0,f0),L=L+Math.imul(d,v0)|0,W=W+Math.imul(d,g0)|0,W=W+Math.imul(o,v0)|0,q=q+Math.imul(o,g0)|0,L=L+Math.imul(l,w0)|0,W=W+Math.imul(l,_0)|0,W=W+Math.imul(r,w0)|0,q=q+Math.imul(r,_0)|0,L=L+Math.imul(B,x0)|0,W=W+Math.imul(B,S0)|0,W=W+Math.imul(x,x0)|0,q=q+Math.imul(x,S0)|0;var I$=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(I$>>>26)|0,I$&=67108863,L=Math.imul(m,F0),W=Math.imul(m,f0),W=W+Math.imul(n,F0)|0,q=Math.imul(n,f0),L=L+Math.imul(G0,v0)|0,W=W+Math.imul(G0,g0)|0,W=W+Math.imul(W0,v0)|0,q=q+Math.imul(W0,g0)|0,L=L+Math.imul(d,w0)|0,W=W+Math.imul(d,_0)|0,W=W+Math.imul(o,w0)|0,q=q+Math.imul(o,_0)|0,L=L+Math.imul(l,x0)|0,W=W+Math.imul(l,S0)|0,W=W+Math.imul(r,x0)|0,q=q+Math.imul(r,S0)|0,L=L+Math.imul(B,y0)|0,W=W+Math.imul(B,B0)|0,W=W+Math.imul(x,y0)|0,q=q+Math.imul(x,B0)|0;var i$=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(i$>>>26)|0,i$&=67108863,L=Math.imul(Q0,F0),W=Math.imul(Q0,f0),W=W+Math.imul($0,F0)|0,q=Math.imul($0,f0),L=L+Math.imul(m,v0)|0,W=W+Math.imul(m,g0)|0,W=W+Math.imul(n,v0)|0,q=q+Math.imul(n,g0)|0,L=L+Math.imul(G0,w0)|0,W=W+Math.imul(G0,_0)|0,W=W+Math.imul(W0,w0)|0,q=q+Math.imul(W0,_0)|0,L=L+Math.imul(d,x0)|0,W=W+Math.imul(d,S0)|0,W=W+Math.imul(o,x0)|0,q=q+Math.imul(o,S0)|0,L=L+Math.imul(l,y0)|0,W=W+Math.imul(l,B0)|0,W=W+Math.imul(r,y0)|0,q=q+Math.imul(r,B0)|0,L=L+Math.imul(B,g)|0,W=W+Math.imul(B,y)|0,W=W+Math.imul(x,g)|0,q=q+Math.imul(x,y)|0;var r$=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(r$>>>26)|0,r$&=67108863,L=Math.imul(i,F0),W=Math.imul(i,f0),W=W+Math.imul(Y0,F0)|0,q=Math.imul(Y0,f0),L=L+Math.imul(Q0,v0)|0,W=W+Math.imul(Q0,g0)|0,W=W+Math.imul($0,v0)|0,q=q+Math.imul($0,g0)|0,L=L+Math.imul(m,w0)|0,W=W+Math.imul(m,_0)|0,W=W+Math.imul(n,w0)|0,q=q+Math.imul(n,_0)|0,L=L+Math.imul(G0,x0)|0,W=W+Math.imul(G0,S0)|0,W=W+Math.imul(W0,x0)|0,q=q+Math.imul(W0,S0)|0,L=L+Math.imul(d,y0)|0,W=W+Math.imul(d,B0)|0,W=W+Math.imul(o,y0)|0,q=q+Math.imul(o,B0)|0,L=L+Math.imul(l,g)|0,W=W+Math.imul(l,y)|0,W=W+Math.imul(r,g)|0,q=q+Math.imul(r,y)|0,L=L+Math.imul(B,X0)|0,W=W+Math.imul(B,V0)|0,W=W+Math.imul(x,X0)|0,q=q+Math.imul(x,V0)|0;var a$=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(a$>>>26)|0,a$&=67108863,L=Math.imul(U0,F0),W=Math.imul(U0,f0),W=W+Math.imul(D0,F0)|0,q=Math.imul(D0,f0),L=L+Math.imul(i,v0)|0,W=W+Math.imul(i,g0)|0,W=W+Math.imul(Y0,v0)|0,q=q+Math.imul(Y0,g0)|0,L=L+Math.imul(Q0,w0)|0,W=W+Math.imul(Q0,_0)|0,W=W+Math.imul($0,w0)|0,q=q+Math.imul($0,_0)|0,L=L+Math.imul(m,x0)|0,W=W+Math.imul(m,S0)|0,W=W+Math.imul(n,x0)|0,q=q+Math.imul(n,S0)|0,L=L+Math.imul(G0,y0)|0,W=W+Math.imul(G0,B0)|0,W=W+Math.imul(W0,y0)|0,q=q+Math.imul(W0,B0)|0,L=L+Math.imul(d,g)|0,W=W+Math.imul(d,y)|0,W=W+Math.imul(o,g)|0,q=q+Math.imul(o,y)|0,L=L+Math.imul(l,X0)|0,W=W+Math.imul(l,V0)|0,W=W+Math.imul(r,X0)|0,q=q+Math.imul(r,V0)|0,L=L+Math.imul(B,A0)|0,W=W+Math.imul(B,E0)|0,W=W+Math.imul(x,A0)|0,q=q+Math.imul(x,E0)|0;var t$=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(t$>>>26)|0,t$&=67108863,L=Math.imul(H0,F0),W=Math.imul(H0,f0),W=W+Math.imul(T0,F0)|0,q=Math.imul(T0,f0),L=L+Math.imul(U0,v0)|0,W=W+Math.imul(U0,g0)|0,W=W+Math.imul(D0,v0)|0,q=q+Math.imul(D0,g0)|0,L=L+Math.imul(i,w0)|0,W=W+Math.imul(i,_0)|0,W=W+Math.imul(Y0,w0)|0,q=q+Math.imul(Y0,_0)|0,L=L+Math.imul(Q0,x0)|0,W=W+Math.imul(Q0,S0)|0,W=W+Math.imul($0,x0)|0,q=q+Math.imul($0,S0)|0,L=L+Math.imul(m,y0)|0,W=W+Math.imul(m,B0)|0,W=W+Math.imul(n,y0)|0,q=q+Math.imul(n,B0)|0,L=L+Math.imul(G0,g)|0,W=W+Math.imul(G0,y)|0,W=W+Math.imul(W0,g)|0,q=q+Math.imul(W0,y)|0,L=L+Math.imul(d,X0)|0,W=W+Math.imul(d,V0)|0,W=W+Math.imul(o,X0)|0,q=q+Math.imul(o,V0)|0,L=L+Math.imul(l,A0)|0,W=W+Math.imul(l,E0)|0,W=W+Math.imul(r,A0)|0,q=q+Math.imul(r,E0)|0,L=L+Math.imul(B,h0)|0,W=W+Math.imul(B,k0)|0,W=W+Math.imul(x,h0)|0,q=q+Math.imul(x,k0)|0;var e$=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(e$>>>26)|0,e$&=67108863,L=Math.imul(q0,F0),W=Math.imul(q0,f0),W=W+Math.imul(I0,F0)|0,q=Math.imul(I0,f0),L=L+Math.imul(H0,v0)|0,W=W+Math.imul(H0,g0)|0,W=W+Math.imul(T0,v0)|0,q=q+Math.imul(T0,g0)|0,L=L+Math.imul(U0,w0)|0,W=W+Math.imul(U0,_0)|0,W=W+Math.imul(D0,w0)|0,q=q+Math.imul(D0,_0)|0,L=L+Math.imul(i,x0)|0,W=W+Math.imul(i,S0)|0,W=W+Math.imul(Y0,x0)|0,q=q+Math.imul(Y0,S0)|0,L=L+Math.imul(Q0,y0)|0,W=W+Math.imul(Q0,B0)|0,W=W+Math.imul($0,y0)|0,q=q+Math.imul($0,B0)|0,L=L+Math.imul(m,g)|0,W=W+Math.imul(m,y)|0,W=W+Math.imul(n,g)|0,q=q+Math.imul(n,y)|0,L=L+Math.imul(G0,X0)|0,W=W+Math.imul(G0,V0)|0,W=W+Math.imul(W0,X0)|0,q=q+Math.imul(W0,V0)|0,L=L+Math.imul(d,A0)|0,W=W+Math.imul(d,E0)|0,W=W+Math.imul(o,A0)|0,q=q+Math.imul(o,E0)|0,L=L+Math.imul(l,h0)|0,W=W+Math.imul(l,k0)|0,W=W+Math.imul(r,h0)|0,q=q+Math.imul(r,k0)|0,L=L+Math.imul(B,j0)|0,W=W+Math.imul(B,N0)|0,W=W+Math.imul(x,j0)|0,q=q+Math.imul(x,N0)|0;var $Q=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+($Q>>>26)|0,$Q&=67108863,L=Math.imul(q0,v0),W=Math.imul(q0,g0),W=W+Math.imul(I0,v0)|0,q=Math.imul(I0,g0),L=L+Math.imul(H0,w0)|0,W=W+Math.imul(H0,_0)|0,W=W+Math.imul(T0,w0)|0,q=q+Math.imul(T0,_0)|0,L=L+Math.imul(U0,x0)|0,W=W+Math.imul(U0,S0)|0,W=W+Math.imul(D0,x0)|0,q=q+Math.imul(D0,S0)|0,L=L+Math.imul(i,y0)|0,W=W+Math.imul(i,B0)|0,W=W+Math.imul(Y0,y0)|0,q=q+Math.imul(Y0,B0)|0,L=L+Math.imul(Q0,g)|0,W=W+Math.imul(Q0,y)|0,W=W+Math.imul($0,g)|0,q=q+Math.imul($0,y)|0,L=L+Math.imul(m,X0)|0,W=W+Math.imul(m,V0)|0,W=W+Math.imul(n,X0)|0,q=q+Math.imul(n,V0)|0,L=L+Math.imul(G0,A0)|0,W=W+Math.imul(G0,E0)|0,W=W+Math.imul(W0,A0)|0,q=q+Math.imul(W0,E0)|0,L=L+Math.imul(d,h0)|0,W=W+Math.imul(d,k0)|0,W=W+Math.imul(o,h0)|0,q=q+Math.imul(o,k0)|0,L=L+Math.imul(l,j0)|0,W=W+Math.imul(l,N0)|0,W=W+Math.imul(r,j0)|0,q=q+Math.imul(r,N0)|0;var QQ=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(QQ>>>26)|0,QQ&=67108863,L=Math.imul(q0,w0),W=Math.imul(q0,_0),W=W+Math.imul(I0,w0)|0,q=Math.imul(I0,_0),L=L+Math.imul(H0,x0)|0,W=W+Math.imul(H0,S0)|0,W=W+Math.imul(T0,x0)|0,q=q+Math.imul(T0,S0)|0,L=L+Math.imul(U0,y0)|0,W=W+Math.imul(U0,B0)|0,W=W+Math.imul(D0,y0)|0,q=q+Math.imul(D0,B0)|0,L=L+Math.imul(i,g)|0,W=W+Math.imul(i,y)|0,W=W+Math.imul(Y0,g)|0,q=q+Math.imul(Y0,y)|0,L=L+Math.imul(Q0,X0)|0,W=W+Math.imul(Q0,V0)|0,W=W+Math.imul($0,X0)|0,q=q+Math.imul($0,V0)|0,L=L+Math.imul(m,A0)|0,W=W+Math.imul(m,E0)|0,W=W+Math.imul(n,A0)|0,q=q+Math.imul(n,E0)|0,L=L+Math.imul(G0,h0)|0,W=W+Math.imul(G0,k0)|0,W=W+Math.imul(W0,h0)|0,q=q+Math.imul(W0,k0)|0,L=L+Math.imul(d,j0)|0,W=W+Math.imul(d,N0)|0,W=W+Math.imul(o,j0)|0,q=q+Math.imul(o,N0)|0;var XQ=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(XQ>>>26)|0,XQ&=67108863,L=Math.imul(q0,x0),W=Math.imul(q0,S0),W=W+Math.imul(I0,x0)|0,q=Math.imul(I0,S0),L=L+Math.imul(H0,y0)|0,W=W+Math.imul(H0,B0)|0,W=W+Math.imul(T0,y0)|0,q=q+Math.imul(T0,B0)|0,L=L+Math.imul(U0,g)|0,W=W+Math.imul(U0,y)|0,W=W+Math.imul(D0,g)|0,q=q+Math.imul(D0,y)|0,L=L+Math.imul(i,X0)|0,W=W+Math.imul(i,V0)|0,W=W+Math.imul(Y0,X0)|0,q=q+Math.imul(Y0,V0)|0,L=L+Math.imul(Q0,A0)|0,W=W+Math.imul(Q0,E0)|0,W=W+Math.imul($0,A0)|0,q=q+Math.imul($0,E0)|0,L=L+Math.imul(m,h0)|0,W=W+Math.imul(m,k0)|0,W=W+Math.imul(n,h0)|0,q=q+Math.imul(n,k0)|0,L=L+Math.imul(G0,j0)|0,W=W+Math.imul(G0,N0)|0,W=W+Math.imul(W0,j0)|0,q=q+Math.imul(W0,N0)|0;var ZQ=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(ZQ>>>26)|0,ZQ&=67108863,L=Math.imul(q0,y0),W=Math.imul(q0,B0),W=W+Math.imul(I0,y0)|0,q=Math.imul(I0,B0),L=L+Math.imul(H0,g)|0,W=W+Math.imul(H0,y)|0,W=W+Math.imul(T0,g)|0,q=q+Math.imul(T0,y)|0,L=L+Math.imul(U0,X0)|0,W=W+Math.imul(U0,V0)|0,W=W+Math.imul(D0,X0)|0,q=q+Math.imul(D0,V0)|0,L=L+Math.imul(i,A0)|0,W=W+Math.imul(i,E0)|0,W=W+Math.imul(Y0,A0)|0,q=q+Math.imul(Y0,E0)|0,L=L+Math.imul(Q0,h0)|0,W=W+Math.imul(Q0,k0)|0,W=W+Math.imul($0,h0)|0,q=q+Math.imul($0,k0)|0,L=L+Math.imul(m,j0)|0,W=W+Math.imul(m,N0)|0,W=W+Math.imul(n,j0)|0,q=q+Math.imul(n,N0)|0;var YQ=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(YQ>>>26)|0,YQ&=67108863,L=Math.imul(q0,g),W=Math.imul(q0,y),W=W+Math.imul(I0,g)|0,q=Math.imul(I0,y),L=L+Math.imul(H0,X0)|0,W=W+Math.imul(H0,V0)|0,W=W+Math.imul(T0,X0)|0,q=q+Math.imul(T0,V0)|0,L=L+Math.imul(U0,A0)|0,W=W+Math.imul(U0,E0)|0,W=W+Math.imul(D0,A0)|0,q=q+Math.imul(D0,E0)|0,L=L+Math.imul(i,h0)|0,W=W+Math.imul(i,k0)|0,W=W+Math.imul(Y0,h0)|0,q=q+Math.imul(Y0,k0)|0,L=L+Math.imul(Q0,j0)|0,W=W+Math.imul(Q0,N0)|0,W=W+Math.imul($0,j0)|0,q=q+Math.imul($0,N0)|0;var JQ=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(JQ>>>26)|0,JQ&=67108863,L=Math.imul(q0,X0),W=Math.imul(q0,V0),W=W+Math.imul(I0,X0)|0,q=Math.imul(I0,V0),L=L+Math.imul(H0,A0)|0,W=W+Math.imul(H0,E0)|0,W=W+Math.imul(T0,A0)|0,q=q+Math.imul(T0,E0)|0,L=L+Math.imul(U0,h0)|0,W=W+Math.imul(U0,k0)|0,W=W+Math.imul(D0,h0)|0,q=q+Math.imul(D0,k0)|0,L=L+Math.imul(i,j0)|0,W=W+Math.imul(i,N0)|0,W=W+Math.imul(Y0,j0)|0,q=q+Math.imul(Y0,N0)|0;var GQ=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(GQ>>>26)|0,GQ&=67108863,L=Math.imul(q0,A0),W=Math.imul(q0,E0),W=W+Math.imul(I0,A0)|0,q=Math.imul(I0,E0),L=L+Math.imul(H0,h0)|0,W=W+Math.imul(H0,k0)|0,W=W+Math.imul(T0,h0)|0,q=q+Math.imul(T0,k0)|0,L=L+Math.imul(U0,j0)|0,W=W+Math.imul(U0,N0)|0,W=W+Math.imul(D0,j0)|0,q=q+Math.imul(D0,N0)|0;var WQ=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(WQ>>>26)|0,WQ&=67108863,L=Math.imul(q0,h0),W=Math.imul(q0,k0),W=W+Math.imul(I0,h0)|0,q=Math.imul(I0,k0),L=L+Math.imul(H0,j0)|0,W=W+Math.imul(H0,N0)|0,W=W+Math.imul(T0,j0)|0,q=q+Math.imul(T0,N0)|0;var VQ=(R+L|0)+((W&8191)<<13)|0;R=(q+(W>>>13)|0)+(VQ>>>26)|0,VQ&=67108863,L=Math.imul(q0,j0),W=Math.imul(q0,N0),W=W+Math.imul(I0,j0)|0,q=Math.imul(I0,N0);var UQ=(R+L|0)+((W&8191)<<13)|0;if(R=(q+(W>>>13)|0)+(UQ>>>26)|0,UQ&=67108863,C[0]=v$,C[1]=t0,C[2]=r0,C[3]=I$,C[4]=i$,C[5]=r$,C[6]=a$,C[7]=t$,C[8]=e$,C[9]=$Q,C[10]=QQ,C[11]=XQ,C[12]=ZQ,C[13]=YQ,C[14]=JQ,C[15]=GQ,C[16]=WQ,C[17]=VQ,C[18]=UQ,R!==0)C[19]=R,O.length++;return O};if(!Math.imul)j=S;function N(E,J,K){K.negative=J.negative^E.negative,K.length=E.length+J.length;var O=0,U=0;for(var z=0;z<K.length-1;z++){var C=U;U=0;var R=O&67108863,L=Math.min(z,J.length-1);for(var W=Math.max(0,z-E.length+1);W<=L;W++){var q=z-W,_=E.words[q]|0,B=J.words[W]|0,x=_*B,b=x&67108863;C=C+(x/67108864|0)|0,b=b+R|0,R=b&67108863,C=C+(b>>>26)|0,U+=C>>>26,C&=67108863}K.words[z]=R,O=C,C=U}if(O!==0)K.words[z]=O;else K.length--;return K.strip()}function w(E,J,K){var O=new k;return O.mulp(E,J,K)}G.prototype.mulTo=function E(J,K){var O,U=this.length+J.length;if(this.length===10&&J.length===10)O=j(this,J,K);else if(U<63)O=S(this,J,K);else if(U<1024)O=N(this,J,K);else O=w(this,J,K);return O};function k(E,J){this.x=E,this.y=J}k.prototype.makeRBT=function E(J){var K=new Array(J),O=G.prototype._countBits(J)-1;for(var U=0;U<J;U++)K[U]=this.revBin(U,O,J);return K},k.prototype.revBin=function E(J,K,O){if(J===0||J===O-1)return J;var U=0;for(var z=0;z<K;z++)U|=(J&1)<<K-z-1,J>>=1;return U},k.prototype.permute=function E(J,K,O,U,z,C){for(var R=0;R<C;R++)U[R]=K[J[R]],z[R]=O[J[R]]},k.prototype.transform=function E(J,K,O,U,z,C){this.permute(C,J,K,O,U,z);for(var R=1;R<z;R<<=1){var L=R<<1,W=Math.cos(2*Math.PI/L),q=Math.sin(2*Math.PI/L);for(var _=0;_<z;_+=L){var B=W,x=q;for(var b=0;b<R;b++){var l=O[_+b],r=U[_+b],z0=O[_+b+R],d=U[_+b+R],o=B*z0-x*d;if(d=B*d+x*z0,z0=o,O[_+b]=l+z0,U[_+b]=r+d,O[_+b+R]=l-z0,U[_+b+R]=r-d,b!==L)o=W*B-q*x,x=W*x+q*B,B=o}}}},k.prototype.guessLen13b=function E(J,K){var O=Math.max(K,J)|1,U=O&1,z=0;for(O=O/2|0;O;O=O>>>1)z++;return 1<<z+1+U},k.prototype.conjugate=function E(J,K,O){if(O<=1)return;for(var U=0;U<O/2;U++){var z=J[U];J[U]=J[O-U-1],J[O-U-1]=z,z=K[U],K[U]=-K[O-U-1],K[O-U-1]=-z}},k.prototype.normalize13b=function E(J,K){var O=0;for(var U=0;U<K/2;U++){var z=Math.round(J[2*U+1]/K)*8192+Math.round(J[2*U]/K)+O;if(J[U]=z&67108863,z<67108864)O=0;else O=z/67108864|0}return J},k.prototype.convert13b=function E(J,K,O,U){var z=0;for(var C=0;C<K;C++)z=z+(J[C]|0),O[2*C]=z&8191,z=z>>>13,O[2*C+1]=z&8191,z=z>>>13;for(C=2*K;C<U;++C)O[C]=0;Y(z===0),Y((z&-8192)===0)},k.prototype.stub=function E(J){var K=new Array(J);for(var O=0;O<J;O++)K[O]=0;return K},k.prototype.mulp=function E(J,K,O){var U=2*this.guessLen13b(J.length,K.length),z=this.makeRBT(U),C=this.stub(U),R=new Array(U),L=new Array(U),W=new Array(U),q=new Array(U),_=new Array(U),B=new Array(U),x=O.words;x.length=U,this.convert13b(J.words,J.length,R,U),this.convert13b(K.words,K.length,q,U),this.transform(R,C,L,W,U,z),this.transform(q,C,_,B,U,z);for(var b=0;b<U;b++){var l=L[b]*_[b]-W[b]*B[b];W[b]=L[b]*B[b]+W[b]*_[b],L[b]=l}return this.conjugate(L,W,U),this.transform(L,W,x,C,U,z),this.conjugate(x,C,U),this.normalize13b(x,U),O.negative=J.negative^K.negative,O.length=J.length+K.length,O.strip()},G.prototype.mul=function E(J){var K=new G(null);return K.words=new Array(this.length+J.length),this.mulTo(J,K)},G.prototype.mulf=function E(J){var K=new G(null);return K.words=new Array(this.length+J.length),w(this,J,K)},G.prototype.imul=function E(J){return this.clone().mulTo(J,this)},G.prototype.imuln=function E(J){Y(typeof J==="number"),Y(J<67108864);var K=0;for(var O=0;O<this.length;O++){var U=(this.words[O]|0)*J,z=(U&67108863)+(K&67108863);K>>=26,K+=U/67108864|0,K+=z>>>26,this.words[O]=z&67108863}if(K!==0)this.words[O]=K,this.length++;return this.length=J===0?1:this.length,this},G.prototype.muln=function E(J){return this.clone().imuln(J)},G.prototype.sqr=function E(){return this.mul(this)},G.prototype.isqr=function E(){return this.imul(this.clone())},G.prototype.pow=function E(J){var K=P(J);if(K.length===0)return new G(1);var O=this;for(var U=0;U<K.length;U++,O=O.sqr())if(K[U]!==0)break;if(++U<K.length)for(var z=O.sqr();U<K.length;U++,z=z.sqr()){if(K[U]===0)continue;O=O.mul(z)}return O},G.prototype.iushln=function E(J){Y(typeof J==="number"&&J>=0);var K=J%26,O=(J-K)/26,U=67108863>>>26-K<<26-K,z;if(K!==0){var C=0;for(z=0;z<this.length;z++){var R=this.words[z]&U,L=(this.words[z]|0)-R<<K;this.words[z]=L|C,C=R>>>26-K}if(C)this.words[z]=C,this.length++}if(O!==0){for(z=this.length-1;z>=0;z--)this.words[z+O]=this.words[z];for(z=0;z<O;z++)this.words[z]=0;this.length+=O}return this.strip()},G.prototype.ishln=function E(J){return Y(this.negative===0),this.iushln(J)},G.prototype.iushrn=function E(J,K,O){Y(typeof J==="number"&&J>=0);var U;if(K)U=(K-K%26)/26;else U=0;var z=J%26,C=Math.min((J-z)/26,this.length),R=67108863^67108863>>>z<<z,L=O;if(U-=C,U=Math.max(0,U),L){for(var W=0;W<C;W++)L.words[W]=this.words[W];L.length=C}if(C===0);else if(this.length>C){this.length-=C;for(W=0;W<this.length;W++)this.words[W]=this.words[W+C]}else this.words[0]=0,this.length=1;var q=0;for(W=this.length-1;W>=0&&(q!==0||W>=U);W--){var _=this.words[W]|0;this.words[W]=q<<26-z|_>>>z,q=_&R}if(L&&q!==0)L.words[L.length++]=q;if(this.length===0)this.words[0]=0,this.length=1;return this.strip()},G.prototype.ishrn=function E(J,K,O){return Y(this.negative===0),this.iushrn(J,K,O)},G.prototype.shln=function E(J){return this.clone().ishln(J)},G.prototype.ushln=function E(J){return this.clone().iushln(J)},G.prototype.shrn=function E(J){return this.clone().ishrn(J)},G.prototype.ushrn=function E(J){return this.clone().iushrn(J)},G.prototype.testn=function E(J){Y(typeof J==="number"&&J>=0);var K=J%26,O=(J-K)/26,U=1<<K;if(this.length<=O)return!1;var z=this.words[O];return!!(z&U)},G.prototype.imaskn=function E(J){Y(typeof J==="number"&&J>=0);var K=J%26,O=(J-K)/26;if(Y(this.negative===0,"imaskn works only with positive numbers"),this.length<=O)return this;if(K!==0)O++;if(this.length=Math.min(O,this.length),K!==0){var U=67108863^67108863>>>K<<K;this.words[this.length-1]&=U}return this.strip()},G.prototype.maskn=function E(J){return this.clone().imaskn(J)},G.prototype.iaddn=function E(J){if(Y(typeof J==="number"),Y(J<67108864),J<0)return this.isubn(-J);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<J)return this.words[0]=J-(this.words[0]|0),this.negative=0,this;return this.negative=0,this.isubn(J),this.negative=1,this}return this._iaddn(J)},G.prototype._iaddn=function E(J){this.words[0]+=J;for(var K=0;K<this.length&&this.words[K]>=67108864;K++)if(this.words[K]-=67108864,K===this.length-1)this.words[K+1]=1;else this.words[K+1]++;return this.length=Math.max(this.length,K+1),this},G.prototype.isubn=function E(J){if(Y(typeof J==="number"),Y(J<67108864),J<0)return this.iaddn(-J);if(this.negative!==0)return this.negative=0,this.iaddn(J),this.negative=1,this;if(this.words[0]-=J,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var K=0;K<this.length&&this.words[K]<0;K++)this.words[K]+=67108864,this.words[K+1]-=1;return this.strip()},G.prototype.addn=function E(J){return this.clone().iaddn(J)},G.prototype.subn=function E(J){return this.clone().isubn(J)},G.prototype.iabs=function E(){return this.negative=0,this},G.prototype.abs=function E(){return this.clone().iabs()},G.prototype._ishlnsubmul=function E(J,K,O){var U=J.length+O,z;this._expand(U);var C,R=0;for(z=0;z<J.length;z++){C=(this.words[z+O]|0)+R;var L=(J.words[z]|0)*K;C-=L&67108863,R=(C>>26)-(L/67108864|0),this.words[z+O]=C&67108863}for(;z<this.length-O;z++)C=(this.words[z+O]|0)+R,R=C>>26,this.words[z+O]=C&67108863;if(R===0)return this.strip();Y(R===-1),R=0;for(z=0;z<this.length;z++)C=-(this.words[z]|0)+R,R=C>>26,this.words[z]=C&67108863;return this.negative=1,this.strip()},G.prototype._wordDiv=function E(J,K){var O=this.length-J.length,U=this.clone(),z=J,C=z.words[z.length-1]|0,R=this._countBits(C);if(O=26-R,O!==0)z=z.ushln(O),U.iushln(O),C=z.words[z.length-1]|0;var L=U.length-z.length,W;if(K!=="mod"){W=new G(null),W.length=L+1,W.words=new Array(W.length);for(var q=0;q<W.length;q++)W.words[q]=0}var _=U.clone()._ishlnsubmul(z,1,L);if(_.negative===0){if(U=_,W)W.words[L]=1}for(var B=L-1;B>=0;B--){var x=(U.words[z.length+B]|0)*67108864+(U.words[z.length+B-1]|0);x=Math.min(x/C|0,67108863),U._ishlnsubmul(z,x,B);while(U.negative!==0)if(x--,U.negative=0,U._ishlnsubmul(z,1,B),!U.isZero())U.negative^=1;if(W)W.words[B]=x}if(W)W.strip();if(U.strip(),K!=="div"&&O!==0)U.iushrn(O);return{div:W||null,mod:U}},G.prototype.divmod=function E(J,K,O){if(Y(!J.isZero()),this.isZero())return{div:new G(0),mod:new G(0)};var U,z,C;if(this.negative!==0&&J.negative===0){if(C=this.neg().divmod(J,K),K!=="mod")U=C.div.neg();if(K!=="div"){if(z=C.mod.neg(),O&&z.negative!==0)z.iadd(J)}return{div:U,mod:z}}if(this.negative===0&&J.negative!==0){if(C=this.divmod(J.neg(),K),K!=="mod")U=C.div.neg();return{div:U,mod:C.mod}}if((this.negative&J.negative)!==0){if(C=this.neg().divmod(J.neg(),K),K!=="div"){if(z=C.mod.neg(),O&&z.negative!==0)z.isub(J)}return{div:C.div,mod:z}}if(J.length>this.length||this.cmp(J)<0)return{div:new G(0),mod:this};if(J.length===1){if(K==="div")return{div:this.divn(J.words[0]),mod:null};if(K==="mod")return{div:null,mod:new G(this.modn(J.words[0]))};return{div:this.divn(J.words[0]),mod:new G(this.modn(J.words[0]))}}return this._wordDiv(J,K)},G.prototype.div=function E(J){return this.divmod(J,"div",!1).div},G.prototype.mod=function E(J){return this.divmod(J,"mod",!1).mod},G.prototype.umod=function E(J){return this.divmod(J,"mod",!0).mod},G.prototype.divRound=function E(J){var K=this.divmod(J);if(K.mod.isZero())return K.div;var O=K.div.negative!==0?K.mod.isub(J):K.mod,U=J.ushrn(1),z=J.andln(1),C=O.cmp(U);if(C<0||z===1&&C===0)return K.div;return K.div.negative!==0?K.div.isubn(1):K.div.iaddn(1)},G.prototype.modn=function E(J){Y(J<=67108863);var K=67108864%J,O=0;for(var U=this.length-1;U>=0;U--)O=(K*O+(this.words[U]|0))%J;return O},G.prototype.idivn=function E(J){Y(J<=67108863);var K=0;for(var O=this.length-1;O>=0;O--){var U=(this.words[O]|0)+K*67108864;this.words[O]=U/J|0,K=U%J}return this.strip()},G.prototype.divn=function E(J){return this.clone().idivn(J)},G.prototype.egcd=function E(J){Y(J.negative===0),Y(!J.isZero());var K=this,O=J.clone();if(K.negative!==0)K=K.umod(J);else K=K.clone();var U=new G(1),z=new G(0),C=new G(0),R=new G(1),L=0;while(K.isEven()&&O.isEven())K.iushrn(1),O.iushrn(1),++L;var W=O.clone(),q=K.clone();while(!K.isZero()){for(var _=0,B=1;(K.words[0]&B)===0&&_<26;++_,B<<=1);if(_>0){K.iushrn(_);while(_-- >0){if(U.isOdd()||z.isOdd())U.iadd(W),z.isub(q);U.iushrn(1),z.iushrn(1)}}for(var x=0,b=1;(O.words[0]&b)===0&&x<26;++x,b<<=1);if(x>0){O.iushrn(x);while(x-- >0){if(C.isOdd()||R.isOdd())C.iadd(W),R.isub(q);C.iushrn(1),R.iushrn(1)}}if(K.cmp(O)>=0)K.isub(O),U.isub(C),z.isub(R);else O.isub(K),C.isub(U),R.isub(z)}return{a:C,b:R,gcd:O.iushln(L)}},G.prototype._invmp=function E(J){Y(J.negative===0),Y(!J.isZero());var K=this,O=J.clone();if(K.negative!==0)K=K.umod(J);else K=K.clone();var U=new G(1),z=new G(0),C=O.clone();while(K.cmpn(1)>0&&O.cmpn(1)>0){for(var R=0,L=1;(K.words[0]&L)===0&&R<26;++R,L<<=1);if(R>0){K.iushrn(R);while(R-- >0){if(U.isOdd())U.iadd(C);U.iushrn(1)}}for(var W=0,q=1;(O.words[0]&q)===0&&W<26;++W,q<<=1);if(W>0){O.iushrn(W);while(W-- >0){if(z.isOdd())z.iadd(C);z.iushrn(1)}}if(K.cmp(O)>=0)K.isub(O),U.isub(z);else O.isub(K),z.isub(U)}var _;if(K.cmpn(1)===0)_=U;else _=z;if(_.cmpn(0)<0)_.iadd(J);return _},G.prototype.gcd=function E(J){if(this.isZero())return J.abs();if(J.isZero())return this.abs();var K=this.clone(),O=J.clone();K.negative=0,O.negative=0;for(var U=0;K.isEven()&&O.isEven();U++)K.iushrn(1),O.iushrn(1);do{while(K.isEven())K.iushrn(1);while(O.isEven())O.iushrn(1);var z=K.cmp(O);if(z<0){var C=K;K=O,O=C}else if(z===0||O.cmpn(1)===0)break;K.isub(O)}while(!0);return O.iushln(U)},G.prototype.invm=function E(J){return this.egcd(J).a.umod(J)},G.prototype.isEven=function E(){return(this.words[0]&1)===0},G.prototype.isOdd=function E(){return(this.words[0]&1)===1},G.prototype.andln=function E(J){return this.words[0]&J},G.prototype.bincn=function E(J){Y(typeof J==="number");var K=J%26,O=(J-K)/26,U=1<<K;if(this.length<=O)return this._expand(O+1),this.words[O]|=U,this;var z=U;for(var C=O;z!==0&&C<this.length;C++){var R=this.words[C]|0;R+=z,z=R>>>26,R&=67108863,this.words[C]=R}if(z!==0)this.words[C]=z,this.length++;return this},G.prototype.isZero=function E(){return this.length===1&&this.words[0]===0},G.prototype.cmpn=function E(J){var K=J<0;if(this.negative!==0&&!K)return-1;if(this.negative===0&&K)return 1;this.strip();var O;if(this.length>1)O=1;else{if(K)J=-J;Y(J<=67108863,"Number is too big");var U=this.words[0]|0;O=U===J?0:U<J?-1:1}if(this.negative!==0)return-O|0;return O},G.prototype.cmp=function E(J){if(this.negative!==0&&J.negative===0)return-1;if(this.negative===0&&J.negative!==0)return 1;var K=this.ucmp(J);if(this.negative!==0)return-K|0;return K},G.prototype.ucmp=function E(J){if(this.length>J.length)return 1;if(this.length<J.length)return-1;var K=0;for(var O=this.length-1;O>=0;O--){var U=this.words[O]|0,z=J.words[O]|0;if(U===z)continue;if(U<z)K=-1;else if(U>z)K=1;break}return K},G.prototype.gtn=function E(J){return this.cmpn(J)===1},G.prototype.gt=function E(J){return this.cmp(J)===1},G.prototype.gten=function E(J){return this.cmpn(J)>=0},G.prototype.gte=function E(J){return this.cmp(J)>=0},G.prototype.ltn=function E(J){return this.cmpn(J)===-1},G.prototype.lt=function E(J){return this.cmp(J)===-1},G.prototype.lten=function E(J){return this.cmpn(J)<=0},G.prototype.lte=function E(J){return this.cmp(J)<=0},G.prototype.eqn=function E(J){return this.cmpn(J)===0},G.prototype.eq=function E(J){return this.cmp(J)===0},G.red=function E(J){return new p(J)},G.prototype.toRed=function E(J){return Y(!this.red,"Already a number in reduction context"),Y(this.negative===0,"red works only with positives"),J.convertTo(this)._forceRed(J)},G.prototype.fromRed=function E(){return Y(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},G.prototype._forceRed=function E(J){return this.red=J,this},G.prototype.forceRed=function E(J){return Y(!this.red,"Already a number in reduction context"),this._forceRed(J)},G.prototype.redAdd=function E(J){return Y(this.red,"redAdd works only with red numbers"),this.red.add(this,J)},G.prototype.redIAdd=function E(J){return Y(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,J)},G.prototype.redSub=function E(J){return Y(this.red,"redSub works only with red numbers"),this.red.sub(this,J)},G.prototype.redISub=function E(J){return Y(this.red,"redISub works only with red numbers"),this.red.isub(this,J)},G.prototype.redShl=function E(J){return Y(this.red,"redShl works only with red numbers"),this.red.shl(this,J)},G.prototype.redMul=function E(J){return Y(this.red,"redMul works only with red numbers"),this.red._verify2(this,J),this.red.mul(this,J)},G.prototype.redIMul=function E(J){return Y(this.red,"redMul works only with red numbers"),this.red._verify2(this,J),this.red.imul(this,J)},G.prototype.redSqr=function E(){return Y(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},G.prototype.redISqr=function E(){return Y(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},G.prototype.redSqrt=function E(){return Y(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},G.prototype.redInvm=function E(){return Y(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},G.prototype.redNeg=function E(){return Y(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},G.prototype.redPow=function E(J){return Y(this.red&&!J.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,J)};var f={k256:null,p224:null,p192:null,p25519:null};function v(E,J){this.name=E,this.p=new G(J,16),this.n=this.p.bitLength(),this.k=new G(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}v.prototype._tmp=function E(){var J=new G(null);return J.words=new Array(Math.ceil(this.n/13)),J},v.prototype.ireduce=function E(J){var K=J,O;do this.split(K,this.tmp),K=this.imulK(K),K=K.iadd(this.tmp),O=K.bitLength();while(O>this.n);var U=O<this.n?-1:K.ucmp(this.p);if(U===0)K.words[0]=0,K.length=1;else if(U>0)K.isub(this.p);else if(K.strip!==void 0)K.strip();else K._strip();return K},v.prototype.split=function E(J,K){J.iushrn(this.n,0,K)},v.prototype.imulK=function E(J){return J.imul(this.k)};function c(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}V(c,v),c.prototype.split=function E(J,K){var O=4194303,U=Math.min(J.length,9);for(var z=0;z<U;z++)K.words[z]=J.words[z];if(K.length=U,J.length<=9){J.words[0]=0,J.length=1;return}var C=J.words[9];K.words[K.length++]=C&O;for(z=10;z<J.length;z++){var R=J.words[z]|0;J.words[z-10]=(R&O)<<4|C>>>22,C=R}if(C>>>=22,J.words[z-10]=C,C===0&&J.length>10)J.length-=10;else J.length-=9},c.prototype.imulK=function E(J){J.words[J.length]=0,J.words[J.length+1]=0,J.length+=2;var K=0;for(var O=0;O<J.length;O++){var U=J.words[O]|0;K+=U*977,J.words[O]=K&67108863,K=U*64+(K/67108864|0)}if(J.words[J.length-1]===0){if(J.length--,J.words[J.length-1]===0)J.length--}return J};function u(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}V(u,v);function Z0(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}V(Z0,v);function e(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}V(e,v),e.prototype.imulK=function E(J){var K=0;for(var O=0;O<J.length;O++){var U=(J.words[O]|0)*19+K,z=U&67108863;U>>>=26,J.words[O]=z,K=U}if(K!==0)J.words[J.length++]=K;return J},G._prime=function E(J){if(f[J])return f[J];var K;if(J==="k256")K=new c;else if(J==="p224")K=new u;else if(J==="p192")K=new Z0;else if(J==="p25519")K=new e;else throw new Error("Unknown prime "+J);return f[J]=K,K};function p(E){if(typeof E==="string"){var J=G._prime(E);this.m=J.p,this.prime=J}else Y(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}p.prototype._verify1=function E(J){Y(J.negative===0,"red works only with positives"),Y(J.red,"red works only with red numbers")},p.prototype._verify2=function E(J,K){Y((J.negative|K.negative)===0,"red works only with positives"),Y(J.red&&J.red===K.red,"red works only with red numbers")},p.prototype.imod=function E(J){if(this.prime)return this.prime.ireduce(J)._forceRed(this);return J.umod(this.m)._forceRed(this)},p.prototype.neg=function E(J){if(J.isZero())return J.clone();return this.m.sub(J)._forceRed(this)},p.prototype.add=function E(J,K){this._verify2(J,K);var O=J.add(K);if(O.cmp(this.m)>=0)O.isub(this.m);return O._forceRed(this)},p.prototype.iadd=function E(J,K){this._verify2(J,K);var O=J.iadd(K);if(O.cmp(this.m)>=0)O.isub(this.m);return O},p.prototype.sub=function E(J,K){this._verify2(J,K);var O=J.sub(K);if(O.cmpn(0)<0)O.iadd(this.m);return O._forceRed(this)},p.prototype.isub=function E(J,K){this._verify2(J,K);var O=J.isub(K);if(O.cmpn(0)<0)O.iadd(this.m);return O},p.prototype.shl=function E(J,K){return this._verify1(J),this.imod(J.ushln(K))},p.prototype.imul=function E(J,K){return this._verify2(J,K),this.imod(J.imul(K))},p.prototype.mul=function E(J,K){return this._verify2(J,K),this.imod(J.mul(K))},p.prototype.isqr=function E(J){return this.imul(J,J.clone())},p.prototype.sqr=function E(J){return this.mul(J,J)},p.prototype.sqrt=function E(J){if(J.isZero())return J.clone();var K=this.m.andln(3);if(Y(K%2===1),K===3){var O=this.m.add(new G(1)).iushrn(2);return this.pow(J,O)}var U=this.m.subn(1),z=0;while(!U.isZero()&&U.andln(1)===0)z++,U.iushrn(1);Y(!U.isZero());var C=new G(1).toRed(this),R=C.redNeg(),L=this.m.subn(1).iushrn(1),W=this.m.bitLength();W=new G(2*W*W).toRed(this);while(this.pow(W,L).cmp(R)!==0)W.redIAdd(R);var q=this.pow(W,U),_=this.pow(J,U.addn(1).iushrn(1)),B=this.pow(J,U),x=z;while(B.cmp(C)!==0){var b=B;for(var l=0;b.cmp(C)!==0;l++)b=b.redSqr();Y(l<x);var r=this.pow(q,new G(1).iushln(x-l-1));_=_.redMul(r),q=r.redSqr(),B=B.redMul(q),x=l}return _},p.prototype.invm=function E(J){var K=J._invmp(this.m);if(K.negative!==0)return K.negative=0,this.imod(K).redNeg();else return this.imod(K)},p.prototype.pow=function E(J,K){if(K.isZero())return new G(1).toRed(this);if(K.cmpn(1)===0)return J.clone();var O=4,U=new Array(1<<O);U[0]=new G(1).toRed(this),U[1]=J;for(var z=2;z<U.length;z++)U[z]=this.mul(U[z-1],J);var C=U[0],R=0,L=0,W=K.bitLength()%26;if(W===0)W=26;for(z=K.length-1;z>=0;z--){var q=K.words[z];for(var _=W-1;_>=0;_--){var B=q>>_&1;if(C!==U[0])C=this.sqr(C);if(B===0&&R===0){L=0;continue}if(R<<=1,R|=B,L++,L!==O&&(z!==0||_!==0))continue;C=this.mul(C,U[R]),L=0,R=0}W=26}return C},p.prototype.convertTo=function E(J){var K=J.umod(this.m);return K===J?K.clone():K},p.prototype.convertFrom=function E(J){var K=J.clone();return K.red=null,K},G.mont=function E(J){return new s(J)};function s(E){if(p.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0)this.shift+=26-this.shift%26;this.r=new G(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}V(s,p),s.prototype.convertTo=function E(J){return this.imod(J.ushln(this.shift))},s.prototype.convertFrom=function E(J){var K=this.imod(J.mul(this.rinv));return K.red=null,K},s.prototype.imul=function E(J,K){if(J.isZero()||K.isZero())return J.words[0]=0,J.length=1,J;var O=J.imul(K),U=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),z=O.isub(U).iushrn(this.shift),C=z;if(z.cmp(this.m)>=0)C=z.isub(this.m);else if(z.cmpn(0)<0)C=z.iadd(this.m);return C._forceRed(this)},s.prototype.mul=function E(J,K){if(J.isZero()||K.isZero())return new G(0)._forceRed(this);var O=J.mul(K),U=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),z=O.isub(U).iushrn(this.shift),C=z;if(z.cmp(this.m)>=0)C=z.isub(this.m);else if(z.cmpn(0)<0)C=z.iadd(this.m);return C._forceRed(this)},s.prototype.invm=function E(J){var K=this.imod(J._invmp(this.m).mul(this.r2));return K._forceRed(this)}})(typeof Q==="undefined"||Q,$)}),dD=m0(($,Q)=>{var X=fO(),Z=JX().Buffer;function Y(V,G){return Z.from(V.toRed(X.mont(G.modulus)).redPow(new X(G.publicExponent)).fromRed().toArray())}Q.exports=Y}),XS=m0(($,Q)=>{(function(X,Z){function Y(O,U){if(!O)throw new Error(U||"Assertion failed")}function V(O,U){O.super_=U;var z=function(){};z.prototype=U.prototype,O.prototype=new z,O.prototype.constructor=O}function G(O,U,z){if(G.isBN(O))return O;if(this.negative=0,this.words=null,this.length=0,this.red=null,O!==null){if(U==="le"||U==="be")z=U,U=10;this._init(O||0,U||10,z||"be")}}if(typeof X==="object")X.exports=G;else Z.BN=G;G.BN=G,G.wordSize=26;var H;try{if(typeof window!=="undefined"&&typeof window.Buffer!=="undefined")H=window.Buffer;else H=(y$(),$$(g$)).Buffer}catch(O){}G.isBN=function O(U){if(U instanceof G)return!0;return U!==null&&typeof U==="object"&&U.constructor.wordSize===G.wordSize&&Array.isArray(U.words)},G.max=function O(U,z){if(U.cmp(z)>0)return U;return z},G.min=function O(U,z){if(U.cmp(z)<0)return U;return z},G.prototype._init=function O(U,z,C){if(typeof U==="number")return this._initNumber(U,z,C);if(typeof U==="object")return this._initArray(U,z,C);if(z==="hex")z=16;Y(z===(z|0)&&z>=2&&z<=36),U=U.toString().replace(/\s+/g,"");var R=0;if(U[0]==="-")R++,this.negative=1;if(R<U.length){if(z===16)this._parseHex(U,R,C);else if(this._parseBase(U,z,R),C==="le")this._initArray(this.toArray(),z,C)}},G.prototype._initNumber=function O(U,z,C){if(U<0)this.negative=1,U=-U;if(U<67108864)this.words=[U&67108863],this.length=1;else if(U<4503599627370496)this.words=[U&67108863,U/67108864&67108863],this.length=2;else Y(U<9007199254740992),this.words=[U&67108863,U/67108864&67108863,1],this.length=3;if(C!=="le")return;this._initArray(this.toArray(),z,C)},G.prototype._initArray=function O(U,z,C){if(Y(typeof U.length==="number"),U.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(U.length/3),this.words=new Array(this.length);for(var R=0;R<this.length;R++)this.words[R]=0;var L,W,q=0;if(C==="be"){for(R=U.length-1,L=0;R>=0;R-=3)if(W=U[R]|U[R-1]<<8|U[R-2]<<16,this.words[L]|=W<<q&67108863,this.words[L+1]=W>>>26-q&67108863,q+=24,q>=26)q-=26,L++}else if(C==="le"){for(R=0,L=0;R<U.length;R+=3)if(W=U[R]|U[R+1]<<8|U[R+2]<<16,this.words[L]|=W<<q&67108863,this.words[L+1]=W>>>26-q&67108863,q+=24,q>=26)q-=26,L++}return this._strip()};function D(O,U){var z=O.charCodeAt(U);if(z>=48&&z<=57)return z-48;else if(z>=65&&z<=70)return z-55;else if(z>=97&&z<=102)return z-87;else Y(!1,"Invalid character in "+O)}function A(O,U,z){var C=D(O,z);if(z-1>=U)C|=D(O,z-1)<<4;return C}G.prototype._parseHex=function O(U,z,C){this.length=Math.ceil((U.length-z)/6),this.words=new Array(this.length);for(var R=0;R<this.length;R++)this.words[R]=0;var L=0,W=0,q;if(C==="be")for(R=U.length-1;R>=z;R-=2)if(q=A(U,z,R)<<L,this.words[W]|=q&67108863,L>=18)L-=18,W+=1,this.words[W]|=q>>>26;else L+=8;else{var _=U.length-z;for(R=_%2===0?z+1:z;R<U.length;R+=2)if(q=A(U,z,R)<<L,this.words[W]|=q&67108863,L>=18)L-=18,W+=1,this.words[W]|=q>>>26;else L+=8}this._strip()};function T(O,U,z,C){var R=0,L=0,W=Math.min(O.length,z);for(var q=U;q<W;q++){var _=O.charCodeAt(q)-48;if(R*=C,_>=49)L=_-49+10;else if(_>=17)L=_-17+10;else L=_;Y(_>=0&&L<C,"Invalid character"),R+=L}return R}G.prototype._parseBase=function O(U,z,C){this.words=[0],this.length=1;for(var R=0,L=1;L<=67108863;L*=z)R++;R--,L=L/z|0;var W=U.length-C,q=W%R,_=Math.min(W,W-q)+C,B=0;for(var x=C;x<_;x+=R)if(B=T(U,x,x+R,z),this.imuln(L),this.words[0]+B<67108864)this.words[0]+=B;else this._iaddn(B);if(q!==0){var b=1;B=T(U,x,U.length,z);for(x=0;x<q;x++)b*=z;if(this.imuln(b),this.words[0]+B<67108864)this.words[0]+=B;else this._iaddn(B)}this._strip()},G.prototype.copy=function O(U){U.words=new Array(this.length);for(var z=0;z<this.length;z++)U.words[z]=this.words[z];U.length=this.length,U.negative=this.negative,U.red=this.red};function F(O,U){O.words=U.words,O.length=U.length,O.negative=U.negative,O.red=U.red}if(G.prototype._move=function O(U){F(U,this)},G.prototype.clone=function O(){var U=new G(null);return this.copy(U),U},G.prototype._expand=function O(U){while(this.length<U)this.words[this.length++]=0;return this},G.prototype._strip=function O(){while(this.length>1&&this.words[this.length-1]===0)this.length--;return this._normSign()},G.prototype._normSign=function O(){if(this.length===1&&this.words[0]===0)this.negative=0;return this},typeof Symbol!=="undefined"&&typeof Symbol.for==="function")try{G.prototype[Symbol.for("nodejs.util.inspect.custom")]=M}catch(O){G.prototype.inspect=M}else G.prototype.inspect=M;function M(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var I=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],P=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];if(G.prototype.toString=function O(U,z){U=U||10,z=z|0||1;var C;if(U===16||U==="hex"){C="";var R=0,L=0;for(var W=0;W<this.length;W++){var q=this.words[W],_=((q<<R|L)&16777215).toString(16);if(L=q>>>24-R&16777215,R+=2,R>=26)R-=26,W--;if(L!==0||W!==this.length-1)C=I[6-_.length]+_+C;else C=_+C}if(L!==0)C=L.toString(16)+C;while(C.length%z!==0)C="0"+C;if(this.negative!==0)C="-"+C;return C}if(U===(U|0)&&U>=2&&U<=36){var B=P[U],x=S[U];C="";var b=this.clone();b.negative=0;while(!b.isZero()){var l=b.modrn(x).toString(U);if(b=b.idivn(x),!b.isZero())C=I[B-l.length]+l+C;else C=l+C}if(this.isZero())C="0"+C;while(C.length%z!==0)C="0"+C;if(this.negative!==0)C="-"+C;return C}Y(!1,"Base should be between 2 and 36")},G.prototype.toNumber=function O(){var U=this.words[0];if(this.length===2)U+=this.words[1]*67108864;else if(this.length===3&&this.words[2]===1)U+=4503599627370496+this.words[1]*67108864;else if(this.length>2)Y(!1,"Number can only safely store up to 53 bits");return this.negative!==0?-U:U},G.prototype.toJSON=function O(){return this.toString(16,2)},H)G.prototype.toBuffer=function O(U,z){return this.toArrayLike(H,U,z)};G.prototype.toArray=function O(U,z){return this.toArrayLike(Array,U,z)};var j=function O(U,z){if(U.allocUnsafe)return U.allocUnsafe(z);return new U(z)};if(G.prototype.toArrayLike=function O(U,z,C){this._strip();var R=this.byteLength(),L=C||Math.max(1,R);Y(R<=L,"byte array longer than desired length"),Y(L>0,"Requested array length <= 0");var W=j(U,L),q=z==="le"?"LE":"BE";return this["_toArrayLike"+q](W,R),W},G.prototype._toArrayLikeLE=function O(U,z){var C=0,R=0;for(var L=0,W=0;L<this.length;L++){var q=this.words[L]<<W|R;if(U[C++]=q&255,C<U.length)U[C++]=q>>8&255;if(C<U.length)U[C++]=q>>16&255;if(W===6){if(C<U.length)U[C++]=q>>24&255;R=0,W=0}else R=q>>>24,W+=2}if(C<U.length){U[C++]=R;while(C<U.length)U[C++]=0}},G.prototype._toArrayLikeBE=function O(U,z){var C=U.length-1,R=0;for(var L=0,W=0;L<this.length;L++){var q=this.words[L]<<W|R;if(U[C--]=q&255,C>=0)U[C--]=q>>8&255;if(C>=0)U[C--]=q>>16&255;if(W===6){if(C>=0)U[C--]=q>>24&255;R=0,W=0}else R=q>>>24,W+=2}if(C>=0){U[C--]=R;while(C>=0)U[C--]=0}},Math.clz32)G.prototype._countBits=function O(U){return 32-Math.clz32(U)};else G.prototype._countBits=function O(U){var z=U,C=0;if(z>=4096)C+=13,z>>>=13;if(z>=64)C+=7,z>>>=7;if(z>=8)C+=4,z>>>=4;if(z>=2)C+=2,z>>>=2;return C+z};G.prototype._zeroBits=function O(U){if(U===0)return 26;var z=U,C=0;if((z&8191)===0)C+=13,z>>>=13;if((z&127)===0)C+=7,z>>>=7;if((z&15)===0)C+=4,z>>>=4;if((z&3)===0)C+=2,z>>>=2;if((z&1)===0)C++;return C},G.prototype.bitLength=function O(){var U=this.words[this.length-1],z=this._countBits(U);return(this.length-1)*26+z};function N(O){var U=new Array(O.bitLength());for(var z=0;z<U.length;z++){var C=z/26|0,R=z%26;U[z]=O.words[C]>>>R&1}return U}G.prototype.zeroBits=function O(){if(this.isZero())return 0;var U=0;for(var z=0;z<this.length;z++){var C=this._zeroBits(this.words[z]);if(U+=C,C!==26)break}return U},G.prototype.byteLength=function O(){return Math.ceil(this.bitLength()/8)},G.prototype.toTwos=function O(U){if(this.negative!==0)return this.abs().inotn(U).iaddn(1);return this.clone()},G.prototype.fromTwos=function O(U){if(this.testn(U-1))return this.notn(U).iaddn(1).ineg();return this.clone()},G.prototype.isNeg=function O(){return this.negative!==0},G.prototype.neg=function O(){return this.clone().ineg()},G.prototype.ineg=function O(){if(!this.isZero())this.negative^=1;return this},G.prototype.iuor=function O(U){while(this.length<U.length)this.words[this.length++]=0;for(var z=0;z<U.length;z++)this.words[z]=this.words[z]|U.words[z];return this._strip()},G.prototype.ior=function O(U){return Y((this.negative|U.negative)===0),this.iuor(U)},G.prototype.or=function O(U){if(this.length>U.length)return this.clone().ior(U);return U.clone().ior(this)},G.prototype.uor=function O(U){if(this.length>U.length)return this.clone().iuor(U);return U.clone().iuor(this)},G.prototype.iuand=function O(U){var z;if(this.length>U.length)z=U;else z=this;for(var C=0;C<z.length;C++)this.words[C]=this.words[C]&U.words[C];return this.length=z.length,this._strip()},G.prototype.iand=function O(U){return Y((this.negative|U.negative)===0),this.iuand(U)},G.prototype.and=function O(U){if(this.length>U.length)return this.clone().iand(U);return U.clone().iand(this)},G.prototype.uand=function O(U){if(this.length>U.length)return this.clone().iuand(U);return U.clone().iuand(this)},G.prototype.iuxor=function O(U){var z,C;if(this.length>U.length)z=this,C=U;else z=U,C=this;for(var R=0;R<C.length;R++)this.words[R]=z.words[R]^C.words[R];if(this!==z)for(;R<z.length;R++)this.words[R]=z.words[R];return this.length=z.length,this._strip()},G.prototype.ixor=function O(U){return Y((this.negative|U.negative)===0),this.iuxor(U)},G.prototype.xor=function O(U){if(this.length>U.length)return this.clone().ixor(U);return U.clone().ixor(this)},G.prototype.uxor=function O(U){if(this.length>U.length)return this.clone().iuxor(U);return U.clone().iuxor(this)},G.prototype.inotn=function O(U){Y(typeof U==="number"&&U>=0);var z=Math.ceil(U/26)|0,C=U%26;if(this._expand(z),C>0)z--;for(var R=0;R<z;R++)this.words[R]=~this.words[R]&67108863;if(C>0)this.words[R]=~this.words[R]&67108863>>26-C;return this._strip()},G.prototype.notn=function O(U){return this.clone().inotn(U)},G.prototype.setn=function O(U,z){Y(typeof U==="number"&&U>=0);var C=U/26|0,R=U%26;if(this._expand(C+1),z)this.words[C]=this.words[C]|1<<R;else this.words[C]=this.words[C]&~(1<<R);return this._strip()},G.prototype.iadd=function O(U){var z;if(this.negative!==0&&U.negative===0)return this.negative=0,z=this.isub(U),this.negative^=1,this._normSign();else if(this.negative===0&&U.negative!==0)return U.negative=0,z=this.isub(U),U.negative=1,z._normSign();var C,R;if(this.length>U.length)C=this,R=U;else C=U,R=this;var L=0;for(var W=0;W<R.length;W++)z=(C.words[W]|0)+(R.words[W]|0)+L,this.words[W]=z&67108863,L=z>>>26;for(;L!==0&&W<C.length;W++)z=(C.words[W]|0)+L,this.words[W]=z&67108863,L=z>>>26;if(this.length=C.length,L!==0)this.words[this.length]=L,this.length++;else if(C!==this)for(;W<C.length;W++)this.words[W]=C.words[W];return this},G.prototype.add=function O(U){var z;if(U.negative!==0&&this.negative===0)return U.negative=0,z=this.sub(U),U.negative^=1,z;else if(U.negative===0&&this.negative!==0)return this.negative=0,z=U.sub(this),this.negative=1,z;if(this.length>U.length)return this.clone().iadd(U);return U.clone().iadd(this)},G.prototype.isub=function O(U){if(U.negative!==0){U.negative=0;var z=this.iadd(U);return U.negative=1,z._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(U),this.negative=1,this._normSign();var C=this.cmp(U);if(C===0)return this.negative=0,this.length=1,this.words[0]=0,this;var R,L;if(C>0)R=this,L=U;else R=U,L=this;var W=0;for(var q=0;q<L.length;q++)z=(R.words[q]|0)-(L.words[q]|0)+W,W=z>>26,this.words[q]=z&67108863;for(;W!==0&&q<R.length;q++)z=(R.words[q]|0)+W,W=z>>26,this.words[q]=z&67108863;if(W===0&&q<R.length&&R!==this)for(;q<R.length;q++)this.words[q]=R.words[q];if(this.length=Math.max(this.length,q),R!==this)this.negative=1;return this._strip()},G.prototype.sub=function O(U){return this.clone().isub(U)};function w(O,U,z){z.negative=U.negative^O.negative;var C=O.length+U.length|0;z.length=C,C=C-1|0;var R=O.words[0]|0,L=U.words[0]|0,W=R*L,q=W&67108863,_=W/67108864|0;z.words[0]=q;for(var B=1;B<C;B++){var x=_>>>26,b=_&67108863,l=Math.min(B,U.length-1);for(var r=Math.max(0,B-O.length+1);r<=l;r++){var z0=B-r|0;R=O.words[z0]|0,L=U.words[r]|0,W=R*L+b,x+=W/67108864|0,b=W&67108863}z.words[B]=b|0,_=x|0}if(_!==0)z.words[B]=_|0;else z.length--;return z._strip()}var k=function O(U,z,C){var R=U.words,L=z.words,W=C.words,q=0,_,B,x,b=R[0]|0,l=b&8191,r=b>>>13,z0=R[1]|0,d=z0&8191,o=z0>>>13,R0=R[2]|0,G0=R0&8191,W0=R0>>>13,a=R[3]|0,m=a&8191,n=a>>>13,b0=R[4]|0,Q0=b0&8191,$0=b0>>>13,t=R[5]|0,i=t&8191,Y0=t>>>13,C0=R[6]|0,U0=C0&8191,D0=C0>>>13,a0=R[7]|0,H0=a0&8191,T0=a0>>>13,C$=R[8]|0,q0=C$&8191,I0=C$>>>13,p$=R[9]|0,F0=p$&8191,f0=p$>>>13,CQ=L[0]|0,v0=CQ&8191,g0=CQ>>>13,_Q=L[1]|0,w0=_Q&8191,_0=_Q>>>13,xQ=L[2]|0,x0=xQ&8191,S0=xQ>>>13,kQ=L[3]|0,y0=kQ&8191,B0=kQ>>>13,TQ=L[4]|0,g=TQ&8191,y=TQ>>>13,p0=L[5]|0,X0=p0&8191,V0=p0>>>13,T$=L[6]|0,A0=T$&8191,E0=T$>>>13,FQ=L[7]|0,h0=FQ&8191,k0=FQ>>>13,RQ=L[8]|0,j0=RQ&8191,N0=RQ>>>13,v$=L[9]|0,t0=v$&8191,r0=v$>>>13;C.negative=U.negative^z.negative,C.length=19,_=Math.imul(l,v0),B=Math.imul(l,g0),B=B+Math.imul(r,v0)|0,x=Math.imul(r,g0);var I$=(q+_|0)+((B&8191)<<13)|0;q=(x+(B>>>13)|0)+(I$>>>26)|0,I$&=67108863,_=Math.imul(d,v0),B=Math.imul(d,g0),B=B+Math.imul(o,v0)|0,x=Math.imul(o,g0),_=_+Math.imul(l,w0)|0,B=B+Math.imul(l,_0)|0,B=B+Math.imul(r,w0)|0,x=x+Math.imul(r,_0)|0;var i$=(q+_|0)+((B&8191)<<13)|0;q=(x+(B>>>13)|0)+(i$>>>26)|0,i$&=67108863,_=Math.imul(G0,v0),B=Math.imul(G0,g0),B=B+Math.imul(W0,v0)|0,x=Math.imul(W0,g0),_=_+Math.imul(d,w0)|0,B=B+Math.imul(d,_0)|0,B=B+Math.imul(o,w0)|0,x=x+Math.imul(o,_0)|0,_=_+Math.imul(l,x0)|0,B=B+Math.imul(l,S0)|0,B=B+Math.imul(r,x0)|0,x=x+Math.imul(r,S0)|0;var r$=(q+_|0)+((B&8191)<<13)|0;q=(x+(B>>>13)|0)+(r$>>>26)|0,r$&=67108863,_=Math.imul(m,v0),B=Math.imul(m,g0),B=B+Math.imul(n,v0)|0,x=Math.imul(n,g0),_=_+Math.imul(G0,w0)|0,B=B+Math.imul(G0,_0)|0,B=B+Math.imul(W0,w0)|0,x=x+Math.imul(W0,_0)|0,_=_+Math.imul(d,x0)|0,B=B+Math.imul(d,S0)|0,B=B+Math.imul(o,x0)|0,x=x+Math.imul(o,S0)|0,_=_+Math.imul(l,y0)|0,B=B+Math.imul(l,B0)|0,B=B+Math.imul(r,y0)|0,x=x+Math.imul(r,B0)|0;var a$=(q+_|0)+((B&8191)<<13)|0;q=(x+(B>>>13)|0)+(a$>>>26)|0,a$&=67108863,_=Math.imul(Q0,v0),B=Math.imul(Q0,g0),B=B+Math.imul($0,v0)|0,x=Math.imul($0,g0),_=_+Math.imul(m,w0)|0,B=B+Math.imul(m,_0)|0,B=B+Math.imul(n,w0)|0,x=x+Math.imul(n,_0)|0,_=_+Math.imul(G0,x0)|0,B=B+Math.imul(G0,S0)|0,B=B+Math.imul(W0,x0)|0,x=x+Math.imul(W0,S0)|0,_=_+Math.imul(d,y0)|0,B=B+Math.imul(d,B0)|0,B=B+Math.imul(o,y0)|0,x=x+Math.imul(o,B0)|0,_=_+Math.imul(l,g)|0,B=B+Math.imul(l,y)|0,B=B+Math.imul(r,g)|0,x=x+Math.imul(r,y)|0;var t$=(q+_|0)+((B&8191)<<13)|0;q=(x+(B>>>13)|0)+(t$>>>26)|0,t$&=67108863,_=Math.imul(i,v0),B=Math.imul(i,g0),B=B+Math.imul(Y0,v0)|0,x=Math.imul(Y0,g0),_=_+Math.imul(Q0,w0)|0,B=B+Math.imul(Q0,_0)|0,B=B+Math.imul($0,w0)|0,x=x+Math.imul($0,_0)|0,_=_+Math.imul(m,x0)|0,B=B+Math.imul(m,S0)|0,B=B+Math.imul(n,x0)|0,x=x+Math.imul(n,S0)|0,_=_+Math.imul(G0,y0)|0,B=B+Math.imul(G0,B0)|0,B=B+Math.imul(W0,y0)|0,x=x+Math.imul(W0,B0)|0,_=_+Math.imul(d,g)|0,B=B+Math.imul(d,y)|0,B=B+Math.imul(o,g)|0,x=x+Math.imul(o,y)|0,_=_+Math.imul(l,X0)|0,B=B+Math.imul(l,V0)|0,B=B+Math.imul(r,X0)|0,x=x+Math.imul(r,V0)|0;var e$=(q+_|0)+((B&8191)<<13)|0;q=(x+(B>>>13)|0)+(e$>>>26)|0,e$&=67108863,_=Math.imul(U0,v0),B=Math.imul(U0,g0),B=B+Math.imul(D0,v0)|0,x=Math.imul(D0,g0),_=_+Math.imul(i,w0)|0,B=B+Math.imul(i,_0)|0,B=B+Math.imul(Y0,w0)|0,x=x+Math.imul(Y0,_0)|0,_=_+Math.imul(Q0,x0)|0,B=B+Math.imul(Q0,S0)|0,B=B+Math.imul($0,x0)|0,x=x+Math.imul($0,S0)|0,_=_+Math.imul(m,y0)|0,B=B+Math.imul(m,B0)|0,B=B+Math.imul(n,y0)|0,x=x+Math.imul(n,B0)|0,_=_+Math.imul(G0,g)|0,B=B+Math.imul(G0,y)|0,B=B+Math.imul(W0,g)|0,x=x+Math.imul(W0,y)|0,_=_+Math.imul(d,X0)|0,B=B+Math.imul(d,V0)|0,B=B+Math.imul(o,X0)|0,x=x+Math.imul(o,V0)|0,_=_+Math.imul(l,A0)|0,B=B+Math.imul(l,E0)|0,B=B+Math.imul(r,A0)|0,x=x+Math.imul(r,E0)|0;var $Q=(q+_|0)+((B&8191)<<13)|0;q=(x+(B>>>13)|0)+($Q>>>26)|0,$Q&=67108863,_=Math.imul(H0,v0),B=Math.imul(H0,g0),B=B+Math.imul(T0,v0)|0,x=Math.imul(T0,g0),_=_+Math.imul(U0,w0)|0,B=B+Math.imul(U0,_0)|0,B=B+Math.imul(D0,w0)|0,x=x+Math.imul(D0,_0)|0,_=_+Math.imul(i,x0)|0,B=B+Math.imul(i,S0)|0,B=B+Math.imul(Y0,x0)|0,x=x+Math.imul(Y0,S0)|0,_=_+Math.imul(Q0,y0)|0,B=B+Math.imul(Q0,B0)|0,B=B+Math.imul($0,y0)|0,x=x+Math.imul($0,B0)|0,_=_+Math.imul(m,g)|0,B=B+Math.imul(m,y)|0,B=B+Math.imul(n,g)|0,x=x+Math.imul(n,y)|0,_=_+Math.imul(G0,X0)|0,B=B+Math.imul(G0,V0)|0,B=B+Math.imul(W0,X0)|0,x=x+Math.imul(W0,V0)|0,_=_+Math.imul(d,A0)|0,B=B+Math.imul(d,E0)|0,B=B+Math.imul(o,A0)|0,x=x+Math.imul(o,E0)|0,_=_+Math.imul(l,h0)|0,B=B+Math.imul(l,k0)|0,B=B+Math.imul(r,h0)|0,x=x+Math.imul(r,k0)|0;var QQ=(q+_|0)+((B&8191)<<13)|0;q=(x+(B>>>13)|0)+(QQ>>>26)|0,QQ&=67108863,_=Math.imul(q0,v0),B=Math.imul(q0,g0),B=B+Math.imul(I0,v0)|0,x=Math.imul(I0,g0),_=_+Math.imul(H0,w0)|0,B=B+Math.imul(H0,_0)|0,B=B+Math.imul(T0,w0)|0,x=x+Math.imul(T0,_0)|0,_=_+Math.imul(U0,x0)|0,B=B+Math.imul(U0,S0)|0,B=B+Math.imul(D0,x0)|0,x=x+Math.imul(D0,S0)|0,_=_+Math.imul(i,y0)|0,B=B+Math.imul(i,B0)|0,B=B+Math.imul(Y0,y0)|0,x=x+Math.imul(Y0,B0)|0,_=_+Math.imul(Q0,g)|0,B=B+Math.imul(Q0,y)|0,B=B+Math.imul($0,g)|0,x=x+Math.imul($0,y)|0,_=_+Math.imul(m,X0)|0,B=B+Math.imul(m,V0)|0,B=B+Math.imul(n,X0)|0,x=x+Math.imul(n,V0)|0,_=_+Math.imul(G0,A0)|0,B=B+Math.imul(G0,E0)|0,B=B+Math.imul(W0,A0)|0,x=x+Math.imul(W0,E0)|0,_=_+Math.imul(d,h0)|0,B=B+Math.imul(d,k0)|0,B=B+Math.imul(o,h0)|0,x=x+Math.imul(o,k0)|0,_=_+Math.imul(l,j0)|0,B=B+Math.imul(l,N0)|0,B=B+Math.imul(r,j0)|0,x=x+Math.imul(r,N0)|0;var XQ=(q+_|0)+((B&8191)<<13)|0;q=(x+(B>>>13)|0)+(XQ>>>26)|0,XQ&=67108863,_=Math.imul(F0,v0),B=Math.imul(F0,g0),B=B+Math.imul(f0,v0)|0,x=Math.imul(f0,g0),_=_+Math.imul(q0,w0)|0,B=B+Math.imul(q0,_0)|0,B=B+Math.imul(I0,w0)|0,x=x+Math.imul(I0,_0)|0,_=_+Math.imul(H0,x0)|0,B=B+Math.imul(H0,S0)|0,B=B+Math.imul(T0,x0)|0,x=x+Math.imul(T0,S0)|0,_=_+Math.imul(U0,y0)|0,B=B+Math.imul(U0,B0)|0,B=B+Math.imul(D0,y0)|0,x=x+Math.imul(D0,B0)|0,_=_+Math.imul(i,g)|0,B=B+Math.imul(i,y)|0,B=B+Math.imul(Y0,g)|0,x=x+Math.imul(Y0,y)|0,_=_+Math.imul(Q0,X0)|0,B=B+Math.imul(Q0,V0)|0,B=B+Math.imul($0,X0)|0,x=x+Math.imul($0,V0)|0,_=_+Math.imul(m,A0)|0,B=B+Math.imul(m,E0)|0,B=B+Math.imul(n,A0)|0,x=x+Math.imul(n,E0)|0,_=_+Math.imul(G0,h0)|0,B=B+Math.imul(G0,k0)|0,B=B+Math.imul(W0,h0)|0,x=x+Math.imul(W0,k0)|0,_=_+Math.imul(d,j0)|0,B=B+Math.imul(d,N0)|0,B=B+Math.imul(o,j0)|0,x=x+Math.imul(o,N0)|0,_=_+Math.imul(l,t0)|0,B=B+Math.imul(l,r0)|0,B=B+Math.imul(r,t0)|0,x=x+Math.imul(r,r0)|0;var ZQ=(q+_|0)+((B&8191)<<13)|0;q=(x+(B>>>13)|0)+(ZQ>>>26)|0,ZQ&=67108863,_=Math.imul(F0,w0),B=Math.imul(F0,_0),B=B+Math.imul(f0,w0)|0,x=Math.imul(f0,_0),_=_+Math.imul(q0,x0)|0,B=B+Math.imul(q0,S0)|0,B=B+Math.imul(I0,x0)|0,x=x+Math.imul(I0,S0)|0,_=_+Math.imul(H0,y0)|0,B=B+Math.imul(H0,B0)|0,B=B+Math.imul(T0,y0)|0,x=x+Math.imul(T0,B0)|0,_=_+Math.imul(U0,g)|0,B=B+Math.imul(U0,y)|0,B=B+Math.imul(D0,g)|0,x=x+Math.imul(D0,y)|0,_=_+Math.imul(i,X0)|0,B=B+Math.imul(i,V0)|0,B=B+Math.imul(Y0,X0)|0,x=x+Math.imul(Y0,V0)|0,_=_+Math.imul(Q0,A0)|0,B=B+Math.imul(Q0,E0)|0,B=B+Math.imul($0,A0)|0,x=x+Math.imul($0,E0)|0,_=_+Math.imul(m,h0)|0,B=B+Math.imul(m,k0)|0,B=B+Math.imul(n,h0)|0,x=x+Math.imul(n,k0)|0,_=_+Math.imul(G0,j0)|0,B=B+Math.imul(G0,N0)|0,B=B+Math.imul(W0,j0)|0,x=x+Math.imul(W0,N0)|0,_=_+Math.imul(d,t0)|0,B=B+Math.imul(d,r0)|0,B=B+Math.imul(o,t0)|0,x=x+Math.imul(o,r0)|0;var YQ=(q+_|0)+((B&8191)<<13)|0;q=(x+(B>>>13)|0)+(YQ>>>26)|0,YQ&=67108863,_=Math.imul(F0,x0),B=Math.imul(F0,S0),B=B+Math.imul(f0,x0)|0,x=Math.imul(f0,S0),_=_+Math.imul(q0,y0)|0,B=B+Math.imul(q0,B0)|0,B=B+Math.imul(I0,y0)|0,x=x+Math.imul(I0,B0)|0,_=_+Math.imul(H0,g)|0,B=B+Math.imul(H0,y)|0,B=B+Math.imul(T0,g)|0,x=x+Math.imul(T0,y)|0,_=_+Math.imul(U0,X0)|0,B=B+Math.imul(U0,V0)|0,B=B+Math.imul(D0,X0)|0,x=x+Math.imul(D0,V0)|0,_=_+Math.imul(i,A0)|0,B=B+Math.imul(i,E0)|0,B=B+Math.imul(Y0,A0)|0,x=x+Math.imul(Y0,E0)|0,_=_+Math.imul(Q0,h0)|0,B=B+Math.imul(Q0,k0)|0,B=B+Math.imul($0,h0)|0,x=x+Math.imul($0,k0)|0,_=_+Math.imul(m,j0)|0,B=B+Math.imul(m,N0)|0,B=B+Math.imul(n,j0)|0,x=x+Math.imul(n,N0)|0,_=_+Math.imul(G0,t0)|0,B=B+Math.imul(G0,r0)|0,B=B+Math.imul(W0,t0)|0,x=x+Math.imul(W0,r0)|0;var JQ=(q+_|0)+((B&8191)<<13)|0;q=(x+(B>>>13)|0)+(JQ>>>26)|0,JQ&=67108863,_=Math.imul(F0,y0),B=Math.imul(F0,B0),B=B+Math.imul(f0,y0)|0,x=Math.imul(f0,B0),_=_+Math.imul(q0,g)|0,B=B+Math.imul(q0,y)|0,B=B+Math.imul(I0,g)|0,x=x+Math.imul(I0,y)|0,_=_+Math.imul(H0,X0)|0,B=B+Math.imul(H0,V0)|0,B=B+Math.imul(T0,X0)|0,x=x+Math.imul(T0,V0)|0,_=_+Math.imul(U0,A0)|0,B=B+Math.imul(U0,E0)|0,B=B+Math.imul(D0,A0)|0,x=x+Math.imul(D0,E0)|0,_=_+Math.imul(i,h0)|0,B=B+Math.imul(i,k0)|0,B=B+Math.imul(Y0,h0)|0,x=x+Math.imul(Y0,k0)|0,_=_+Math.imul(Q0,j0)|0,B=B+Math.imul(Q0,N0)|0,B=B+Math.imul($0,j0)|0,x=x+Math.imul($0,N0)|0,_=_+Math.imul(m,t0)|0,B=B+Math.imul(m,r0)|0,B=B+Math.imul(n,t0)|0,x=x+Math.imul(n,r0)|0;var GQ=(q+_|0)+((B&8191)<<13)|0;q=(x+(B>>>13)|0)+(GQ>>>26)|0,GQ&=67108863,_=Math.imul(F0,g),B=Math.imul(F0,y),B=B+Math.imul(f0,g)|0,x=Math.imul(f0,y),_=_+Math.imul(q0,X0)|0,B=B+Math.imul(q0,V0)|0,B=B+Math.imul(I0,X0)|0,x=x+Math.imul(I0,V0)|0,_=_+Math.imul(H0,A0)|0,B=B+Math.imul(H0,E0)|0,B=B+Math.imul(T0,A0)|0,x=x+Math.imul(T0,E0)|0,_=_+Math.imul(U0,h0)|0,B=B+Math.imul(U0,k0)|0,B=B+Math.imul(D0,h0)|0,x=x+Math.imul(D0,k0)|0,_=_+Math.imul(i,j0)|0,B=B+Math.imul(i,N0)|0,B=B+Math.imul(Y0,j0)|0,x=x+Math.imul(Y0,N0)|0,_=_+Math.imul(Q0,t0)|0,B=B+Math.imul(Q0,r0)|0,B=B+Math.imul($0,t0)|0,x=x+Math.imul($0,r0)|0;var WQ=(q+_|0)+((B&8191)<<13)|0;q=(x+(B>>>13)|0)+(WQ>>>26)|0,WQ&=67108863,_=Math.imul(F0,X0),B=Math.imul(F0,V0),B=B+Math.imul(f0,X0)|0,x=Math.imul(f0,V0),_=_+Math.imul(q0,A0)|0,B=B+Math.imul(q0,E0)|0,B=B+Math.imul(I0,A0)|0,x=x+Math.imul(I0,E0)|0,_=_+Math.imul(H0,h0)|0,B=B+Math.imul(H0,k0)|0,B=B+Math.imul(T0,h0)|0,x=x+Math.imul(T0,k0)|0,_=_+Math.imul(U0,j0)|0,B=B+Math.imul(U0,N0)|0,B=B+Math.imul(D0,j0)|0,x=x+Math.imul(D0,N0)|0,_=_+Math.imul(i,t0)|0,B=B+Math.imul(i,r0)|0,B=B+Math.imul(Y0,t0)|0,x=x+Math.imul(Y0,r0)|0;var VQ=(q+_|0)+((B&8191)<<13)|0;q=(x+(B>>>13)|0)+(VQ>>>26)|0,VQ&=67108863,_=Math.imul(F0,A0),B=Math.imul(F0,E0),B=B+Math.imul(f0,A0)|0,x=Math.imul(f0,E0),_=_+Math.imul(q0,h0)|0,B=B+Math.imul(q0,k0)|0,B=B+Math.imul(I0,h0)|0,x=x+Math.imul(I0,k0)|0,_=_+Math.imul(H0,j0)|0,B=B+Math.imul(H0,N0)|0,B=B+Math.imul(T0,j0)|0,x=x+Math.imul(T0,N0)|0,_=_+Math.imul(U0,t0)|0,B=B+Math.imul(U0,r0)|0,B=B+Math.imul(D0,t0)|0,x=x+Math.imul(D0,r0)|0;var UQ=(q+_|0)+((B&8191)<<13)|0;q=(x+(B>>>13)|0)+(UQ>>>26)|0,UQ&=67108863,_=Math.imul(F0,h0),B=Math.imul(F0,k0),B=B+Math.imul(f0,h0)|0,x=Math.imul(f0,k0),_=_+Math.imul(q0,j0)|0,B=B+Math.imul(q0,N0)|0,B=B+Math.imul(I0,j0)|0,x=x+Math.imul(I0,N0)|0,_=_+Math.imul(H0,t0)|0,B=B+Math.imul(H0,r0)|0,B=B+Math.imul(T0,t0)|0,x=x+Math.imul(T0,r0)|0;var RU=(q+_|0)+((B&8191)<<13)|0;q=(x+(B>>>13)|0)+(RU>>>26)|0,RU&=67108863,_=Math.imul(F0,j0),B=Math.imul(F0,N0),B=B+Math.imul(f0,j0)|0,x=Math.imul(f0,N0),_=_+Math.imul(q0,t0)|0,B=B+Math.imul(q0,r0)|0,B=B+Math.imul(I0,t0)|0,x=x+Math.imul(I0,r0)|0;var EU=(q+_|0)+((B&8191)<<13)|0;q=(x+(B>>>13)|0)+(EU>>>26)|0,EU&=67108863,_=Math.imul(F0,t0),B=Math.imul(F0,r0),B=B+Math.imul(f0,t0)|0,x=Math.imul(f0,r0);var IU=(q+_|0)+((B&8191)<<13)|0;if(q=(x+(B>>>13)|0)+(IU>>>26)|0,IU&=67108863,W[0]=I$,W[1]=i$,W[2]=r$,W[3]=a$,W[4]=t$,W[5]=e$,W[6]=$Q,W[7]=QQ,W[8]=XQ,W[9]=ZQ,W[10]=YQ,W[11]=JQ,W[12]=GQ,W[13]=WQ,W[14]=VQ,W[15]=UQ,W[16]=RU,W[17]=EU,W[18]=IU,q!==0)W[19]=q,C.length++;return C};if(!Math.imul)k=w;function f(O,U,z){z.negative=U.negative^O.negative,z.length=O.length+U.length;var C=0,R=0;for(var L=0;L<z.length-1;L++){var W=R;R=0;var q=C&67108863,_=Math.min(L,U.length-1);for(var B=Math.max(0,L-O.length+1);B<=_;B++){var x=L-B,b=O.words[x]|0,l=U.words[B]|0,r=b*l,z0=r&67108863;W=W+(r/67108864|0)|0,z0=z0+q|0,q=z0&67108863,W=W+(z0>>>26)|0,R+=W>>>26,W&=67108863}z.words[L]=q,C=W,W=R}if(C!==0)z.words[L]=C;else z.length--;return z._strip()}function v(O,U,z){return f(O,U,z)}G.prototype.mulTo=function O(U,z){var C,R=this.length+U.length;if(this.length===10&&U.length===10)C=k(this,U,z);else if(R<63)C=w(this,U,z);else if(R<1024)C=f(this,U,z);else C=v(this,U,z);return C};function c(O,U){this.x=O,this.y=U}c.prototype.makeRBT=function O(U){var z=new Array(U),C=G.prototype._countBits(U)-1;for(var R=0;R<U;R++)z[R]=this.revBin(R,C,U);return z},c.prototype.revBin=function O(U,z,C){if(U===0||U===C-1)return U;var R=0;for(var L=0;L<z;L++)R|=(U&1)<<z-L-1,U>>=1;return R},c.prototype.permute=function O(U,z,C,R,L,W){for(var q=0;q<W;q++)R[q]=z[U[q]],L[q]=C[U[q]]},c.prototype.transform=function O(U,z,C,R,L,W){this.permute(W,U,z,C,R,L);for(var q=1;q<L;q<<=1){var _=q<<1,B=Math.cos(2*Math.PI/_),x=Math.sin(2*Math.PI/_);for(var b=0;b<L;b+=_){var l=B,r=x;for(var z0=0;z0<q;z0++){var d=C[b+z0],o=R[b+z0],R0=C[b+z0+q],G0=R[b+z0+q],W0=l*R0-r*G0;if(G0=l*G0+r*R0,R0=W0,C[b+z0]=d+R0,R[b+z0]=o+G0,C[b+z0+q]=d-R0,R[b+z0+q]=o-G0,z0!==_)W0=B*l-x*r,r=B*r+x*l,l=W0}}}},c.prototype.guessLen13b=function O(U,z){var C=Math.max(z,U)|1,R=C&1,L=0;for(C=C/2|0;C;C=C>>>1)L++;return 1<<L+1+R},c.prototype.conjugate=function O(U,z,C){if(C<=1)return;for(var R=0;R<C/2;R++){var L=U[R];U[R]=U[C-R-1],U[C-R-1]=L,L=z[R],z[R]=-z[C-R-1],z[C-R-1]=-L}},c.prototype.normalize13b=function O(U,z){var C=0;for(var R=0;R<z/2;R++){var L=Math.round(U[2*R+1]/z)*8192+Math.round(U[2*R]/z)+C;if(U[R]=L&67108863,L<67108864)C=0;else C=L/67108864|0}return U},c.prototype.convert13b=function O(U,z,C,R){var L=0;for(var W=0;W<z;W++)L=L+(U[W]|0),C[2*W]=L&8191,L=L>>>13,C[2*W+1]=L&8191,L=L>>>13;for(W=2*z;W<R;++W)C[W]=0;Y(L===0),Y((L&-8192)===0)},c.prototype.stub=function O(U){var z=new Array(U);for(var C=0;C<U;C++)z[C]=0;return z},c.prototype.mulp=function O(U,z,C){var R=2*this.guessLen13b(U.length,z.length),L=this.makeRBT(R),W=this.stub(R),q=new Array(R),_=new Array(R),B=new Array(R),x=new Array(R),b=new Array(R),l=new Array(R),r=C.words;r.length=R,this.convert13b(U.words,U.length,q,R),this.convert13b(z.words,z.length,x,R),this.transform(q,W,_,B,R,L),this.transform(x,W,b,l,R,L);for(var z0=0;z0<R;z0++){var d=_[z0]*b[z0]-B[z0]*l[z0];B[z0]=_[z0]*l[z0]+B[z0]*b[z0],_[z0]=d}return this.conjugate(_,B,R),this.transform(_,B,r,W,R,L),this.conjugate(r,W,R),this.normalize13b(r,R),C.negative=U.negative^z.negative,C.length=U.length+z.length,C._strip()},G.prototype.mul=function O(U){var z=new G(null);return z.words=new Array(this.length+U.length),this.mulTo(U,z)},G.prototype.mulf=function O(U){var z=new G(null);return z.words=new Array(this.length+U.length),v(this,U,z)},G.prototype.imul=function O(U){return this.clone().mulTo(U,this)},G.prototype.imuln=function O(U){var z=U<0;if(z)U=-U;Y(typeof U==="number"),Y(U<67108864);var C=0;for(var R=0;R<this.length;R++){var L=(this.words[R]|0)*U,W=(L&67108863)+(C&67108863);C>>=26,C+=L/67108864|0,C+=W>>>26,this.words[R]=W&67108863}if(C!==0)this.words[R]=C,this.length++;return this.length=U===0?1:this.length,z?this.ineg():this},G.prototype.muln=function O(U){return this.clone().imuln(U)},G.prototype.sqr=function O(){return this.mul(this)},G.prototype.isqr=function O(){return this.imul(this.clone())},G.prototype.pow=function O(U){var z=N(U);if(z.length===0)return new G(1);var C=this;for(var R=0;R<z.length;R++,C=C.sqr())if(z[R]!==0)break;if(++R<z.length)for(var L=C.sqr();R<z.length;R++,L=L.sqr()){if(z[R]===0)continue;C=C.mul(L)}return C},G.prototype.iushln=function O(U){Y(typeof U==="number"&&U>=0);var z=U%26,C=(U-z)/26,R=67108863>>>26-z<<26-z,L;if(z!==0){var W=0;for(L=0;L<this.length;L++){var q=this.words[L]&R,_=(this.words[L]|0)-q<<z;this.words[L]=_|W,W=q>>>26-z}if(W)this.words[L]=W,this.length++}if(C!==0){for(L=this.length-1;L>=0;L--)this.words[L+C]=this.words[L];for(L=0;L<C;L++)this.words[L]=0;this.length+=C}return this._strip()},G.prototype.ishln=function O(U){return Y(this.negative===0),this.iushln(U)},G.prototype.iushrn=function O(U,z,C){Y(typeof U==="number"&&U>=0);var R;if(z)R=(z-z%26)/26;else R=0;var L=U%26,W=Math.min((U-L)/26,this.length),q=67108863^67108863>>>L<<L,_=C;if(R-=W,R=Math.max(0,R),_){for(var B=0;B<W;B++)_.words[B]=this.words[B];_.length=W}if(W===0);else if(this.length>W){this.length-=W;for(B=0;B<this.length;B++)this.words[B]=this.words[B+W]}else this.words[0]=0,this.length=1;var x=0;for(B=this.length-1;B>=0&&(x!==0||B>=R);B--){var b=this.words[B]|0;this.words[B]=x<<26-L|b>>>L,x=b&q}if(_&&x!==0)_.words[_.length++]=x;if(this.length===0)this.words[0]=0,this.length=1;return this._strip()},G.prototype.ishrn=function O(U,z,C){return Y(this.negative===0),this.iushrn(U,z,C)},G.prototype.shln=function O(U){return this.clone().ishln(U)},G.prototype.ushln=function O(U){return this.clone().iushln(U)},G.prototype.shrn=function O(U){return this.clone().ishrn(U)},G.prototype.ushrn=function O(U){return this.clone().iushrn(U)},G.prototype.testn=function O(U){Y(typeof U==="number"&&U>=0);var z=U%26,C=(U-z)/26,R=1<<z;if(this.length<=C)return!1;var L=this.words[C];return!!(L&R)},G.prototype.imaskn=function O(U){Y(typeof U==="number"&&U>=0);var z=U%26,C=(U-z)/26;if(Y(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(z!==0)C++;if(this.length=Math.min(C,this.length),z!==0){var R=67108863^67108863>>>z<<z;this.words[this.length-1]&=R}return this._strip()},G.prototype.maskn=function O(U){return this.clone().imaskn(U)},G.prototype.iaddn=function O(U){if(Y(typeof U==="number"),Y(U<67108864),U<0)return this.isubn(-U);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<=U)return this.words[0]=U-(this.words[0]|0),this.negative=0,this;return this.negative=0,this.isubn(U),this.negative=1,this}return this._iaddn(U)},G.prototype._iaddn=function O(U){this.words[0]+=U;for(var z=0;z<this.length&&this.words[z]>=67108864;z++)if(this.words[z]-=67108864,z===this.length-1)this.words[z+1]=1;else this.words[z+1]++;return this.length=Math.max(this.length,z+1),this},G.prototype.isubn=function O(U){if(Y(typeof U==="number"),Y(U<67108864),U<0)return this.iaddn(-U);if(this.negative!==0)return this.negative=0,this.iaddn(U),this.negative=1,this;if(this.words[0]-=U,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var z=0;z<this.length&&this.words[z]<0;z++)this.words[z]+=67108864,this.words[z+1]-=1;return this._strip()},G.prototype.addn=function O(U){return this.clone().iaddn(U)},G.prototype.subn=function O(U){return this.clone().isubn(U)},G.prototype.iabs=function O(){return this.negative=0,this},G.prototype.abs=function O(){return this.clone().iabs()},G.prototype._ishlnsubmul=function O(U,z,C){var R=U.length+C,L;this._expand(R);var W,q=0;for(L=0;L<U.length;L++){W=(this.words[L+C]|0)+q;var _=(U.words[L]|0)*z;W-=_&67108863,q=(W>>26)-(_/67108864|0),this.words[L+C]=W&67108863}for(;L<this.length-C;L++)W=(this.words[L+C]|0)+q,q=W>>26,this.words[L+C]=W&67108863;if(q===0)return this._strip();Y(q===-1),q=0;for(L=0;L<this.length;L++)W=-(this.words[L]|0)+q,q=W>>26,this.words[L]=W&67108863;return this.negative=1,this._strip()},G.prototype._wordDiv=function O(U,z){var C=this.length-U.length,R=this.clone(),L=U,W=L.words[L.length-1]|0,q=this._countBits(W);if(C=26-q,C!==0)L=L.ushln(C),R.iushln(C),W=L.words[L.length-1]|0;var _=R.length-L.length,B;if(z!=="mod"){B=new G(null),B.length=_+1,B.words=new Array(B.length);for(var x=0;x<B.length;x++)B.words[x]=0}var b=R.clone()._ishlnsubmul(L,1,_);if(b.negative===0){if(R=b,B)B.words[_]=1}for(var l=_-1;l>=0;l--){var r=(R.words[L.length+l]|0)*67108864+(R.words[L.length+l-1]|0);r=Math.min(r/W|0,67108863),R._ishlnsubmul(L,r,l);while(R.negative!==0)if(r--,R.negative=0,R._ishlnsubmul(L,1,l),!R.isZero())R.negative^=1;if(B)B.words[l]=r}if(B)B._strip();if(R._strip(),z!=="div"&&C!==0)R.iushrn(C);return{div:B||null,mod:R}},G.prototype.divmod=function O(U,z,C){if(Y(!U.isZero()),this.isZero())return{div:new G(0),mod:new G(0)};var R,L,W;if(this.negative!==0&&U.negative===0){if(W=this.neg().divmod(U,z),z!=="mod")R=W.div.neg();if(z!=="div"){if(L=W.mod.neg(),C&&L.negative!==0)L.iadd(U)}return{div:R,mod:L}}if(this.negative===0&&U.negative!==0){if(W=this.divmod(U.neg(),z),z!=="mod")R=W.div.neg();return{div:R,mod:W.mod}}if((this.negative&U.negative)!==0){if(W=this.neg().divmod(U.neg(),z),z!=="div"){if(L=W.mod.neg(),C&&L.negative!==0)L.isub(U)}return{div:W.div,mod:L}}if(U.length>this.length||this.cmp(U)<0)return{div:new G(0),mod:this};if(U.length===1){if(z==="div")return{div:this.divn(U.words[0]),mod:null};if(z==="mod")return{div:null,mod:new G(this.modrn(U.words[0]))};return{div:this.divn(U.words[0]),mod:new G(this.modrn(U.words[0]))}}return this._wordDiv(U,z)},G.prototype.div=function O(U){return this.divmod(U,"div",!1).div},G.prototype.mod=function O(U){return this.divmod(U,"mod",!1).mod},G.prototype.umod=function O(U){return this.divmod(U,"mod",!0).mod},G.prototype.divRound=function O(U){var z=this.divmod(U);if(z.mod.isZero())return z.div;var C=z.div.negative!==0?z.mod.isub(U):z.mod,R=U.ushrn(1),L=U.andln(1),W=C.cmp(R);if(W<0||L===1&&W===0)return z.div;return z.div.negative!==0?z.div.isubn(1):z.div.iaddn(1)},G.prototype.modrn=function O(U){var z=U<0;if(z)U=-U;Y(U<=67108863);var C=67108864%U,R=0;for(var L=this.length-1;L>=0;L--)R=(C*R+(this.words[L]|0))%U;return z?-R:R},G.prototype.modn=function O(U){return this.modrn(U)},G.prototype.idivn=function O(U){var z=U<0;if(z)U=-U;Y(U<=67108863);var C=0;for(var R=this.length-1;R>=0;R--){var L=(this.words[R]|0)+C*67108864;this.words[R]=L/U|0,C=L%U}return this._strip(),z?this.ineg():this},G.prototype.divn=function O(U){return this.clone().idivn(U)},G.prototype.egcd=function O(U){Y(U.negative===0),Y(!U.isZero());var z=this,C=U.clone();if(z.negative!==0)z=z.umod(U);else z=z.clone();var R=new G(1),L=new G(0),W=new G(0),q=new G(1),_=0;while(z.isEven()&&C.isEven())z.iushrn(1),C.iushrn(1),++_;var B=C.clone(),x=z.clone();while(!z.isZero()){for(var b=0,l=1;(z.words[0]&l)===0&&b<26;++b,l<<=1);if(b>0){z.iushrn(b);while(b-- >0){if(R.isOdd()||L.isOdd())R.iadd(B),L.isub(x);R.iushrn(1),L.iushrn(1)}}for(var r=0,z0=1;(C.words[0]&z0)===0&&r<26;++r,z0<<=1);if(r>0){C.iushrn(r);while(r-- >0){if(W.isOdd()||q.isOdd())W.iadd(B),q.isub(x);W.iushrn(1),q.iushrn(1)}}if(z.cmp(C)>=0)z.isub(C),R.isub(W),L.isub(q);else C.isub(z),W.isub(R),q.isub(L)}return{a:W,b:q,gcd:C.iushln(_)}},G.prototype._invmp=function O(U){Y(U.negative===0),Y(!U.isZero());var z=this,C=U.clone();if(z.negative!==0)z=z.umod(U);else z=z.clone();var R=new G(1),L=new G(0),W=C.clone();while(z.cmpn(1)>0&&C.cmpn(1)>0){for(var q=0,_=1;(z.words[0]&_)===0&&q<26;++q,_<<=1);if(q>0){z.iushrn(q);while(q-- >0){if(R.isOdd())R.iadd(W);R.iushrn(1)}}for(var B=0,x=1;(C.words[0]&x)===0&&B<26;++B,x<<=1);if(B>0){C.iushrn(B);while(B-- >0){if(L.isOdd())L.iadd(W);L.iushrn(1)}}if(z.cmp(C)>=0)z.isub(C),R.isub(L);else C.isub(z),L.isub(R)}var b;if(z.cmpn(1)===0)b=R;else b=L;if(b.cmpn(0)<0)b.iadd(U);return b},G.prototype.gcd=function O(U){if(this.isZero())return U.abs();if(U.isZero())return this.abs();var z=this.clone(),C=U.clone();z.negative=0,C.negative=0;for(var R=0;z.isEven()&&C.isEven();R++)z.iushrn(1),C.iushrn(1);do{while(z.isEven())z.iushrn(1);while(C.isEven())C.iushrn(1);var L=z.cmp(C);if(L<0){var W=z;z=C,C=W}else if(L===0||C.cmpn(1)===0)break;z.isub(C)}while(!0);return C.iushln(R)},G.prototype.invm=function O(U){return this.egcd(U).a.umod(U)},G.prototype.isEven=function O(){return(this.words[0]&1)===0},G.prototype.isOdd=function O(){return(this.words[0]&1)===1},G.prototype.andln=function O(U){return this.words[0]&U},G.prototype.bincn=function O(U){Y(typeof U==="number");var z=U%26,C=(U-z)/26,R=1<<z;if(this.length<=C)return this._expand(C+1),this.words[C]|=R,this;var L=R;for(var W=C;L!==0&&W<this.length;W++){var q=this.words[W]|0;q+=L,L=q>>>26,q&=67108863,this.words[W]=q}if(L!==0)this.words[W]=L,this.length++;return this},G.prototype.isZero=function O(){return this.length===1&&this.words[0]===0},G.prototype.cmpn=function O(U){var z=U<0;if(this.negative!==0&&!z)return-1;if(this.negative===0&&z)return 1;this._strip();var C;if(this.length>1)C=1;else{if(z)U=-U;Y(U<=67108863,"Number is too big");var R=this.words[0]|0;C=R===U?0:R<U?-1:1}if(this.negative!==0)return-C|0;return C},G.prototype.cmp=function O(U){if(this.negative!==0&&U.negative===0)return-1;if(this.negative===0&&U.negative!==0)return 1;var z=this.ucmp(U);if(this.negative!==0)return-z|0;return z},G.prototype.ucmp=function O(U){if(this.length>U.length)return 1;if(this.length<U.length)return-1;var z=0;for(var C=this.length-1;C>=0;C--){var R=this.words[C]|0,L=U.words[C]|0;if(R===L)continue;if(R<L)z=-1;else if(R>L)z=1;break}return z},G.prototype.gtn=function O(U){return this.cmpn(U)===1},G.prototype.gt=function O(U){return this.cmp(U)===1},G.prototype.gten=function O(U){return this.cmpn(U)>=0},G.prototype.gte=function O(U){return this.cmp(U)>=0},G.prototype.ltn=function O(U){return this.cmpn(U)===-1},G.prototype.lt=function O(U){return this.cmp(U)===-1},G.prototype.lten=function O(U){return this.cmpn(U)<=0},G.prototype.lte=function O(U){return this.cmp(U)<=0},G.prototype.eqn=function O(U){return this.cmpn(U)===0},G.prototype.eq=function O(U){return this.cmp(U)===0},G.red=function O(U){return new J(U)},G.prototype.toRed=function O(U){return Y(!this.red,"Already a number in reduction context"),Y(this.negative===0,"red works only with positives"),U.convertTo(this)._forceRed(U)},G.prototype.fromRed=function O(){return Y(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},G.prototype._forceRed=function O(U){return this.red=U,this},G.prototype.forceRed=function O(U){return Y(!this.red,"Already a number in reduction context"),this._forceRed(U)},G.prototype.redAdd=function O(U){return Y(this.red,"redAdd works only with red numbers"),this.red.add(this,U)},G.prototype.redIAdd=function O(U){return Y(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,U)},G.prototype.redSub=function O(U){return Y(this.red,"redSub works only with red numbers"),this.red.sub(this,U)},G.prototype.redISub=function O(U){return Y(this.red,"redISub works only with red numbers"),this.red.isub(this,U)},G.prototype.redShl=function O(U){return Y(this.red,"redShl works only with red numbers"),this.red.shl(this,U)},G.prototype.redMul=function O(U){return Y(this.red,"redMul works only with red numbers"),this.red._verify2(this,U),this.red.mul(this,U)},G.prototype.redIMul=function O(U){return Y(this.red,"redMul works only with red numbers"),this.red._verify2(this,U),this.red.imul(this,U)},G.prototype.redSqr=function O(){return Y(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},G.prototype.redISqr=function O(){return Y(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},G.prototype.redSqrt=function O(){return Y(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},G.prototype.redInvm=function O(){return Y(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},G.prototype.redNeg=function O(){return Y(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},G.prototype.redPow=function O(U){return Y(this.red&&!U.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,U)};var u={k256:null,p224:null,p192:null,p25519:null};function Z0(O,U){this.name=O,this.p=new G(U,16),this.n=this.p.bitLength(),this.k=new G(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Z0.prototype._tmp=function O(){var U=new G(null);return U.words=new Array(Math.ceil(this.n/13)),U},Z0.prototype.ireduce=function O(U){var z=U,C;do this.split(z,this.tmp),z=this.imulK(z),z=z.iadd(this.tmp),C=z.bitLength();while(C>this.n);var R=C<this.n?-1:z.ucmp(this.p);if(R===0)z.words[0]=0,z.length=1;else if(R>0)z.isub(this.p);else if(z.strip!==void 0)z.strip();else z._strip();return z},Z0.prototype.split=function O(U,z){U.iushrn(this.n,0,z)},Z0.prototype.imulK=function O(U){return U.imul(this.k)};function e(){Z0.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}V(e,Z0),e.prototype.split=function O(U,z){var C=4194303,R=Math.min(U.length,9);for(var L=0;L<R;L++)z.words[L]=U.words[L];if(z.length=R,U.length<=9){U.words[0]=0,U.length=1;return}var W=U.words[9];z.words[z.length++]=W&C;for(L=10;L<U.length;L++){var q=U.words[L]|0;U.words[L-10]=(q&C)<<4|W>>>22,W=q}if(W>>>=22,U.words[L-10]=W,W===0&&U.length>10)U.length-=10;else U.length-=9},e.prototype.imulK=function O(U){U.words[U.length]=0,U.words[U.length+1]=0,U.length+=2;var z=0;for(var C=0;C<U.length;C++){var R=U.words[C]|0;z+=R*977,U.words[C]=z&67108863,z=R*64+(z/67108864|0)}if(U.words[U.length-1]===0){if(U.length--,U.words[U.length-1]===0)U.length--}return U};function p(){Z0.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}V(p,Z0);function s(){Z0.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}V(s,Z0);function E(){Z0.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}V(E,Z0),E.prototype.imulK=function O(U){var z=0;for(var C=0;C<U.length;C++){var R=(U.words[C]|0)*19+z,L=R&67108863;R>>>=26,U.words[C]=L,z=R}if(z!==0)U.words[U.length++]=z;return U},G._prime=function O(U){if(u[U])return u[U];var z;if(U==="k256")z=new e;else if(U==="p224")z=new p;else if(U==="p192")z=new s;else if(U==="p25519")z=new E;else throw new Error("Unknown prime "+U);return u[U]=z,z};function J(O){if(typeof O==="string"){var U=G._prime(O);this.m=U.p,this.prime=U}else Y(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}J.prototype._verify1=function O(U){Y(U.negative===0,"red works only with positives"),Y(U.red,"red works only with red numbers")},J.prototype._verify2=function O(U,z){Y((U.negative|z.negative)===0,"red works only with positives"),Y(U.red&&U.red===z.red,"red works only with red numbers")},J.prototype.imod=function O(U){if(this.prime)return this.prime.ireduce(U)._forceRed(this);return F(U,U.umod(this.m)._forceRed(this)),U},J.prototype.neg=function O(U){if(U.isZero())return U.clone();return this.m.sub(U)._forceRed(this)},J.prototype.add=function O(U,z){this._verify2(U,z);var C=U.add(z);if(C.cmp(this.m)>=0)C.isub(this.m);return C._forceRed(this)},J.prototype.iadd=function O(U,z){this._verify2(U,z);var C=U.iadd(z);if(C.cmp(this.m)>=0)C.isub(this.m);return C},J.prototype.sub=function O(U,z){this._verify2(U,z);var C=U.sub(z);if(C.cmpn(0)<0)C.iadd(this.m);return C._forceRed(this)},J.prototype.isub=function O(U,z){this._verify2(U,z);var C=U.isub(z);if(C.cmpn(0)<0)C.iadd(this.m);return C},J.prototype.shl=function O(U,z){return this._verify1(U),this.imod(U.ushln(z))},J.prototype.imul=function O(U,z){return this._verify2(U,z),this.imod(U.imul(z))},J.prototype.mul=function O(U,z){return this._verify2(U,z),this.imod(U.mul(z))},J.prototype.isqr=function O(U){return this.imul(U,U.clone())},J.prototype.sqr=function O(U){return this.mul(U,U)},J.prototype.sqrt=function O(U){if(U.isZero())return U.clone();var z=this.m.andln(3);if(Y(z%2===1),z===3){var C=this.m.add(new G(1)).iushrn(2);return this.pow(U,C)}var R=this.m.subn(1),L=0;while(!R.isZero()&&R.andln(1)===0)L++,R.iushrn(1);Y(!R.isZero());var W=new G(1).toRed(this),q=W.redNeg(),_=this.m.subn(1).iushrn(1),B=this.m.bitLength();B=new G(2*B*B).toRed(this);while(this.pow(B,_).cmp(q)!==0)B.redIAdd(q);var x=this.pow(B,R),b=this.pow(U,R.addn(1).iushrn(1)),l=this.pow(U,R),r=L;while(l.cmp(W)!==0){var z0=l;for(var d=0;z0.cmp(W)!==0;d++)z0=z0.redSqr();Y(d<r);var o=this.pow(x,new G(1).iushln(r-d-1));b=b.redMul(o),x=o.redSqr(),l=l.redMul(x),r=d}return b},J.prototype.invm=function O(U){var z=U._invmp(this.m);if(z.negative!==0)return z.negative=0,this.imod(z).redNeg();else return this.imod(z)},J.prototype.pow=function O(U,z){if(z.isZero())return new G(1).toRed(this);if(z.cmpn(1)===0)return U.clone();var C=4,R=new Array(1<<C);R[0]=new G(1).toRed(this),R[1]=U;for(var L=2;L<R.length;L++)R[L]=this.mul(R[L-1],U);var W=R[0],q=0,_=0,B=z.bitLength()%26;if(B===0)B=26;for(L=z.length-1;L>=0;L--){var x=z.words[L];for(var b=B-1;b>=0;b--){var l=x>>b&1;if(W!==R[0])W=this.sqr(W);if(l===0&&q===0){_=0;continue}if(q<<=1,q|=l,_++,_!==C&&(L!==0||b!==0))continue;W=this.mul(W,R[q]),_=0,q=0}B=26}return W},J.prototype.convertTo=function O(U){var z=U.umod(this.m);return z===U?z.clone():z},J.prototype.convertFrom=function O(U){var z=U.clone();return z.red=null,z},G.mont=function O(U){return new K(U)};function K(O){if(J.call(this,O),this.shift=this.m.bitLength(),this.shift%26!==0)this.shift+=26-this.shift%26;this.r=new G(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}V(K,J),K.prototype.convertTo=function O(U){return this.imod(U.ushln(this.shift))},K.prototype.convertFrom=function O(U){var z=this.imod(U.mul(this.rinv));return z.red=null,z},K.prototype.imul=function O(U,z){if(U.isZero()||z.isZero())return U.words[0]=0,U.length=1,U;var C=U.imul(z),R=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=C.isub(R).iushrn(this.shift),W=L;if(L.cmp(this.m)>=0)W=L.isub(this.m);else if(L.cmpn(0)<0)W=L.iadd(this.m);return W._forceRed(this)},K.prototype.mul=function O(U,z){if(U.isZero()||z.isZero())return new G(0)._forceRed(this);var C=U.mul(z),R=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=C.isub(R).iushrn(this.shift),W=L;if(L.cmp(this.m)>=0)W=L.isub(this.m);else if(L.cmpn(0)<0)W=L.iadd(this.m);return W._forceRed(this)},K.prototype.invm=function O(U){var z=this.imod(U._invmp(this.m).mul(this.r2));return z._forceRed(this)}})(typeof Q==="undefined"||Q,$)}),lD=m0(($,Q)=>{var X=XS(),Z=LU(),Y=JX().Buffer;function V(D){var A=D.modulus.byteLength(),T;do T=new X(Z(A));while(T.cmp(D.modulus)>=0||!T.umod(D.prime1)||!T.umod(D.prime2));return T}function G(D){var A=V(D),T=A.toRed(X.mont(D.modulus)).redPow(new X(D.publicExponent)).fromRed();return{blinder:T,unblinder:A.invm(D.modulus)}}function H(D,A){var T=G(A),F=A.modulus.byteLength(),M=new X(D).mul(T.blinder).umod(A.modulus),I=M.toRed(X.mont(A.prime1)),P=M.toRed(X.mont(A.prime2)),S=A.coefficient,j=A.prime1,N=A.prime2,w=I.redPow(A.exponent1).fromRed(),k=P.redPow(A.exponent2).fromRed(),f=w.isub(k).imul(S).umod(j).imul(N);return k.iadd(f).imul(T.unblinder).umod(A.modulus).toArrayLike(Y,"be",F)}H.getr=V,Q.exports=H}),ZS=m0(($,Q)=>{var X=cD(),Z=LU(),Y=DU(),V=mD(),G=uD(),H=fO(),D=dD(),A=lD(),T=JX().Buffer;Q.exports=function P(S,j,N){var w;if(S.padding)w=S.padding;else if(N)w=1;else w=4;var k=X(S),f;if(w===4)f=F(k,j);else if(w===1)f=M(k,j,N);else if(w===3){if(f=new H(j),f.cmp(k.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");if(N)return A(f,k);else return D(f,k)};function F(P,S){var j=P.modulus.byteLength(),N=S.length,w=Y("sha1").update(T.alloc(0)).digest(),k=w.length,f=2*k;if(N>j-f-2)throw new Error("message too long");var v=T.alloc(j-N-f-2),c=j-k-1,u=Z(k),Z0=G(T.concat([w,v,T.alloc(1,1),S],c),V(u,c)),e=G(u,V(Z0,k));return new H(T.concat([T.alloc(1),e,Z0],j))}function M(P,S,j){var N=S.length,w=P.modulus.byteLength();if(N>w-11)throw new Error("message too long");var k;if(j)k=T.alloc(w-N-3,255);else k=I(w-N-3);return new H(T.concat([T.from([0,j?1:2]),k,T.alloc(1),S],w))}function I(P){var S=T.allocUnsafe(P),j=0,N=Z(P*2),w=0,k;while(j<P){if(w===N.length)N=Z(P*2),w=0;if(k=N[w++],k)S[j++]=k}return S}}),YS=m0(($,Q)=>{var X=cD(),Z=mD(),Y=uD(),V=fO(),G=lD(),H=DU(),D=dD(),A=JX().Buffer;Q.exports=function I(P,S,j){var N;if(P.padding)N=P.padding;else if(j)N=1;else N=4;var w=X(P),k=w.modulus.byteLength();if(S.length>k||new V(S).cmp(w.modulus)>=0)throw new Error("decryption error");var f;if(j)f=D(new V(S),w);else f=G(S,w);var v=A.alloc(k-f.length);if(f=A.concat([v,f],k),N===4)return T(w,f);else if(N===1)return F(w,f,j);else if(N===3)return f;else throw new Error("unknown padding")};function T(I,P){var S=I.modulus.byteLength(),j=H("sha1").update(A.alloc(0)).digest(),N=j.length;if(P[0]!==0)throw new Error("decryption error");var w=P.slice(1,N+1),k=P.slice(N+1),f=Y(w,Z(k,N)),v=Y(k,Z(f,S-N-1));if(M(j,v.slice(0,N)))throw new Error("decryption error");var c=N;while(v[c]===0)c++;if(v[c++]!==1)throw new Error("decryption error");return v.slice(c)}function F(I,P,S){var j=P.slice(0,2),N=2,w=0;while(P[N++]!==0)if(N>=P.length){w++;break}var k=P.slice(2,N-1);if(j.toString("hex")!=="0002"&&!S||j.toString("hex")!=="0001"&&S)w++;if(k.length<8)w++;if(w)throw new Error("decryption error");return P.slice(N)}function M(I,P){I=A.from(I),P=A.from(P);var S=0,j=I.length;if(I.length!==P.length)S++,j=Math.min(I.length,P.length);var N=-1;while(++N<j)S+=I[N]^P[N];return S}}),jO=m0(($)=>{$.publicEncrypt=ZS(),$.privateDecrypt=YS(),$.privateEncrypt=function Q(X,Z){return $.publicEncrypt(X,Z,!0)},$.publicDecrypt=function Q(X,Z){return $.privateDecrypt(X,Z,!0)}}),JS=m0(($)=>{var Q=(sQ(),$$(nQ));if(typeof Q.publicEncrypt!=="function")Q=jO();if($.publicEncrypt=Q.publicEncrypt,$.privateDecrypt=Q.privateDecrypt,typeof Q.privateEncrypt!=="function")$.privateEncrypt=jO().privateEncrypt;else $.privateEncrypt=Q.privateEncrypt;if(typeof Q.publicDecrypt!=="function")$.publicDecrypt=jO().publicDecrypt;else $.publicDecrypt=Q.publicDecrypt}),GS=m0(($)=>{var Q=JX(),X=LU(),Z=Q.Buffer,Y=Q.kMaxLength,V=globalThis.crypto||globalThis.msCrypto,G=Math.pow(2,32)-1;function H(M,I){if(typeof M!=="number"||M!==M)throw new TypeError("offset must be a number");if(M>G||M<0)throw new TypeError("offset must be a uint32");if(M>Y||M>I)throw new RangeError("offset out of range")}function D(M,I,P){if(typeof M!=="number"||M!==M)throw new TypeError("size must be a number");if(M>G||M<0)throw new TypeError("size must be a uint32");if(M+I>P||M>Y)throw new RangeError("buffer too small")}V&&V.getRandomValues,$.randomFill=A,$.randomFillSync=F;function A(M,I,P,S){if(!Z.isBuffer(M)&&!(M instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof I==="function")S=I,I=0,P=M.length;else if(typeof P==="function")S=P,P=M.length-I;else if(typeof S!=="function")throw new TypeError('"cb" argument must be a function');return H(I,M.length),D(P,I,M.length),T(M,I,P,S)}function T(M,I,P,S){if(!1)var j,N;if(S){X(P,function(k,f){if(k)return S(k);f.copy(M,I),S(null,M)});return}var w=X(P);return w.copy(M,I),M}function F(M,I,P){if(typeof I==="undefined")I=0;if(!Z.isBuffer(M)&&!(M instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(H(I,M.length),P===void 0)P=M.length-I;return D(P,I,M.length),T(M,I,P)}}),WS=m0(($,Q)=>{var X=(sQ(),$$(nQ));if(typeof X.randomFill==="function"&&typeof X.randomFillSync==="function")$.randomFill=X.randomFill,$.randomFillSync=X.randomFillSync;else Q.exports=GS()}),VS=m0(($)=>{$.randomBytes=$.rng=$.pseudoRandomBytes=$.prng=LU(),$.createHash=$.Hash=DU(),$.createHmac=$.Hmac=jD();var Q=zP(),X=Object.keys(Q),Z=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(X);$.getHashes=function(){return Z};var Y=wD();$.pbkdf2=Y.pbkdf2,$.pbkdf2Sync=Y.pbkdf2Sync;var V=LP();$.Cipher=V.Cipher,$.createCipher=V.createCipher,$.Cipheriv=V.Cipheriv,$.createCipheriv=V.createCipheriv,$.Decipher=V.Decipher,$.createDecipher=V.createDecipher,$.Decipheriv=V.Decipheriv,$.createDecipheriv=V.createDecipheriv,$.getCiphers=V.getCiphers,$.listCiphers=V.listCiphers;var G=DP();$.DiffieHellmanGroup=G.DiffieHellmanGroup,$.createDiffieHellmanGroup=G.createDiffieHellmanGroup,$.getDiffieHellman=G.getDiffieHellman,$.createDiffieHellman=G.createDiffieHellman,$.DiffieHellman=G.DiffieHellman;var H=qP();$.createSign=H.createSign,$.Sign=H.Sign,$.createVerify=H.createVerify,$.Verify=H.Verify,$.createECDH=bP();var D=JS();$.publicEncrypt=D.publicEncrypt,$.privateEncrypt=D.privateEncrypt,$.publicDecrypt=D.publicDecrypt,$.privateDecrypt=D.privateDecrypt;var A=WS();$.randomFill=A.randomFill,$.randomFillSync=A.randomFillSync,$.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},$.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}}),J$=OP(VS(),1),US=J$.prng,KS=J$.pseudoRandomBytes,OS=J$.rng,zS=J$.randomBytes,HS=J$.Hash,LS=J$.createHash,DS=J$.Hmac,qS=J$.createHmac,MS=J$.getHashes,AS=J$.pbkdf2,CS=J$.pbkdf2Sync,TS=J$.Cipher,FS=J$.createCipher,RS=J$.Cipheriv,ES=J$.createCipheriv,IS=J$.Decipher,PS=J$.createDecipher,SS=J$.Decipheriv,BS=J$.createDecipheriv,jS=J$.getCiphers,NS=J$.listCiphers,wS=J$.DiffieHellmanGroup,_S=J$.createDiffieHellmanGroup,xS=J$.getDiffieHellman,kS=J$.createDiffieHellman,fS=J$.DiffieHellman,vS=J$.createSign,gS=J$.Sign,yS=J$.createVerify,hS=J$.Verify,bS=J$.createECDH,pS=J$.publicEncrypt,cS=J$.privateEncrypt,mS=J$.publicDecrypt,uS=J$.privateDecrypt,dS=J$.randomFill,lS=J$.randomFillSync,oS=J$.createCredentials,nS=J$.constants,aS=["p192","p224","p256","p384","p521","curve25519","ed25519","secp256k1","secp224r1","prime256v1","prime192v1","ed25519","secp384r1","secp521r1"];eS=crypto,$3=crypto});var nD=L$((ah,oD)=>{var zG=1000,HG=zG*60,LG=HG*60,oJ=LG*24,Q3=oJ*7,X3=oJ*365.25;oD.exports=function($,Q){Q=Q||{};var X=typeof $;if(X==="string"&&$.length>0)return Z3($);else if(X==="number"&&isFinite($))return Q.long?J3($):Y3($);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify($))};function Z3($){if($=String($),$.length>100)return;var Q=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec($);if(!Q)return;var X=parseFloat(Q[1]),Z=(Q[2]||"ms").toLowerCase();switch(Z){case"years":case"year":case"yrs":case"yr":case"y":return X*X3;case"weeks":case"week":case"w":return X*Q3;case"days":case"day":case"d":return X*oJ;case"hours":case"hour":case"hrs":case"hr":case"h":return X*LG;case"minutes":case"minute":case"mins":case"min":case"m":return X*HG;case"seconds":case"second":case"secs":case"sec":case"s":return X*zG;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return X;default:return}}function Y3($){var Q=Math.abs($);if(Q>=oJ)return Math.round($/oJ)+"d";if(Q>=LG)return Math.round($/LG)+"h";if(Q>=HG)return Math.round($/HG)+"m";if(Q>=zG)return Math.round($/zG)+"s";return $+"ms"}function J3($){var Q=Math.abs($);if(Q>=oJ)return MU($,Q,oJ,"day");if(Q>=LG)return MU($,Q,LG,"hour");if(Q>=HG)return MU($,Q,HG,"minute");if(Q>=zG)return MU($,Q,zG,"second");return $+" ms"}function MU($,Q,X,Z){var Y=Q>=X*1.5;return Math.round($/X)+" "+Z+(Y?"s":"")}});var iD=L$((th,sD)=>{function G3($){X.debug=X,X.default=X,X.coerce=D,X.disable=G,X.enable=Y,X.enabled=H,X.humanize=nD(),X.destroy=A,Object.keys($).forEach((T)=>{X[T]=$[T]}),X.names=[],X.skips=[],X.formatters={};function Q(T){let F=0;for(let M=0;M<T.length;M++)F=(F<<5)-F+T.charCodeAt(M),F|=0;return X.colors[Math.abs(F)%X.colors.length]}X.selectColor=Q;function X(T){let F,M=null,I,P;function S(...j){if(!S.enabled)return;let N=S,w=Number(new Date),k=w-(F||w);if(N.diff=k,N.prev=F,N.curr=w,F=w,j[0]=X.coerce(j[0]),typeof j[0]!=="string")j.unshift("%O");let f=0;j[0]=j[0].replace(/%([a-zA-Z%])/g,(c,u)=>{if(c==="%%")return"%";f++;let Z0=X.formatters[u];if(typeof Z0==="function"){let e=j[f];c=Z0.call(N,e),j.splice(f,1),f--}return c}),X.formatArgs.call(N,j),(N.log||X.log).apply(N,j)}if(S.namespace=T,S.useColors=X.useColors(),S.color=X.selectColor(T),S.extend=Z,S.destroy=X.destroy,Object.defineProperty(S,"enabled",{enumerable:!0,configurable:!1,get:()=>{if(M!==null)return M;if(I!==X.namespaces)I=X.namespaces,P=X.enabled(T);return P},set:(j)=>{M=j}}),typeof X.init==="function")X.init(S);return S}function Z(T,F){let M=X(this.namespace+(typeof F==="undefined"?":":F)+T);return M.log=this.log,M}function Y(T){X.save(T),X.namespaces=T,X.names=[],X.skips=[];let F=(typeof T==="string"?T:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let M of F)if(M[0]==="-")X.skips.push(M.slice(1));else X.names.push(M)}function V(T,F){let M=0,I=0,P=-1,S=0;while(M<T.length)if(I<F.length&&(F[I]===T[M]||F[I]==="*"))if(F[I]==="*")P=I,S=M,I++;else M++,I++;else if(P!==-1)I=P+1,S++,M=S;else return!1;while(I<F.length&&F[I]==="*")I++;return I===F.length}function G(){let T=[...X.names,...X.skips.map((F)=>"-"+F)].join(",");return X.enable(""),T}function H(T){for(let F of X.skips)if(V(T,F))return!1;for(let F of X.names)if(V(T,F))return!0;return!1}function D(T){if(T instanceof Error)return T.stack||T.message;return T}function A(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return X.enable(X.load()),X}sD.exports=G3});var aD=L$((rD,AU)=>{rD.formatArgs=V3;rD.save=U3;rD.load=K3;rD.useColors=W3;rD.storage=O3();rD.destroy=(()=>{let $=!1;return()=>{if(!$)$=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}})();rD.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function W3(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let $;return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&($=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt($[1],10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function V3($){if($[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+$[0]+(this.useColors?"%c ":" ")+"+"+AU.exports.humanize(this.diff),!this.useColors)return;let Q="color: "+this.color;$.splice(1,0,Q,"color: inherit");let X=0,Z=0;$[0].replace(/%[a-zA-Z%]/g,(Y)=>{if(Y==="%%")return;if(X++,Y==="%c")Z=X}),$.splice(Z,0,Q)}rD.log=console.debug||console.log||(()=>{});function U3($){try{if($)rD.storage.setItem("debug",$);else rD.storage.removeItem("debug")}catch(Q){}}function K3(){let $;try{$=rD.storage.getItem("debug")||rD.storage.getItem("DEBUG")}catch(Q){}if(!$&&typeof process!=="undefined"&&"env"in process)$=process.env.DEBUG;return $}function O3(){try{return localStorage}catch($){}}AU.exports=iD()(rD);var{formatters:z3}=AU.exports;z3.j=function($){try{return JSON.stringify($)}catch(Q){return"[UnexpectedJSONParseError]: "+Q.message}}});async function hO($){let X=new TextEncoder().encode($),Z=await crypto.subtle.digest("SHA-256",X),Y=new Uint8Array(Z);return`0x${Array.from(Y).map((G)=>G.toString(16).padStart(2,"0")).join("")}`}async function Qq($){return(await hO($)).slice(0,42)}var LQ,tD,Xb,T3=()=>{if(LQ)return{from:($,Q="utf8")=>{if(typeof $==="string")return new TextEncoder().encode($);return new Uint8Array($)}};return(y$(),$$(g$)).Buffer},gO,F3=($)=>{return $.includes("state")||$.includes("tx")||$.includes("block")||$.includes("error")||$.includes("diff")||$.includes("info")?console.log.bind(console,`[${$}]`):()=>{}},DG,i0,u0=!0,eD=async($)=>{if(console.log("Clearing database and resetting history..."),$)await $.clear(),console.log("✅ Database cleared via provided instance");else if(typeof indexedDB!=="undefined"){let Q=["db","level-js-db","level-db"];try{let X=Q.map((Z)=>{return new Promise((Y)=>{let V=indexedDB.deleteDatabase(Z);V.onsuccess=()=>{console.log(`✅ Cleared IndexedDB: ${Z}`),Y()},V.onerror=()=>{console.log(`⚠️ Could not clear IndexedDB: ${Z} (may not exist)`),Y()},V.onblocked=()=>{console.log(`⚠️ IndexedDB deletion blocked: ${Z}`),Y()}})});if(await Promise.all(X),console.log("✅ All databases cleared, re-initializing..."),typeof window!=="undefined"&&window.reinitializeAfterClear)window.reinitializeAfterClear();return}catch(X){if(console.log("❌ Error clearing IndexedDB:",X),typeof window!=="undefined"&&window.reinitializeAfterClear)window.reinitializeAfterClear();return}}console.log("Database cleared.")},H$=($)=>{if(!$)return"undefined";let Q=oW($);if(Q!==null)return Q.toString();else return $},R3=($)=>{if(!$)return{name:"Entity (undefined)",avatar:"❓",type:"numbered"};let Q=oW($);if(Q!==null)return{name:`Entity #${Q}`,avatar:qG($),type:"numbered"};else return{name:$,avatar:qG($),type:"lazy"}},yO,nJ=($)=>{let Q=yO[$];if(Q)return`\uD83D\uDC64 ${Q.name}`;return $},E3=($)=>{let Q=yO[$];if(Q)return{name:Q.name,address:Q.address,avatar:vO($)};return{name:$,address:$,avatar:vO($)}},I3=($)=>{let Q=yO[$];if(Q)return Q.address;return $},qG=($)=>{try{let Q=IK($,40);return`data:image/svg+xml,${encodeURIComponent(Q)}`}catch(Q){return $q($)}},vO=($)=>{try{let Q=I3($),X=IK(Q,32);return`data:image/svg+xml,${encodeURIComponent(X)}`}catch(Q){return $q($)}},$q=($)=>{let Q=0;for(let H=0;H<$.length;H++)Q=(Q<<5)-Q+$.charCodeAt(H)&4294967295;let V=`<svg width="32" height="32" xmlns="http://www.w3.org/2000/svg">
    <circle cx="16" cy="16" r="16" fill="hsl(${Math.abs(Q)%360}, ${70}%, ${50}%)"/>
  </svg>`;return`data:image/svg+xml;base64,${gO.from(V).toString("base64")}`};var ZX=K0(()=>{r5();VG();if(typeof global==="undefined")globalThis.global=globalThis;LQ=typeof window!=="undefined",tD=LQ?($)=>({update:(Q)=>({digest:(X)=>{let Z=new TextEncoder,Y=0;for(let H=0;H<Q.length;H++){let D=Q.charCodeAt(H);Y=(Y<<5)-Y+D,Y=Y&Y}let V=Math.abs(Y).toString(16).padStart(8,"0"),G=(V+V+V+V).slice(0,64);if(X==="hex")return G;else{let H=new Uint8Array(32);for(let D=0;D<32;D++)H[D]=parseInt(G.substr(D*2,2),16);return gO.from(H)}}})}):(sQ(),$$(nQ)).createHash,Xb=LQ?($)=>{let Q=new Uint8Array($);return crypto.getRandomValues(Q),Q}:(sQ(),$$(nQ)).randomBytes,gO=T3();if(LQ)Uint8Array.prototype.toString=function($="utf8"){return new TextDecoder().decode(this)},window.Buffer=gO;DG=LQ?F3:aD(),i0={state:DG("state:\uD83D\uDD35"),tx:DG("tx:\uD83D\uDFE1"),block:DG("block:\uD83D\uDFE2"),error:DG("error:\uD83D\uDD34"),diff:DG("diff:\uD83D\uDFE3"),info:DG("info:ℹ️")},yO={alice:{name:"alice.eth",address:"0x70997970C51812dc3A010C7d01b50e0d17dc79C8"},bob:{name:"bob.eth",address:"0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC"},carol:{name:"carol.eth",address:"0x90F79bf6EB2c4f870365E785982E1f101E93b906"},david:{name:"david.eth",address:"0x15d34AAf54267DB7D7c367839AAf71A00a2C6A65"},eve:{name:"eve.eth",address:"0x9965507D1a55bcC2695C58ba16FB37d819B0A4dc"}}});function j3($,Q){if(typeof Q==="bigint")return`BigInt(${Q.toString()})`;if(Q instanceof Map)return Object.fromEntries(Q);if(Q instanceof Set)return Array.from(Q);if(Q&&typeof Q==="object"&&Q.type==="Buffer"&&Array.isArray(Q.data))return`Buffer(${Q.data.length} bytes)`;if(typeof Q==="function")return`[Function: ${Q.name||"anonymous"}]`;return Q}function TX($,Q){try{return JSON.stringify($,j3,Q)}catch(X){return`[Error stringifying: ${X.message}]`}}function N3($,Q){if(typeof Buffer!=="undefined"&&Buffer.compare)return Buffer.compare($,Q);else{let X=$.toString("hex"),Z=Q.toString("hex");if(X===Z)return 0;return X<Z?-1:1}}function Gq($,Q){return N3($,Q)===0}function sJ($,Q="unknown"){if(!$||typeof $!=="object")throw new Error(`Invalid Delta object from ${Q}: ${$}`);let X=[];if(typeof $.tokenId!=="number"||!Number.isInteger($.tokenId)||$.tokenId<0)X.push(`tokenId must be non-negative integer, got: ${$.tokenId}`);let Z=["collateral","ondelta","offdelta","leftCreditLimit","rightCreditLimit","leftAllowence","rightAllowence"];for(let Y of Z){let V=$[Y];if(V===null||V===void 0)X.push(`${Y} cannot be null/undefined, got: ${V}`);else if(typeof V!=="bigint")if(typeof V==="string"&&/^-?\d+n?$/.test(V))try{$[Y]=BigInt(V.replace(/n$/,""))}catch(G){X.push(`${Y} invalid BigInt string: ${V}`)}else X.push(`${Y} must be BigInt, got: ${typeof V} (${V})`)}if(X.length>0)throw new Error(`Delta validation failed from ${Q}:
${X.join(`
`)}`);return{tokenId:$.tokenId,collateral:$.collateral,ondelta:$.ondelta,offdelta:$.offdelta,leftCreditLimit:$.leftCreditLimit,rightCreditLimit:$.rightCreditLimit,leftAllowence:$.leftAllowence,rightAllowence:$.rightAllowence}}function w3($,Q="unknown"){if(!$)return console.warn(`No deltas provided from ${Q}, returning empty Map`),new Map;let X=new Map;if($ instanceof Map)for(let[Z,Y]of $.entries())try{let V=sJ(Y,`${Q}.Map[${Z}]`);X.set(Z,V)}catch(V){console.error(`Skipping invalid delta for token ${Z}:`,V)}else if(typeof $==="object")for(let[Z,Y]of Object.entries($)){let V=parseInt(Z,10);if(isNaN(V)){console.error(`Invalid tokenId: ${Z}`);continue}try{let G=sJ(Y,`${Q}.Object[${V}]`);X.set(V,G)}catch(G){console.error(`Skipping invalid delta for token ${V}:`,G)}}else return console.error(`Invalid deltas format from ${Q}:`,typeof $),new Map;return console.log(`✅ Validated ${X.size} deltas from ${Q}`),X}function _3($){return{tokenId:$,collateral:0n,ondelta:0n,offdelta:0n,leftCreditLimit:1000000000000000000000000n,rightCreditLimit:1000000000000000000000000n,leftAllowence:0n,rightAllowence:0n}}function x3($){try{return sJ($,"type-guard"),!0}catch{return!1}}function pO($){if(!$)throw new Error("FINANCIAL-SAFETY: EntityInput is null/undefined");if(!$.entityId||typeof $.entityId!=="string")throw new Error("FINANCIAL-SAFETY: entityId is missing or invalid - financial routing corruption detected");if(!$.signerId||typeof $.signerId!=="string")throw new Error("FINANCIAL-SAFETY: signerId is missing or invalid - payment routing will fail");if(!$.entityTxs||!Array.isArray($.entityTxs))throw new Error("FINANCIAL-SAFETY: entityTxs is missing or invalid");return $}function Uq($){if(!$)throw new Error("FINANCIAL-SAFETY: EntityOutput is null/undefined");if(!$.entityId||typeof $.entityId!=="string")throw new Error("FINANCIAL-SAFETY: EntityOutput entityId is missing - routing corruption");if(!$.signerId||typeof $.signerId!=="string")throw new Error("FINANCIAL-SAFETY: EntityOutput signerId is missing - routing corruption");return $}function Wq($,Q){if(typeof $!=="string"||$.length===0)throw new eW(`${Q} must be a non-empty string`,$);return $}function Vq($,Q){if(typeof $!=="number"||!Number.isFinite($))throw new eW(`${Q} must be a finite number`,$);return $}function Kq($,Q){if(!$||typeof $!=="object"||Array.isArray($))throw new eW(`${Q} must be a non-null object`,$);return $}function bO($,Q){if(!Array.isArray($))throw new eW(`${Q} must be an array`,$);return $}function Oq($,Q="AccountFrame"){let X=Kq($,Q),Z={frameId:Vq(X.frameId,`${Q}.frameId`),timestamp:Vq(X.timestamp,`${Q}.timestamp`),accountTxs:bO(X.accountTxs,`${Q}.accountTxs`),previousStateHash:Wq(X.previousStateHash,`${Q}.previousStateHash`),stateHash:Wq(X.stateHash,`${Q}.stateHash`),tokenIds:bO(X.tokenIds||[],`${Q}.tokenIds`),deltas:bO(X.deltas||[],`${Q}.deltas`)};if(Z.stateHash.length===0)throw new GY("AccountFrame.stateHash cannot be empty");if(Z.timestamp<=0)throw new GY("AccountFrame.timestamp must be positive",{timestamp:Z.timestamp});return Z}function cO($,Q="EntityState"){let X=Kq($,Q);if(!X.entityId||typeof X.entityId!=="string")throw new GY(`${Q}.entityId must be a string`);if(typeof X.height!=="number")throw new GY(`${Q}.height must be a number`);if(typeof X.timestamp!=="number")throw new GY(`${Q}.timestamp must be a number`);if(!(X.reserves instanceof Map))throw new GY(`${Q}.reserves must be a Map`);if(!(X.accounts instanceof Map))throw new GY(`${Q}.accounts must be a Map`);for(let[Z,Y]of X.reserves.entries())if(typeof Y!=="bigint")throw new GY(`Reserve amount for token ${Z} must be bigint`,{tokenId:Z,amount:Y});return X}var GY,eW;var $V=K0(()=>{GY=class GY extends Error{constructor($,Q){super(`\uD83D\uDEA8 FINANCIAL-SAFETY VIOLATION: ${$}`);if(this.name="FinancialDataCorruptionError",Q)this.message+=`
Context: ${JSON.stringify(Q,(X,Z)=>typeof Z==="bigint"?Z.toString():Z)}`}};eW=class eW extends Error{constructor($,Q){super(`\uD83D\uDEE1️ TYPE-SAFETY VIOLATION: ${$}`);if(this.name="TypeSafetyViolationError",Q!==void 0)this.message+=`
Received: ${typeof Q} = ${String(Q)}`}}});function mO($,Q){if(Q===null||Q===void 0)return`0 ${MG($).symbol}`;let X=MG($);return`${HJ(Q,X.decimals)} ${X.symbol}`}function k3($,Q){let X=MG($);return M8(Q,X.decimals)}function f3($,Q,X){if(Q===X)return $;if(Q>X){let Z=10n**BigInt(Q-X);return $/Z}else{let Z=10n**BigInt(X-Q);return $*Z}}function zq($,Q){if($===null||$===void 0||Q===null||Q===void 0)return 0;if(Q===0n)return 0;return Number($*100n/Q)}function Hq($){if($.amount===null||$.amount===void 0)return`0 ${$.symbol}`;return`${HJ($.amount,$.decimals)} ${$.symbol}`}var v3,g3;var QV=K0(()=>{pW();iJ();v3={add:($,Q)=>{return($??0n)+(Q??0n)},subtract:($,Q)=>{let X=$??0n,Z=Q??0n;if(Z>X)throw new Error(`Underflow: ${X} - ${Z}`);return X-Z},multiply:($,Q)=>{return($??0n)*(Q??0n)},divide:($,Q)=>{let X=$??0n,Z=Q??1n;if(Z===0n)throw new Error("Division by zero");return{quotient:X/Z,remainder:X%Z}},compare:($,Q)=>{let X=$??0n,Z=Q??0n;if(X<Z)return-1;if(X>Z)return 1;return 0},abs:($)=>{let Q=$??0n;return Q<0n?-Q:Q},min:($,Q)=>{let X=$??0n,Z=Q??0n;return X<Z?X:Z},max:($,Q)=>{let X=$??0n,Z=Q??0n;return X>Z?X:Z}},g3={ZERO:0n,ONE:1n,WEI_PER_ETH:10n**18n,USDC_DECIMALS:6,USDT_DECIMALS:6,ETH_DECIMALS:18,DEFAULT_DECIMALS:18}});function XV($,Q){return $<Q}function ZV($,Q){sJ($,"deriveDelta");let X=(p)=>p<0n?0n:p,Z=$.ondelta+$.offdelta,Y=X($.collateral),V=$.leftCreditLimit,G=$.rightCreditLimit,H=Z>0n?X(Y-Z):Y,D=Z>0n?Z>Y?Y:Z:0n,A=X(-Z);if(A>V)A=V;let T=X(Z-Y);if(T>G)T=G;let F=X(V-A),M=X(G-T),I=$.rightAllowence,P=$.leftAllowence,S=Y+V+G,j=X(A+H+M-I),N=X(T+D+F-P);if(!Q)[H,I,j,D,P,N]=[D,P,N,H,I,j],[V,G]=[G,V],[F,A,T,M]=[M,T,A,F];let w=Number(S),k=Math.floor(Number(V)/w*50),f=Math.floor(Number(Y)/w*50),v=50-k-f,c=Math.floor((Number(Z)+Number(V))/w*50),u="-".repeat(k)+"=".repeat(f)+"-".repeat(v),Z0=Math.max(0,Math.min(c,u.length)),e="["+u.substring(0,Z0)+"|"+u.substring(Z0)+"]";return{delta:Z,collateral:Y,inCollateral:H,outCollateral:D,inOwnCredit:A,outPeerCredit:T,inAllowence:I,outAllowence:P,totalCapacity:S,ownCreditLimit:V,peerCreditLimit:G,inCapacity:j,outCapacity:N,outOwnCredit:F,inPeerCredit:M,ascii:e}}function AG($,Q=1000n,X=0n){let Z=jZ($);return sJ({tokenId:$,collateral:Q,ondelta:X,offdelta:0n,leftCreditLimit:Z,rightCreditLimit:Z,leftAllowence:0n,rightAllowence:0n},"createDemoDelta")}function MG($){return h3[$]||{symbol:`TKN${$}`,name:`Token ${$}`,decimals:18,color:"#999"}}function jZ($){let Q=MG($),X=BigInt(Q.decimals??18);return y3*10n**X}var y3=1000000n,h3;var iJ=K0(()=>{$V();QV();QV();h3={0:{symbol:"NULL",name:"Null Token",decimals:18,color:"#777"},1:{symbol:"ETH",name:"Ethereum",decimals:18,color:"#627eea"},2:{symbol:"USDT",name:"Tether USD",decimals:18,color:"#26a17b"},3:{symbol:"USDC",name:"USD Coin",decimals:18,color:"#2775ca"},4:{symbol:"ACME",name:"ACME Corp Shares",decimals:18,color:"#ff6b6b"},5:{symbol:"BTC",name:"Bitcoin Shares",decimals:8,color:"#f7931a"}}});var b3=($,Q)=>{if(Q instanceof Map)return{_dataType:"Map",value:Array.from(Q.entries())};if(typeof Q==="bigint")return{_dataType:"BigInt",value:Q.toString()};return Q},p3=($,Q)=>{if(typeof Q==="object"&&Q!==null){if(Q._dataType==="Map")return new Map(Q.value);if(Q._dataType==="BigInt")return BigInt(Q.value)}return Q},CG=($)=>{if($&&$.replicas){console.log(`\uD83D\uDD0D ENCODE-VALIDATION: Checking ${$.replicas.size} replicas for jBlock integrity`);for(let[Q,X]of $.replicas.entries())if(console.log(`\uD83D\uDD0D ENCODE-CHECK: Replica ${Q} exists: ${!!X}, state exists: ${!!X?.state}`),X&&X.state){let Z=X.state.jBlock;if(console.log(`\uD83D\uDD0D ENCODE-JBLOCK: ${Q} jBlock=${Z} (${typeof Z})`),typeof Z!=="number")console.error(`\uD83D\uDCA5 CRITICAL: Attempting to save invalid jBlock for replica ${Q}`),console.error(`\uD83D\uDCA5   Expected: number, Got: ${typeof Z}, Value: ${Z}`),console.error("\uD83D\uDCA5   AUTO-FIXING: Setting jBlock to 0 and continuing save"),X.state.jBlock=0}}return Buffer.from(JSON.stringify($,b3))},Dq=($)=>{{let Q=JSON.parse($.toString(),p3);if(Q&&Q.replicas){for(let[X,Z]of Q.replicas.entries())if(Z&&Z.state){if(typeof Z.state.jBlock!=="number"){let V=Number(Q.height)||0;console.warn(`⚠️ jBlock missing for replica ${X}, using height ${V} as fallback`),Z.state.jBlock=V}}}return Q}};var TU=()=>{};function KZ($){let Q=$.jBlock;console.log(`\uD83D\uDD0D CLONE-TRACE: About to clone entity state, jBlock=${Q} (${typeof Q})`);try{let X=structuredClone($);if(typeof X.jBlock!=="number")console.error("\uD83D\uDCA5 CLONE-CORRUPTION: structuredClone corrupted jBlock!"),console.error(`\uD83D\uDCA5   Original: ${$.jBlock} (${typeof $.jBlock})`),console.error(`\uD83D\uDCA5   Cloned: ${X.jBlock} (${typeof X.jBlock})`),X.jBlock=$.jBlock??0;return console.log(`✅ CLONE-SUCCESS: Cloned state, jBlock=${X.jBlock} (${typeof X.jBlock})`),cO(X,"cloneEntityState.structuredClone")}catch(X){console.warn(`⚠️ structuredClone failed, using manual clone: ${X.message}`);let Z=c3($);return console.log(`✅ MANUAL-CLONE: Manual clone completed, jBlock=${Z.jBlock} (${typeof Z.jBlock})`),cO(Z,"cloneEntityState.manual")}}function c3($){return{...$,nonces:TG($.nonces),messages:FG($.messages),proposals:new Map(Array.from($.proposals.entries()).map(([Q,X])=>[Q,{...X,votes:TG(X.votes)}])),reserves:TG($.reserves),accounts:new Map(Array.from($.accounts.entries()).map(([Q,X])=>[Q,{...X,mempool:FG(X.mempool),deltas:TG(X.deltas),proofHeader:{...X.proofHeader},proofBody:{tokenIds:[...X.proofBody.tokenIds],deltas:[...X.proofBody.deltas]}}])),accountInputQueue:FG($.accountInputQueue||[]),jBlock:$.jBlock??0}}function dO($){try{return structuredClone($)}catch(Q){return console.warn("⚠️ structuredClone failed for AccountMachine, using manual clone"),Mq($)}}function Mq($){let Q={counterpartyEntityId:$.counterpartyEntityId,mempool:[...$.mempool],currentFrame:{...$.currentFrame,tokenIds:[...$.currentFrame.tokenIds],deltas:[...$.currentFrame.deltas]},sentTransitions:$.sentTransitions,ackedTransitions:$.ackedTransitions,deltas:new Map(Array.from($.deltas.entries()).map(([X,Z])=>[X,{...Z}])),globalCreditLimits:{...$.globalCreditLimits},currentFrameId:$.currentFrameId,pendingSignatures:[...$.pendingSignatures],rollbackCount:$.rollbackCount,sendCounter:$.sendCounter,receiveCounter:$.receiveCounter,frameHistory:[...$.frameHistory],proofHeader:{...$.proofHeader},proofBody:{...$.proofBody,tokenIds:[...$.proofBody.tokenIds],deltas:[...$.proofBody.deltas]}};if($.pendingFrame)Q.pendingFrame={...$.pendingFrame,accountTxs:[...$.pendingFrame.accountTxs],tokenIds:[...$.pendingFrame.tokenIds],deltas:[...$.pendingFrame.deltas]};if($.clonedForValidation)Q.clonedForValidation=Mq($.clonedForValidation);if($.hankoSignature)Q.hankoSignature=$.hankoSignature;return Q}var TG=($)=>new Map($),FG=($)=>[...$],uO=($)=>{return{entityId:$.entityId,signerId:$.signerId,state:KZ($.state),mempool:FG($.mempool),...$.proposal&&{proposal:{height:$.proposal.height,txs:FG($.proposal.txs),hash:$.proposal.hash,newState:$.proposal.newState,signatures:TG($.proposal.signatures)}},...$.lockedFrame&&{lockedFrame:{height:$.lockedFrame.height,txs:FG($.lockedFrame.txs),hash:$.lockedFrame.hash,newState:$.lockedFrame.newState,signatures:TG($.lockedFrame.signatures)}},isProposer:$.isProposer}},qq=($,Q,X,Z,Y,V)=>{let G={height:$.height,timestamp:$.timestamp,replicas:new Map(Array.from($.replicas.entries()).map(([D,A])=>[D,uO(A)])),serverInput:{serverTxs:[...Z.serverTxs],entityInputs:Z.entityInputs.map((D)=>({entityId:D.entityId,signerId:D.signerId,...D.entityTxs&&{entityTxs:[...D.entityTxs]},...D.precommits&&{precommits:new Map(D.precommits)},...D.proposedFrame&&{proposedFrame:D.proposedFrame}}))},serverOutputs:Y.map((D)=>({entityId:D.entityId,signerId:D.signerId,...D.entityTxs&&{entityTxs:[...D.entityTxs]},...D.precommits&&{precommits:new Map(D.precommits)},...D.proposedFrame&&{proposedFrame:D.proposedFrame}})),description:V};Q.push(G);let H=X.batch();if(H.put(Buffer.from(`snapshot:${G.height}`),CG(G)),H.put(Buffer.from("latest_height"),Buffer.from(G.height.toString())),H.write(),u0){if(console.log(`\uD83D\uDCF8 Snapshot captured: "${V}" (${Q.length} total)`),Z.serverTxs.length>0)console.log(`    \uD83D\uDDA5️  ServerTxs: ${Z.serverTxs.length}`),Z.serverTxs.forEach((D,A)=>{console.log(`      ${A+1}. ${D.type} ${D.entityId}:${D.signerId} (${D.data.isProposer?"proposer":"validator"})`)});if(Z.entityInputs.length>0)console.log(`    \uD83D\uDCE8 EntityInputs: ${Z.entityInputs.length}`),Z.entityInputs.forEach((D,A)=>{let T=[];if(D.entityTxs?.length)T.push(`${D.entityTxs.length} txs`);if(D.precommits?.size)T.push(`${D.precommits.size} precommits`);if(D.proposedFrame)T.push(`frame: ${D.proposedFrame.hash.slice(0,10)}...`);console.log(`      ${A+1}. ${D.entityId}:${D.signerId} (${T.join(", ")||"empty"})`)})}};var RG=K0(()=>{TU();ZX();$V()});function YV($,Q,X="mock-private-key"){let Z=`${$}-${Q}-${X}`,Y=`sig_${Buffer.from(Z).toString("base64").slice(0,32)}`;return console.log(`✍️ Signed frame ${Q.slice(0,10)} by ${$.slice(-4)}: ${Y.slice(0,20)}...`),Y}function lO($,Q,X,Z="mock-private-key"){let Y=YV($,Q,Z),V=X===Y;if(V)console.log(`✅ Valid signature from ${$.slice(-4)} for frame ${Q.slice(0,10)}`);else console.log(`❌ Invalid signature from ${$.slice(-4)} for frame ${Q.slice(0,10)}`),console.log(`   Expected: ${Y.slice(0,20)}...`),console.log(`   Received: ${X.slice(0,20)}...`);return V}var Rq={};_Z(Rq,{validateMessageCounter:()=>Tq,validateAccountFrame:()=>Cq,shouldProposeFrame:()=>Fq,proposeAccountFrame:()=>u3,processAccountTx:()=>oO,handleAccountInput:()=>nO,getAccountsToProposeFrames:()=>l3,generateAccountProof:()=>o3,addToAccountMempool:()=>d3});function Cq($){if($.frameId<0)return!1;if($.accountTxs.length>100)return!1;if($.tokenIds.length!==$.deltas.length)return!1;let Q=Date.now();if(Math.abs($.timestamp-Q)>300000)return!1;return!0}function Tq($,Q){if(Q<=0||Q>m3)return!1;if(Q<=$.ackedTransitions)return console.log(`❌ Counter replay: ${Q} <= ${$.ackedTransitions}`),!1;let X=Date.now();if(Q>X+60000)return console.log(`❌ Counter too far in future: ${Q} vs ${X}`),!1;return!0}async function Aq($){let Q=$.accountTxs.map((Z)=>`${Z.type}:${TX(Z.data)}`).join("|"),X=`${$.frameId}-${$.timestamp}-${Q}-${$.tokenIds.join(",")}-${$.deltas.map((Z)=>Z.toString()).join(",")}`;return await Qq(X)}function oO($,Q,X=!0){console.log(`\uD83D\uDD04 Processing ${Q.type} for ${$.counterpartyEntityId.slice(-4)} (ourFrame: ${X})`);let Z=[];switch(Q.type){case"direct_payment":{let{tokenId:V,amount:G,route:H,description:D}=Q.data,A=$.deltas.get(V);if(!A){let k=jZ(V);A={tokenId:V,collateral:0n,ondelta:0n,offdelta:0n,leftCreditLimit:k,rightCreditLimit:k,leftAllowence:0n,rightAllowence:0n},$.deltas.set(V,A)}let T=$.proofHeader.fromEntity<$.proofHeader.toEntity;if(!H||H.length===0)return{success:!1,error:"FINANCIAL-SAFETY: Route is required for direct payment",events:Z};let F=H[0];if(!F)return{success:!1,error:"FINANCIAL-SAFETY: Payment sender entity (route[0]) is required",events:Z};let M=$.counterpartyEntityId,I;if(F<M)I=G;else I=-G;let P=ZV(A,T);if(X&&G>P.outCapacity)return{success:!1,error:`Insufficient capacity: need ${G.toString()}, available ${P.outCapacity.toString()}`,events:Z};let S=A.ondelta+A.offdelta+I;if(X&&V===3&&S>$.globalCreditLimits.peerLimit)return{success:!1,error:`Exceeds global credit limit: ${S.toString()} > ${$.globalCreditLimits.peerLimit.toString()}`,events:Z};if(A.offdelta+=I,X)Z.push(`\uD83D\uDCB8 Sent ${G.toString()} token ${V} to Entity ${$.counterpartyEntityId.slice(-4)} ${D?"("+D+")":""}`);else Z.push(`\uD83D\uDCB0 Received ${G.toString()} token ${V} from Entity ${F.slice(-4)} ${D?"("+D+")":""}`);let j=$.currentFrame.tokenIds.indexOf(V),N=A.ondelta+A.offdelta;if(j>=0)$.currentFrame.deltas[j]=N;else $.currentFrame.tokenIds.push(V),$.currentFrame.deltas.push(N);let w=F===$.proofHeader.fromEntity;if(H&&H.length>1&&!w){let k=H[0],f=H[H.length-1];if(!f)return console.error("❌ Empty route in payment - invalid payment routing"),{success:!1,error:"Invalid payment route",events:Z};if($.counterpartyEntityId===k)console.error(`❌ Routing error: received from ${k} but should forward to them`);else Z.push(`↪️ Forwarding payment to ${f.slice(-4)} via ${H.length} more hops`),$.pendingForward={tokenId:V,amount:G,route:H.slice(1),...D?{description:D}:{}}}return{success:!0,events:Z}}default:return{success:!1,error:`Unknown accountTx type: ${"type"in Q?Q.type:"MISSING_TYPE"}`,events:Z}}}async function u3($){console.log(`\uD83D\uDE80 E-MACHINE: Proposing account frame for ${$.counterpartyEntityId.slice(-4)}`),console.log(`\uD83D\uDE80 E-MACHINE: Account state - mempool=${$.mempool.length}, pendingFrame=${!!$.pendingFrame}, currentFrameId=${$.currentFrameId}`);let Q=[];if($.mempool.length>EG)return console.log(`❌ E-MACHINE: Mempool overflow ${$.mempool.length} > ${EG}`),{success:!1,error:`Mempool overflow: ${$.mempool.length} > ${EG}`,events:Q};if($.mempool.length===0)return console.log("❌ E-MACHINE: No transactions in mempool to propose"),{success:!1,error:"No transactions to propose",events:Q};if($.pendingFrame)return console.log(`⏳ E-MACHINE: Still waiting for ACK on pending frame #${$.pendingFrame.frameId}`),{success:!1,error:"Waiting for ACK on pending frame",events:Q};console.log(`✅ E-MACHINE: Creating frame with ${$.mempool.length} transactions...`);let X=dO($),Z=[];for(let D of $.mempool){let A=oO(X,D,!0);if(!A.success)return{success:!1,error:`Tx validation failed: ${A.error}`,events:Z};Z.push(...A.events)}let Y={frameId:$.currentFrameId+1,timestamp:Date.now(),accountTxs:[...$.mempool],previousStateHash:$.currentFrameId===0?"genesis":await Aq({frameId:$.currentFrameId,timestamp:$.currentFrame.timestamp,accountTxs:[],previousStateHash:"",stateHash:"",tokenIds:$.currentFrame.tokenIds,deltas:$.currentFrame.deltas}),stateHash:"",tokenIds:X.currentFrame.tokenIds,deltas:X.currentFrame.deltas};Y.stateHash=await Aq(Y);let V=Oq(Y,"proposeAccountFrame"),G=YV($.proofHeader.fromEntity,V.stateHash);return $.pendingFrame=V,$.sentTransitions=$.mempool.length,$.clonedForValidation=X,$.mempool=[],Q.push(`\uD83D\uDE80 Proposed frame ${V.frameId} with ${V.accountTxs.length} transactions`),{success:!0,accountInput:{fromEntityId:$.proofHeader.fromEntity,toEntityId:$.proofHeader.toEntity,frameId:V.frameId,newAccountFrame:V,newSignatures:[G],counter:++$.proofHeader.cooperativeNonce},events:Q}}function nO($,Q){console.log(`\uD83D\uDCE8 A-MACHINE: Received AccountInput from ${Q.fromEntityId.slice(-4)}`);let X=[];if(Q.counter&&$.currentFrameId>0){let Z=Tq($,Q.counter);if(console.log(`\uD83D\uDD0D Counter validation: ${Q.counter} vs acked=${$.ackedTransitions}, frameId=${$.currentFrameId}, valid=${Z}`),!Z)return{success:!1,error:`Invalid message counter: ${Q.counter} vs ${$.ackedTransitions}`,events:X}}else if(Q.counter)console.log(`\uD83D\uDD0D Initial frame - accepting counter ${Q.counter} without strict validation`);if(Q.counter)$.ackedTransitions=Math.max($.ackedTransitions,Q.counter);if($.pendingFrame&&Q.frameId===$.pendingFrame.frameId&&Q.prevSignatures){console.log(`✅ Received confirmation for pending frame ${Q.frameId}`);let Z=$.pendingFrame.stateHash,Y=$.proofHeader.toEntity,V=Q.prevSignatures[0];if(Q.prevSignatures.length>0&&V&&lO(Y,Z,V)){if($.clonedForValidation)$.deltas=$.clonedForValidation.deltas,$.currentFrame={frameId:$.pendingFrame.frameId,timestamp:$.pendingFrame.timestamp,tokenIds:$.pendingFrame.tokenIds,deltas:$.pendingFrame.deltas},$.currentFrameId=$.pendingFrame.frameId,$.frameHistory.push({...$.pendingFrame}),console.log(`\uD83D\uDCDA Frame ${$.pendingFrame.frameId} added to history (total: ${$.frameHistory.length})`);return delete $.pendingFrame,$.sentTransitions=0,delete $.clonedForValidation,$.rollbackCount=Math.max(0,$.rollbackCount-1),X.push(`✅ Frame ${Q.frameId} confirmed and committed`),{success:!0,events:X}}else return{success:!1,error:"Invalid confirmation signature",events:X}}if(Q.newAccountFrame){let Z=Q.newAccountFrame;if(!Cq(Z))return{success:!1,error:"Invalid frame structure",events:X};if(Z.frameId===$.currentFrameId+1&&$.pendingFrame&&$.pendingFrame.frameId===Z.frameId){console.log(`\uD83D\uDD04 Simultaneous proposals detected for frame ${Z.frameId}`);let F=$.pendingFrame.stateHash,M=Z.stateHash;if(F<M)return console.log("\uD83D\uDCE4 Our frame wins (hash comparison), ignoring received frame"),{success:!1,error:"Frame conflict - our frame has priority",events:X};else console.log("\uD83D\uDCE5 Their frame wins (hash comparison), accepting and rolling back ours"),delete $.pendingFrame,$.sentTransitions=0,delete $.clonedForValidation}if(Z.frameId!==$.currentFrameId+1)return console.log(`❌ Frame sequence mismatch: expected ${$.currentFrameId+1}, got ${Z.frameId}`),{success:!1,error:`Frame sequence mismatch: expected ${$.currentFrameId+1}, got ${Z.frameId}`,events:X};if(Q.newSignatures&&Q.newSignatures.length>0){let F=Q.newSignatures[0];if(!F)return{success:!1,error:"Missing signature in newSignatures array",events:X};if(!lO(Q.fromEntityId,Z.stateHash,F))return{success:!1,error:"Invalid frame signature",events:X}}let Y=dO($),V=[];for(let F of Z.accountTxs){let M=oO(Y,F,!1);if(!M.success)return{success:!1,error:`Frame application failed: ${M.error}`,events:X};V.push(...M.events)}let G=CG(Y.deltas),H=new Map;Z.tokenIds?.forEach((F,M)=>{let I=$.deltas.get(F);if(I){let P=Z.deltas[M];H.set(F,{...I,offdelta:P-I.ondelta})}});let D=CG(H);if(console.log(`\uD83D\uDD0D STATE-VERIFY Frame ${Z.frameId}:`),console.log(`  Our computed:  ${G.toString("hex").slice(0,32)}...`),console.log(`  Their claimed: ${D.toString("hex").slice(0,32)}...`),!Gq(G,D)){console.error("❌ CONSENSUS-FAILURE: Both sides computed different final states!"),console.error("❌ FULL CONSENSUS FAILURE DUMP:"),console.error("❌ AccountMachine BEFORE:",TX($)),console.error("❌ ClonedMachine AFTER:",TX(Y)),console.error("❌ ReceivedFrame COMPLETE:",TX(Z)),console.error("❌ TheirClaimedDeltas COMPLETE:",TX(Object.fromEntries(H))),console.error("❌ OurComputedState BUFFER:",Array.from(G).map((M)=>M.toString(16).padStart(2,"0")).join("")),console.error("❌ TheirClaimedState BUFFER:",Array.from(D).map((M)=>M.toString(16).padStart(2,"0")).join(""));let F=XV($.proofHeader.fromEntity,$.proofHeader.toEntity);return console.error(`❌ isLeft=${F}, fromEntity=${$.proofHeader.fromEntity}, toEntity=${$.proofHeader.toEntity}`),{success:!1,error:"Bilateral consensus failure - states don't match",events:X}}console.log(`✅ CONSENSUS-SUCCESS: Both sides computed identical state for frame ${Z.frameId}`),$.deltas=Y.deltas,$.currentFrame={frameId:Z.frameId,timestamp:Z.timestamp,tokenIds:Z.tokenIds,deltas:Z.deltas},$.currentFrameId=Z.frameId,$.frameHistory.push({...Z}),console.log(`\uD83D\uDCDA Frame ${Z.frameId} accepted and added to history (total: ${$.frameHistory.length})`),X.push(...V),X.push(`\uD83E\uDD1D Accepted frame ${Z.frameId} from Entity ${Q.fromEntityId.slice(-4)}`);let A=YV($.proofHeader.fromEntity,Z.stateHash);return{success:!0,response:{fromEntityId:$.proofHeader.fromEntity,toEntityId:Q.fromEntityId,frameId:Z.frameId,prevSignatures:[A],counter:++$.proofHeader.cooperativeNonce},events:X}}return{success:!0,events:X}}function d3($,Q){if($.mempool.length>=EG)return console.log(`❌ Mempool full: ${$.mempool.length} >= ${EG}`),!1;return $.mempool.push(Q),console.log(`\uD83D\uDCE5 Added ${Q.type} to mempool (${$.mempool.length}/${EG})`),!0}function Fq($){return $.mempool.length>0&&!$.pendingFrame}function l3($){let Q=[];if(!$.accounts||!($.accounts instanceof Map))return console.log(`⚠️ No accounts or accounts not a Map: ${typeof $.accounts}`),Q;for(let[X,Z]of $.accounts)if(Fq(Z))Q.push(X);return Q}async function o3($){$.proofBody={tokenIds:Array.from($.deltas.keys()).sort((G,H)=>G-H),deltas:Array.from($.deltas.keys()).sort((G,H)=>G-H).map((G)=>{let H=$.deltas.get(G);if(!H)throw console.error(`❌ Missing delta for tokenId ${G} in account ${$.counterpartyEntityId}`),new Error(`Critical financial data missing: delta for token ${G}`);return H.ondelta+H.offdelta})};let Q={fromEntity:$.proofHeader.fromEntity,toEntity:$.proofHeader.toEntity,cooperativeNonce:$.proofHeader.cooperativeNonce,disputeNonce:$.proofHeader.disputeNonce,tokenIds:$.proofBody.tokenIds,deltas:$.proofBody.deltas.map((G)=>G.toString())},X=TX(Q),Y=(await hO(X)).slice(2),V=YV($.proofHeader.fromEntity,`0x${Y}`);return $.hankoSignature=V,console.log(`\uD83D\uDD10 Generated account proof: ${$.proofBody.tokenIds.length} tokens, hash: 0x${Y.slice(0,20)}...`),console.log(`\uD83D\uDD10 ProofBody tokens: [${$.proofBody.tokenIds.join(",")}]`),console.log(`\uD83D\uDD10 ProofBody deltas: [${$.proofBody.deltas.map((G)=>G.toString()).join(",")}]`),{proofHash:`0x${Y}`,signature:V}}var EG=1000,m3=1e6;var sO=K0(()=>{RG();iJ();ZX();$V();TU()});var FK=c5().BrowserLevel;function m5($){if(!$||$==="0x"||$==="0x0")return 0;try{let Q=parseInt($,16);return isNaN(Q)?0:Q}catch{return 0}}function KQ($){let Q=m5($);return Q>0?`#${Q}`:"Unknown"}ZX();var P3=async($,Q)=>{if(!$){console.warn("Database not available for profile storage");return}try{await $.put(`profile:${Q.entityId}`,JSON.stringify(Q)),await S3($,Q.name,Q.entityId),console.log(`\uD83D\uDCDD Stored profile for ${Q.name} (${H$(Q.entityId)})`)}catch(X){console.error("Error storing profile:",X)}},CU=async($,Q)=>{if(!$)return null;try{let X=await $.get(`profile:${Q}`);return JSON.parse(X)}catch(X){return null}},S3=async($,Q,X)=>{try{let Z={};try{let Y=await $.get("name-index");Z=JSON.parse(Y)}catch{}Z[Q.toLowerCase()]=X,await $.put("name-index",JSON.stringify(Z))}catch(Z){console.error("Error updating name index:",Z)}},Xq=async($,Q,X=10)=>{if(!$||!Q.trim())return[];try{let Z=await $.get("name-index"),Y=JSON.parse(Z),V=Q.toLowerCase(),G=[];for(let[H,D]of Object.entries(Y))if(H.includes(V)){let A=0;if(H.startsWith(V))A=1;else if(H.includes(V))A=0.7;let T=await CU($,D),F=T?.avatar||qG(D);G.push({entityId:D,name:T?.name||H$(D),avatar:F,relevance:A})}return G.sort((H,D)=>{if(H.relevance!==D.relevance)return D.relevance-H.relevance;return H.name.localeCompare(D.name)}),G.slice(0,X)}catch(Z){return console.error("Error searching entity names:",Z),[]}},B3=($)=>{return{type:"profile-update",data:$}},Zq=async($,Q,X,Z,Y)=>{console.log(`\uD83C\uDFF7️ processProfileUpdate called for ${Q} with updates:`,X);try{let V=await CU($,Q);if(!V)V={entityId:Q,name:H$(Q),lastUpdated:Date.now(),hankoSignature:Z};if(X.name!==void 0)V.name=X.name;if(X.avatar!==void 0)V.avatar=X.avatar;if(X.bio!==void 0)V.bio=X.bio;if(X.website!==void 0)V.website=X.website;if(V.lastUpdated=Date.now(),V.hankoSignature=Z,Y?.gossip?.announce)try{Y.gossip.announce({entityId:Q,capabilities:[],hubs:[],metadata:{name:V.name,avatar:V.avatar,bio:V.bio,website:V.website,lastUpdated:V.lastUpdated,hankoSignature:V.hankoSignature}}),console.log(`\uD83D\uDCE1 Synced profile update to gossip: ${Q}`)}catch(G){console.error(`❌ Failed to sync profile to gossip layer for ${Q}:`,G)}await P3($,V),console.log(`✅ Updated profile for ${V.name} (${H$(Q)})`)}catch(V){console.error("Error processing profile update:",V)}},Yq=async($,Q)=>{return(await CU($,Q))?.name||H$(Q)},Jq=async($,Q)=>{let X=await CU($,Q);return{name:X?.name||H$(Q),avatar:X?.avatar||qG(Q)}};ZX();iJ();function Lq($){let Q=[];for(let[Z,Y]of $.accounts.entries()){let V=new Map;for(let[G,H]of Y.deltas.entries()){let D=XV(Y.proofHeader.fromEntity,Y.proofHeader.toEntity),A=ZV(H,D);V.set(G,{inCapacity:A.inCapacity,outCapacity:A.outCapacity})}Q.push({counterpartyId:Z,tokenCapacities:V})}return{entityId:$.entityId,capabilities:[],hubs:[],metadata:{lastUpdated:Date.now(),isHub:!1,routingFeePPM:100,baseFee:0n},accounts:Q}}iJ();sO();RG();iJ();async function Eq($,Q,X){console.log(`\uD83D\uDE80 APPLY accountInput: ${Q.fromEntityId} → ${Q.toEntityId}`,Q.accountTx);let Z=KZ($),Y=[];if(Q.accountTx&&Q.accountTx.type)Z.messages.push(`\uD83D\uDCE8 Received ${Q.accountTx.type} from Entity ${Q.fromEntityId.slice(-4)}`);else if(!Q.accountTx)console.warn(`⚠️ Received accountInput without accountTx from ${Q.fromEntityId}`),Z.messages.push(`\uD83D\uDCE8 Received account request from Entity ${Q.fromEntityId.slice(-4)}`);let V=Z.accounts.get(Q.fromEntityId);if(!V){let G=new Map;G.set(2,AG(2,0n,0n)),V={counterpartyEntityId:Q.fromEntityId,mempool:[],currentFrame:{frameId:0,timestamp:Date.now(),tokenIds:[],deltas:[]},sentTransitions:0,ackedTransitions:0,deltas:G,globalCreditLimits:{ownLimit:jZ(3),peerLimit:jZ(3)},currentFrameId:0,pendingSignatures:[],rollbackCount:0,sendCounter:0,receiveCounter:0,proofHeader:{fromEntity:$.entityId,toEntity:Q.fromEntityId,cooperativeNonce:0,disputeNonce:0},proofBody:{tokenIds:[1,2,3],deltas:[0n,-100n,50n]},frameHistory:[]},Z.accounts.set(Q.fromEntityId,V),console.log(`\uD83D\uDCB3 Created new account machine for counterparty ${Q.fromEntityId}`)}if(!V)throw new Error(`CRITICAL: AccountMachine creation failed for ${Q.fromEntityId}`);if(Q.accountTx&&Q.accountTx.type==="account_payment"&&Q.accountTx.data.amount===0n)console.log(`\uD83D\uDCB3 Received account opening request from Entity ${Q.fromEntityId.slice(-4)}`),Z.messages.push(`✅ Account opened with Entity ${KQ(Q.fromEntityId)}`),console.log(`\uD83D\uDCB3 Account established with Entity ${Q.fromEntityId.slice(-4)}`);else if(Q.accountTx&&Q.accountTx.type==="account_settle"){let G=Q.accountTx.data,H=G.tokenId;console.log(`\uD83D\uDCB0 Processing settlement for token ${H}:`,G);let D=V.deltas.get(H);if(!D)D=AG(H,0n,0n),V.deltas.set(H,D);D.collateral=BigInt(G.collateral),D.ondelta=BigInt(G.ondelta),console.log(`\uD83D\uDCB0 Updated delta for token ${H}:`,{tokenId:D.tokenId,collateral:D.collateral.toString(),ondelta:D.ondelta.toString(),offdelta:D.offdelta.toString()});let A=V.currentFrame.tokenIds,T=[...V.currentFrame.deltas],F=A.indexOf(H);if(F>=0)T[F]=D.ondelta+D.offdelta;else A.push(H),T.push(D.ondelta+D.offdelta);V.currentFrame={frameId:V.currentFrame.frameId+1,timestamp:Date.now(),tokenIds:A,deltas:T};let M=`\uD83D\uDCB0 Settlement processed: Token ${H}, Collateral ${G.collateral}, OnDelta ${G.ondelta}`;Z.messages.push(M),console.log(`✅ Settlement processed for Entity ${Q.toEntityId.slice(-4)}, Token ${H}`)}else if(Q.frameId||Q.newAccountFrame){console.log(`\uD83E\uDD1D Processing frame-level AccountInput from ${Q.fromEntityId.slice(-4)}`);let G=nO(V,Q);if(G.success){if(Z.messages.push(...G.events),G.response){console.log(`\uD83D\uDCE4 Sending AccountInput ACK back to ${G.response.toEntityId.slice(-4)}`);let H="alice",D=Array.from(X.replicas.keys()).filter((A)=>A.startsWith((G.response?.toEntityId||"")+":"));if(D.length>0){let A=X.replicas.get(D[0]);if(A?.state.config.validators[0])H=A.state.config.validators[0]}Y.push({entityId:G.response?.toEntityId||"",signerId:H,entityTxs:[{type:"accountInput",data:G.response}]}),console.log(`✅ ACK queued for Entity ${G.response.toEntityId.slice(-4)}`)}}else console.log(`❌ Frame consensus failed: ${G.error}`),Z.messages.push(`❌ Frame consensus failed with Entity ${Q.fromEntityId.slice(-4)}: ${G.error}`)}else if(Q.accountTx){if(Q.accountTx&&Q.accountTx.type==="direct_payment"){let G=Q.accountTx.data;if(console.log(`\uD83D\uDCB8 Processing direct_payment relay: route=${G.route}, amount=${G.amount}`),!G.route||G.route.length===0)Z.messages.push(`\uD83D\uDCB0 Received payment: ${G.amount} (token ${G.tokenId}) - ${G.description}`),console.log("✅ Payment received at final destination");else if(G.route.length===1&&G.route[0]===$.entityId)Z.messages.push(`\uD83D\uDCB0 Received payment: ${G.amount} (token ${G.tokenId}) - ${G.description}`),console.log("✅ Payment received at final destination (single hop)");else{let H=G.route[0],D=G.route.slice(1);if(console.log(`\uD83D\uDCB8 Forwarding payment to next hop: ${H}, remaining route: ${D}`),!H||!Z.accounts.has(H))console.error(`❌ Cannot forward payment: No account with ${H}`),Z.messages.push(`❌ Payment routing failed: No account with Entity ${H?.slice(-4)||"unknown"}`);else{let A={type:"direct_payment",data:{tokenId:G.tokenId,amount:G.amount,route:D,...G.description?{description:G.description}:{}}},T=Z.accounts.get(H);if(T)T.mempool.push(A),Z.messages.push(`⚡ Relaying payment to Entity ${H?.slice(-4)} (${D.length} hops remaining)`),console.log(`\uD83D\uDCE4 Payment forwarded to ${H} account mempool`)}}}else if(Q.accountTx)console.log(`\uD83D\uDCE5 Received ${Q.accountTx.type} from ${Q.fromEntityId.slice(-4)} - will be processed in next frame`),Z.messages.push(`\uD83D\uDCE8 Received ${Q.accountTx.type} from Entity ${Q.fromEntityId.slice(-4)}`)}return{newState:Z,outputs:Y}}ZX();RG();var Iq={0:{symbol:"NULL",name:"Null Token",decimals:18},1:{symbol:"ETH",name:"Ethereum",decimals:18},2:{symbol:"USDT",name:"Tether USD",decimals:18},3:{symbol:"USDC",name:"USD Coin",decimals:18},4:{symbol:"ACME",name:"ACME Corp Shares",decimals:18},5:{symbol:"BTC",name:"Bitcoin Shares",decimals:8}},iO=($)=>{return Iq[$]?.symbol||`TKN${$}`},rO=($)=>{return Iq[$]?.decimals||18},Pq=($,Q)=>{let{from:X,event:Z,observedAt:Y,blockNumber:V,transactionHash:G}=Q,H=$.jBlock||0;if(console.log(`\uD83D\uDD0D J-EVENT-CHECK: ${Z.type} block=${V} vs entity.jBlock=${H} (raw=${$.jBlock}), from=${X}`),V<=H)return console.log(`\uD83D\uDD04 IGNORING OLD J-EVENT: ${Z.type} from block ${V} (entity already at j-block ${$.jBlock})`),$;console.log(`✅ J-EVENT-ACCEPTED: ${Z.type} block=${V} > entity.jBlock=${$.jBlock}, will process`);let D=KZ($);D.jBlock=V??($.jBlock??0);let A=new Date(Y).toLocaleTimeString(),T=G?G.slice(0,10)+"...":"unknown",F="";if(Z.type==="reserve_transferred"){let{from:M,to:I,tokenId:P,amount:S,direction:j}=Z.data,N=iO(P),w=rO(P),k=(Number(S)/10**w).toFixed(4);if(j==="sent")F=`\uD83D\uDCB8 ${X} observed RESERVE TRANSFER: Sent ${k} ${N} to Entity ${I.slice(-1)}
\uD83D\uDCCD Block: ${V} | ⏰ ${A} | \uD83D\uDD17 Tx: ${T}
\uD83C\uDFAF Event: ReserveTransferred | \uD83D\uDD22 TokenID: ${P} | \uD83D\uDCB0 Amount: ${S} (raw)`;else F=`\uD83D\uDCB0 ${X} observed RESERVE TRANSFER: Received ${k} ${N} from Entity ${M.slice(-1)}
\uD83D\uDCCD Block: ${V} | ⏰ ${A} | \uD83D\uDD17 Tx: ${T}
\uD83C\uDFAF Event: ReserveTransferred | \uD83D\uDD22 TokenID: ${P} | \uD83D\uDCB0 Amount: ${S} (raw)`}else if(Z.type==="ReserveUpdated"){let{tokenId:M,newBalance:I}=Z.data,P=iO(M),S=rO(M),j=(Number(I)/10**S).toFixed(4);F=`\uD83D\uDCCA ${X} observed RESERVE UPDATE: ${P} balance now ${j} (accepted: event.block=${V} > entity.jBlock=${H})
\uD83D\uDCCD Block: ${V} | ⏰ ${A} | \uD83D\uDD17 Tx: ${T}
\uD83C\uDFAF Event: ReserveUpdated | \uD83D\uDD22 TokenID: ${M} | \uD83D\uDCB0 New Balance: ${I} (raw)
\uD83C\uDFE6 Decimals: ${S} | \uD83D\uDD24 Symbol: ${P}`}else if(Z.type==="SettlementProcessed"){let{counterpartyEntityId:M,tokenId:I,ownReserve:P,counterpartyReserve:S,collateral:j,ondelta:N,side:w}=Z.data,k=iO(I),f=rO(I),v=(Number(P)/10**f).toFixed(4),c=(Number(S)/10**f).toFixed(4),u=(Number(j)/10**f).toFixed(4);F=`⚖️ ${X} observed SETTLEMENT: ${k} settled with Entity ${M.slice(-4)}
\uD83D\uDCCD Block: ${V} | ⏰ ${A} | \uD83D\uDD17 Tx: ${T}
\uD83C\uDFAF Event: SettlementProcessed | \uD83D\uDD22 TokenID: ${I} | \uD83D\uDC64 Side: ${w}
\uD83D\uDCB0 Own Reserve: ${v} | \uD83E\uDD1D Counterparty: ${c}
\uD83D\uDD12 Collateral: ${u} | \uD83D\uDCCA OnDelta: ${N}`}else F=`\uD83D\uDD0D ${X} observed J-EVENT: ${Z.type}
\uD83D\uDCCD Block: ${V} | ⏰ ${A} | \uD83D\uDD17 Tx: ${T}
\uD83D\uDCCB Data: ${JSON.stringify(Z.data,null,2)}`;if(D.messages.push(F),Z.type==="ReserveUpdated"){let{entity:M,tokenId:I,newBalance:P}=Z.data;if(M===$.entityId){if(D.reserves.set(String(I),BigInt(P)),u0)console.log(`✅ Reserve updated for ${M.slice(0,10)}...: Token ${I} new balance is ${P}`)}}else if(Z.type==="reserve_transferred"){let{tokenId:M,amount:I,direction:P}=Z.data;if(P==="sent"){if(D.reserves.get(String(M))===void 0)D.reserves.set(String(M),0n),console.warn(`\uD83D\uDD0D RESERVE-INIT: Initialized new token ${M} reserve to 0n`);let N=D.reserves.get(String(M))-BigInt(I);D.reserves.set(String(M),N>=0n?N:0n)}else if(P==="received"){if(D.reserves.get(String(M))===void 0)D.reserves.set(String(M),0n),console.warn(`\uD83D\uDD0D RESERVE-INIT: Initialized new token ${M} reserve to 0n`);let j=D.reserves.get(String(M));D.reserves.set(String(M),j+BigInt(I))}if(u0)console.log(`✅ Reserve transfer processed: ${P} ${I} token ${M}`)}else if(Z.type==="SettlementProcessed"){let{counterpartyEntityId:M,tokenId:I,ownReserve:P,counterpartyReserve:S,collateral:j,ondelta:N,side:w}=Z.data;D.reserves.set(String(I),BigInt(P));let k={fromEntityId:$.entityId,toEntityId:M,accountTx:{type:"account_settle",data:{tokenId:Number(I),ownReserve:P,counterpartyReserve:S,collateral:j,ondelta:N,side:w,blockNumber:V,transactionHash:G}},metadata:{purpose:"settlement_consensus",description:`Settlement event from j-machine for token ${I}`}};if(!D.accountInputQueue)D.accountInputQueue=[];if(D.accountInputQueue.push(k),u0)console.log(`✅ SettlementProcessed: Created accountInput for token ${I} with counterparty ${M.slice(0,10)}...`)}else D.messages.push(`⚠️ Unhandled j-event type: ${Z.type}`);return D};ZX();var Sq=($,Q,X)=>{let Z=JSON.stringify({type:$.type,data:$.data,proposer:Q,timestamp:X.timestamp});return`prop_${tD("sha256").update(Z).digest("hex").slice(0,12)}`},aO=($,Q)=>{if(Q.action.type==="collective_message"){let X=`[COLLECTIVE] ${Q.action.data.message}`;if(u0)console.log(`    \uD83C\uDFDB️  Executing collective proposal: "${X}"`);let Z=[...$.messages,X];if(Z.length>10)Z.shift();return{...$,messages:Z}}return $};ZX();var Bq=($)=>{try{if(typeof $!=="string")return i0.error(`❌ Message must be string, got: ${typeof $}`),!1;if($.length>1000)return i0.error(`❌ Message too long: ${$.length} > 1000 chars`),!1;if($.length===0)return i0.error("❌ Empty message not allowed"),!1;return!0}catch(Q){return i0.error(`❌ Message validation error: ${Q}`),!1}};RG();var jq=async($,Q,X)=>{if(!X)return console.error("❌ EntityTx is undefined!"),{newState:Q,outputs:[]};console.log(`\uD83D\uDEA8\uD83D\uDEA8 APPLY-ENTITY-TX: type="${X?.type}" (typeof: ${typeof X?.type})`),console.log("\uD83D\uDEA8\uD83D\uDEA8 APPLY-ENTITY-TX: data=",TX(X?.data,2)),console.log("\uD83D\uDEA8\uD83D\uDEA8 APPLY-ENTITY-TX: Available types: profile-update, j_event, accountInput, openAccount, directPayment");try{if(X.type==="chat"){let{from:Z,message:Y}=X.data;if(!Bq(Y))return i0.error(`❌ Invalid chat message from ${Z}`),{newState:Q,outputs:[]};let G=(Q.nonces.get(Z)||0)+1,H=KZ(Q);if(H.nonces.set(Z,G),H.messages.push(`${Z}: ${Y}`),H.messages.length>10)H.messages.shift();return{newState:H,outputs:[]}}if(X.type==="propose"){let{action:Z,proposer:Y}=X.data,V=Sq(Z,Y,Q);if(u0)console.log(`    \uD83D\uDCDD Creating proposal ${V} by ${Y}: ${Z.data.message}`);let G={id:V,proposer:Y,action:Z,votes:new Map([[Y,"yes"]]),status:"pending",created:Q.timestamp},H=Q.config.shares[Y]||BigInt(0),D=H>=Q.config.threshold,A=KZ(Q);if(D){if(G.status="executed",A=aO(A,G),u0)console.log(`    ⚡ Proposal executed immediately - proposer has ${H} >= ${Q.config.threshold} threshold`)}else if(u0)console.log(`    ⏳ Proposal pending votes - proposer has ${H} < ${Q.config.threshold} threshold`);return A.proposals.set(V,G),{newState:A,outputs:[]}}if(X.type==="vote"){console.log("\uD83D\uDDF3️ PROCESSING VOTE: entityTx.data=",X.data);let{proposalId:Z,voter:Y,choice:V,comment:G}=X.data,H=Q.proposals.get(Z);if(console.log(`\uD83D\uDDF3️ Vote lookup: proposalId=${Z}, found=${!!H}, status=${H?.status}`),console.log("\uD83D\uDDF3️ Available proposals:",Array.from(Q.proposals.keys())),!H||H.status!=="pending")return console.log(`    ❌ Vote ignored - proposal ${Z.slice(0,12)}... not found or not pending`),{newState:Q,outputs:[]};console.log(`    \uD83D\uDDF3️  Vote by ${Y}: ${V} on proposal ${Z.slice(0,12)}...`);let D=KZ(Q),A={...H,votes:new Map(H.votes)},T=G!==void 0?{choice:V,comment:G}:V;A.votes.set(Y,T);let F=Array.from(A.votes.entries()).filter(([I,P])=>{return(typeof P==="object"?P.choice:P)==="yes"}).map(([I,P])=>I),M=FU(Q.config,F);if(u0){let I=Object.values(Q.config.shares).reduce((S,j)=>S+j,BigInt(0)),P=(Number(M)/Number(Q.config.threshold)*100).toFixed(1);console.log(`    \uD83D\uDD0D Proposal votes: ${M} / ${I} [${P}% threshold${Number(M)>=Number(Q.config.threshold)?"+":""}]`)}if(M>=Q.config.threshold){A.status="executed";let I=aO(D,A);return I.proposals.set(Z,A),{newState:I,outputs:[]}}return D.proposals.set(Z,A),{newState:D,outputs:[]}}if(X.type==="profile-update"){console.log("\uD83C\uDFF7️ Profile update transaction processing - data:",X.data);let Z=X.data.profile;if(console.log("\uD83C\uDFF7️ Extracted profileData:",Z),Z&&Z.entityId){console.log(`\uD83C\uDFF7️ Calling processProfileUpdate for entity ${Z.entityId}`);try{await Zq(NZ,Z.entityId,Z,Z.hankoSignature||"",$)}catch(Y){console.error(`❌ Failed to process profile update for ${Z.entityId}:`,Y)}}else console.warn("⚠️ Invalid profile-update transaction data:",X.data),console.warn("⚠️ ProfileData missing or invalid:",Z);return{newState:Q,outputs:[]}}if(X.type==="j_event")return{newState:Pq(Q,X.data),outputs:[]};if(X.type==="accountInput")return await Eq(Q,X.data,$);if(X.type==="openAccount"){console.log(`\uD83D\uDCB3 OPEN-ACCOUNT: Opening account with ${X.data.targetEntityId}`);let Z=KZ(Q),Y=[];if(Z.messages.push(`\uD83D\uDCB3 Opening account with Entity ${KQ(X.data.targetEntityId)}...`),!Z.accounts.has(X.data.targetEntityId)){console.log(`\uD83D\uDCB3 LOCAL-ACCOUNT: Creating local account with Entity ${KQ(X.data.targetEntityId)}...`);let D=new Map;D.set(2,AG(2,0n,0n)),Z.accounts.set(X.data.targetEntityId,{counterpartyEntityId:X.data.targetEntityId,mempool:[],currentFrame:{frameId:0,timestamp:Date.now(),tokenIds:[],deltas:[]},sentTransitions:0,ackedTransitions:0,deltas:D,globalCreditLimits:{ownLimit:jZ(3),peerLimit:jZ(3)},currentFrameId:0,pendingSignatures:[],rollbackCount:0,sendCounter:0,receiveCounter:0,proofHeader:{fromEntity:Q.entityId,toEntity:X.data.targetEntityId,cooperativeNonce:0,disputeNonce:0},proofBody:{tokenIds:[],deltas:[]},frameHistory:[]})}console.log(`\uD83D\uDCB3 Sending initial AccountInput to ${KQ(X.data.targetEntityId)} to establish account`);let V={fromEntityId:Q.entityId,toEntityId:X.data.targetEntityId,accountTx:{type:"account_payment",data:{tokenId:2,amount:0n}}},G="alice",H=Array.from($.replicas.keys()).filter((D)=>D.startsWith(X.data.targetEntityId+":"));if(H.length>0){let D=H[0];if(D){let T=$.replicas.get(D)?.state.config.validators[0];if(T)G=T}}if(console.log(`\uD83D\uDCB3 Target entity ${X.data.targetEntityId.slice(0,10)} has proposer: ${G}`),Y.push({entityId:X.data.targetEntityId,signerId:G,entityTxs:[{type:"accountInput",data:V}]}),console.log(`\uD83D\uDCE4 Queued AccountInput for Entity ${KQ(X.data.targetEntityId)}`),Z.messages.push(`✅ Account opening request sent to Entity ${KQ(X.data.targetEntityId)}`),$.gossip){let D=Lq(Z);$.gossip.announce(D),console.log(`\uD83D\uDCE1 Broadcast profile for ${Q.entityId} with ${Z.accounts.size} accounts`)}return{newState:Z,outputs:Y}}if(X.type==="directPayment"){console.log(`\uD83D\uDCB8 DIRECT-PAYMENT: Initiating payment to ${X.data.targetEntityId}`);let Z=KZ(Q),Y=[],{targetEntityId:V,tokenId:G,amount:H,route:D,description:A}=X.data;if(!D||D.length===0)if(Z.accounts.has(V))console.log(`\uD83D\uDCB8 Direct account exists with ${KQ(V)}`),D=[Q.entityId,V];else if(console.log(`\uD83D\uDCB8 No direct account, finding route to ${KQ(V)}`),$.gossip){let P=$.gossip.getNetworkGraph().findPaths(Q.entityId,V);if(P.length>0)D=P[0].path,console.log(`\uD83D\uDCB8 Found route: ${D.map((S)=>KQ(S)).join(" → ")}`);else return console.error(`❌ No route found to ${KQ(V)}`),Z.messages.push(`❌ Payment failed: No route to ${KQ(V)}`),{newState:Z,outputs:[]}}else return console.error("❌ Cannot find route: Gossip layer not available"),Z.messages.push("❌ Payment failed: Network routing unavailable"),{newState:Z,outputs:[]};if(D.length<2||D[0]!==Q.entityId)return console.error("❌ Invalid route: doesn't start with current entity"),{newState:Q,outputs:[]};let T=D[1];if(!T)return console.error("❌ Invalid route: no next hop specified in route"),{newState:Q,outputs:[]};if(!Z.accounts.has(T))return console.error(`❌ No account with next hop: ${T}`),Z.messages.push(`❌ Payment failed: No account with ${KQ(T)}`),{newState:Z,outputs:[]};let F={type:"direct_payment",data:{tokenId:G,amount:H,route:D.slice(1),description:A||`Payment to ${KQ(V)}`}},M=Z.accounts.get(T);if(M){M.mempool.push(F),console.log(`\uD83D\uDCB8 Added payment to mempool for account with ${KQ(T)}`),console.log(`\uD83D\uDCB8 Account mempool now has ${M.mempool.length} pending transactions`);let I=M.proofHeader.fromEntity<M.proofHeader.toEntity;console.log(`\uD83D\uDCB8 Is left entity: ${I}, Has pending frame: ${!!M.pendingFrame}`),Z.messages.push(`\uD83D\uDCB8 Sending ${H} (token ${G}) to ${KQ(V)} via ${D.length-1} hops`),console.log(`\uD83D\uDCB8 Payment queued for bilateral consensus with ${KQ(T)}`),console.log(`\uD83D\uDCB8 Account ${KQ(T)} should be added to proposableAccounts`);let P=Q.config.validators[0];if(P)Y.push({entityId:Q.entityId,signerId:P,entityTxs:[]});console.log("\uD83D\uDCB8 Added processing trigger to ensure bilateral consensus runs")}return{newState:Z,outputs:Y}}return{newState:Q,outputs:[]}}catch(Z){return i0.error(`❌ Transaction execution error: ${Z}`),{newState:Q,outputs:[]}}};QV();ZX();var n3=($)=>{try{if(!$.entityId||typeof $.entityId!=="string")return i0.error(`❌ Invalid entityId: ${$.entityId}`),!1;if(!$.signerId||typeof $.signerId!=="string")return i0.error(`❌ Invalid signerId: ${$.signerId}`),!1;if($.entityTxs){if(!Array.isArray($.entityTxs))return i0.error(`❌ EntityTxs must be array, got: ${typeof $.entityTxs}`),!1;if($.entityTxs.length>1000)return i0.error(`❌ Too many transactions: ${$.entityTxs.length} > 1000`),!1;for(let Q of $.entityTxs){if(!Q.type||!Q.data)return i0.error(`❌ Invalid transaction: ${TX(Q)}`),!1;if(typeof Q.type!=="string"||!["chat","propose","vote","profile-update","j_event","accountInput","openAccount","directPayment"].includes(Q.type))return i0.error(`❌ Invalid transaction type: ${Q.type}`),!1}}if($.precommits){if(!($.precommits instanceof Map))return i0.error(`❌ Precommits must be Map, got: ${typeof $.precommits}`),!1;if($.precommits.size>100)return i0.error(`❌ Too many precommits: ${$.precommits.size} > 100`),!1;for(let[Q,X]of $.precommits)if(typeof Q!=="string"||typeof X!=="string")return i0.error(`❌ Invalid precommit format: ${Q} -> ${X}`),!1}if($.proposedFrame){let Q=$.proposedFrame;if(typeof Q.height!=="number"||Q.height<0)return i0.error(`❌ Invalid frame height: ${Q.height}`),!1;if(!Array.isArray(Q.txs))return i0.error("❌ Frame txs must be array"),!1;if(!Q.hash||typeof Q.hash!=="string")return i0.error(`❌ Invalid frame hash: ${Q.hash}`),!1}return!0}catch(Q){return i0.error(`❌ Input validation error: ${Q}`),!1}},s3=($)=>{try{if(!$.entityId||!$.signerId)return i0.error(`❌ Invalid replica IDs: ${$.entityId}:${$.signerId}`),!1;if($.state.height<0)return i0.error(`❌ Invalid state height: ${$.state.height}`),!1;if($.mempool.length>1e4)return i0.error(`❌ Mempool overflow: ${$.mempool.length} > 10000`),!1;return!0}catch(Q){return i0.error(`❌ Replica validation error: ${Q}`),!1}},i3=($,Q,X)=>{try{let Z=$.get(Q);if(Z&&Z!==X)return i0.error(`❌ BYZANTINE FAULT: Double-sign detected from ${Q}`),i0.error(`❌ Existing: ${Z}`),i0.error(`❌ New: ${X}`),!0;return!1}catch(Z){return i0.error(`❌ Byzantine detection error: ${Z}`),!1}},r3=($,Q)=>{try{let Z=Math.abs($-Q);if(Z>30000)return i0.error(`❌ Timestamp drift too large: ${Z}ms > ${30000}ms`),i0.error(`❌ Proposed: ${new Date($).toISOString()}`),i0.error(`❌ Current: ${new Date(Q).toISOString()}`),!1;return!0}catch(X){return i0.error(`❌ Timestamp validation error: ${X}`),!1}},a3=($)=>{try{if($<0n)return i0.error(`❌ Negative voting power: ${$}`),!1;if($>BigInt(Number.MAX_SAFE_INTEGER))return i0.error(`❌ Voting power overflow: ${$} > ${Number.MAX_SAFE_INTEGER}`),!1;return!0}catch(Q){return i0.error(`❌ Voting power validation error: ${Q}`),!1}},wq=async($,Q,X)=>{let Z=H$(X.entityId),Y=Date.now(),V=Q.proposal?.hash?.slice(0,10)||"none",G=X.proposedFrame?.hash?.slice(0,10)||"none";if(console.log(`\uD83D\uDD0D INPUT-RECEIVED: [${Y}] Processing input for Entity #${Z}:${nJ(X.signerId)}`),console.log(`\uD83D\uDD0D INPUT-STATE: Current proposal: ${V}, Mempool: ${Q.mempool.length}, isProposer: ${Q.isProposer}`),console.log(`\uD83D\uDD0D INPUT-DETAILS: txs=${X.entityTxs?.length||0}, precommits=${X.precommits?.size||0}, frame=${G}`),X.precommits?.size){let D=Array.from(X.precommits.keys());console.log(`\uD83D\uDD0D INPUT-PRECOMMITS: Received precommits from: ${D.join(", ")}`);let A=X.precommits.values().next().value,T=A?A.split("_")[2]?.slice(0,10):"unknown";console.log(`\uD83D\uDD0D PRECOMMIT-PROPOSAL: These precommits are for proposal: ${T}`)}if(!n3(X))return i0.error(`❌ Invalid input for ${X.entityId}:${X.signerId}`),{newState:Q.state,outputs:[]};if(!s3(Q))return i0.error(`❌ Invalid replica state for ${Q.entityId}:${Q.signerId}`),{newState:Q.state,outputs:[]};let H=[];if(X.entityTxs?.length){let D=X.entityTxs.filter((A)=>A.type==="vote");if(D.length>0)console.log(`\uD83D\uDDF3️ VOTE-MEMPOOL: ${Q.signerId} receiving ${D.length} vote transactions`),D.forEach((A)=>{console.log("\uD83D\uDDF3️ VOTE-TX:",A)});if(Q.signerId==="alice")console.log(`\uD83D\uDD25 ALICE-RECEIVES: Alice receiving ${X.entityTxs.length} txs from input`),console.log("\uD83D\uDD25 ALICE-RECEIVES: Transaction types:",X.entityTxs.map((A)=>A.type)),console.log(`\uD83D\uDD25 ALICE-RECEIVES: Alice isProposer=${Q.isProposer}, current mempool=${Q.mempool.length}`);for(let A of X.entityTxs)console.log(`\uD83C\uDFDB️ E-MACHINE: - EntityTx type="${A.type}", data=`,TX(A.data,2));if(Q.mempool.push(...X.entityTxs),u0)console.log(`    → Added ${X.entityTxs.length} txs to mempool (total: ${Q.mempool.length})`);if(u0&&X.entityTxs.length>3)console.log(`    ⚠️  CORNER CASE: Large batch of ${X.entityTxs.length} transactions`)}else if(X.entityTxs&&X.entityTxs.length===0){if(u0)console.log("    ⚠️  CORNER CASE: Empty transaction array received - no mempool changes")}if(!Q.isProposer&&Q.mempool.length>0){if(u0)console.log(`    → Non-proposer sending ${Q.mempool.length} txs to proposer`);let D=Q.state.config.validators[0];if(!D)return console.error(`❌ No proposer found in validators: ${Q.state.config.validators}`),{newState:Q.state,outputs:H};console.log(`\uD83D\uDD25 BOB-TO-ALICE: Bob sending ${Q.mempool.length} txs to proposer ${D}`),console.log("\uD83D\uDD25 BOB-TO-ALICE: Transaction types:",Q.mempool.map((A)=>A.type)),H.push({entityId:X.entityId,signerId:D,entityTxs:[...Q.mempool]}),Q.mempool.length=0}if(X.precommits?.size&&X.proposedFrame&&!Q.proposal){let D=Array.from(X.precommits.keys());if(FU(Q.state.config,D)>=Q.state.config.threshold){if(u0)console.log(`    → Received commit notification with ${X.precommits.size} signatures`);if(Q.state={...X.proposedFrame.newState,height:Q.state.height+1},Q.mempool.length=0,delete Q.lockedFrame,u0)console.log(`    → Applied commit, new state: ${Q.state.messages.length} messages, height: ${Q.state.height}`);return{newState:Q.state,outputs:H}}}if(X.proposedFrame&&(!Q.proposal||Q.state.config.mode==="gossip-based"&&Q.isProposer)){let D=`sig_${Q.signerId}_${X.proposedFrame.hash}`,A=Q.state.config;if(Q.lockedFrame=X.proposedFrame,u0)console.log(`    → Validator locked to frame ${X.proposedFrame.hash.slice(0,10)}...`);if(A.mode==="gossip-based"){if(A.validators.forEach((T)=>{console.log(`\uD83D\uDD0D GOSSIP: [${Y}] ${Q.signerId} sending precommit to ${T} for entity ${X.entityId.slice(0,10)}, proposal ${G}, sig: ${D.slice(0,20)}...`),H.push({entityId:X.entityId,signerId:T,precommits:new Map([[Q.signerId,D]])})}),u0)console.log(`    → Signed proposal, gossiping precommit to ${A.validators.length} validators`)}else{let T=A.validators[0];if(!T)return console.error(`❌ No proposer found in validators: ${A.validators}`),{newState:Q.state,outputs:H};if(console.log(`\uD83D\uDD0D PROPOSER: [${Y}] ${Q.signerId} sending precommit to ${T} for entity ${X.entityId.slice(0,10)}, proposal ${G}, sig: ${D.slice(0,20)}...`),console.log(`\uD83D\uDD0D PROPOSER-REASON: Signed new proposal, current state: proposal=${V}, locked=${Q.lockedFrame?.hash?.slice(0,10)||"none"}`),H.push({entityId:X.entityId,signerId:T,precommits:new Map([[Q.signerId,D]])}),u0)console.log(`    → Signed proposal, sending precommit to ${T}`)}}if(X.precommits?.size&&Q.proposal){for(let[T,F]of X.precommits){if(i3(Q.proposal.signatures,T,F))return i0.error(`❌ Rejecting Byzantine input from ${T}`),{newState:Q.state,outputs:H};Q.proposal.signatures.set(T,F)}if(u0)console.log(`    → Collected ${X.precommits.size} signatures (total: ${Q.proposal.signatures.size})`);let D=Array.from(Q.proposal.signatures.keys()),A=FU(Q.state.config,D);if(!a3(A))return i0.error(`❌ Invalid voting power calculation: ${A}`),{newState:Q.state,outputs:H};if(u0){let T=Object.values(Q.state.config.shares).reduce((M,I)=>M+I,BigInt(0)),F=(Number(A)/Number(Q.state.config.threshold)*100).toFixed(1);if(i0.info(`    \uD83D\uDD0D Threshold check: ${A} / ${T} [${F}% threshold${Number(A)>=Number(Q.state.config.threshold)?"+":""}]`),Q.state.config.mode==="gossip-based")console.log("    ⚠️  CORNER CASE: Gossip mode - all validators receive precommits")}if(A>=Q.state.config.threshold){if(Q.state={...Q.proposal.newState,height:Q.state.height+1},u0)console.log(`    → Threshold reached! Committing frame, height: ${Q.state.height}`);let T=t3(Q.proposal.signatures,Q.state.config),F=Q.proposal;if(Q.mempool.length=0,delete Q.proposal,delete Q.lockedFrame,Q.state.config.mode==="proposer-based"){let M=F.hash.slice(0,10);console.log(`\uD83D\uDD0D COMMIT-START: [${Y}] ${Q.signerId} reached threshold for proposal ${M}, sending commit notifications...`),Q.state.config.validators.forEach((P)=>{if(P!==Q.signerId){let S=Array.from(T.keys());console.log(`\uD83D\uDD0D COMMIT: [${Y}] ${Q.signerId} sending commit notification to ${P} for entity ${X.entityId.slice(0,10)}, proposal ${M} (${T.size} precommits from: ${S.join(", ")})`),H.push({entityId:X.entityId,signerId:P,precommits:T,proposedFrame:F})}});let I=Q.state.config.validators.length-1;if(u0)console.log(`    → Sending commit notifications to ${I} validators (excluding self)`)}else if(console.log(`\uD83D\uDD0D GOSSIP-COMMIT: [${Y}] ${Q.signerId} NOT sending commit notifications (gossip mode) for entity ${X.entityId.slice(0,10)}...`),u0)console.log("    → Gossip mode: No commit notifications needed (everyone has precommits via gossip)")}}if(console.log(`\uD83C\uDFAF CONSENSUS-CHECK: Entity ${Q.entityId}:${Q.signerId}`),console.log(`\uD83C\uDFAF   isProposer: ${Q.isProposer}`),console.log(`\uD83C\uDFAF   mempool.length: ${Q.mempool.length}`),console.log(`\uD83C\uDFAF   hasProposal: ${!!Q.proposal}`),Q.mempool.length>0)console.log("\uD83C\uDFAF   mempoolTypes:",Q.mempool.map((D)=>D.type));if(Q.isProposer&&Q.mempool.length>0&&!Q.proposal){if(console.log("\uD83D\uDD25 ALICE-PROPOSES: Alice auto-propose triggered!"),console.log(`\uD83D\uDD25 ALICE-PROPOSES: mempool=${Q.mempool.length}, isProposer=${Q.isProposer}, hasProposal=${!!Q.proposal}`),console.log("\uD83D\uDD25 ALICE-PROPOSES: Mempool transaction types:",Q.mempool.map((P)=>P.type)),Q.state.config.validators.length===1&&Q.state.config.threshold===BigInt(1)){console.log("\uD83D\uDE80 SINGLE-SIGNER: Direct execution without consensus for single signer entity");let{newState:P,outputs:S}=await Nq($,Q.state,Q.mempool);if(Q.state={...P,height:Q.state.height+1},H.push(...S),Q.mempool.length=0,u0)console.log(`    ⚡ Single signer entity: transactions applied directly, height: ${Q.state.height}`);return{newState:Q.state,outputs:H}}if(u0)console.log(`    \uD83D\uDE80 Auto-propose triggered: mempool=${Q.mempool.length}, isProposer=${Q.isProposer}, hasProposal=${!!Q.proposal}`);let{newState:A,outputs:T}=await Nq($,Q.state,Q.mempool);H.push(...T);let F=Date.now();if(!r3(F,Date.now()))return i0.error(`❌ Invalid proposal timestamp: ${F}`),{newState:Q.state,outputs:H};let M=`frame_${Q.state.height+1}_${F}`,I=`sig_${Q.signerId}_${M}`;if(Q.proposal={height:Q.state.height+1,txs:[...Q.mempool],hash:M,newState:{...A,height:Q.state.height+1,timestamp:F},signatures:new Map([[Q.signerId,I]])},u0)console.log(`    → Auto-proposing frame ${Q.proposal.hash} with ${Q.proposal.txs.length} txs and self-signature.`);Q.state.config.validators.forEach((P)=>{if(P!==Q.signerId)H.push({entityId:X.entityId,signerId:P,proposedFrame:Q.proposal})})}else if(Q.isProposer&&Q.mempool.length===0&&!Q.proposal){if(u0)console.log("    ⚠️  CORNER CASE: Proposer with empty mempool - no auto-propose")}else if(!Q.isProposer&&Q.mempool.length>0){if(u0)console.log(`    → Non-proposer sending ${Q.mempool.length} txs to proposer`);let D=Q.state.config.validators[0];if(!D)return console.error(`❌ No proposer found in validators: ${Q.state.config.validators}`),{newState:Q.state,outputs:H};console.log(`\uD83D\uDD25 BOB-TO-ALICE: Bob sending ${Q.mempool.length} txs to proposer ${D}`),console.log("\uD83D\uDD25 BOB-TO-ALICE: Transaction types:",Q.mempool.map((A)=>A.type)),H.push({entityId:X.entityId,signerId:D,entityTxs:[...Q.mempool]}),Q.mempool.length=0}else if(Q.isProposer&&Q.proposal){if(u0)console.log("    ⚠️  CORNER CASE: Proposer already has pending proposal - no new auto-propose")}return console.log(`\uD83D\uDD0D OUTPUT-GENERATED: [${Y}] Entity #${Z}:${nJ(Q.signerId)} generating ${H.length} outputs`),console.log(`\uD83D\uDD0D OUTPUT-FINAL-STATE: proposal=${Q.proposal?.hash?.slice(0,10)||"none"}, mempool=${Q.mempool.length}, locked=${Q.lockedFrame?.hash?.slice(0,10)||"none"}`),H.forEach((D,A)=>{let T=H$(D.entityId),F=D.proposedFrame?.hash?.slice(0,10)||"none";if(console.log(`\uD83D\uDD0D OUTPUT-${A+1}: [${Y}] To Entity #${T}:${nJ(D.signerId)} - txs=${D.entityTxs?.length||0}, precommits=${D.precommits?.size||0}, frame=${F}`),D.precommits?.size){let M=Array.from(D.precommits.keys());console.log(`\uD83D\uDD0D OUTPUT-${A+1}-PRECOMMITS: Sending precommits from: ${M.join(", ")}`),D.precommits.forEach((I,P)=>{let S=I.slice(0,20),j=I.split("_")[2]?.slice(0,10)||"unknown";console.log(`\uD83D\uDD0D OUTPUT-${A+1}-SIG-DETAIL: ${P} -> ${S}... (proposal: ${j})`)})}if(D.proposedFrame&&D.precommits?.size)console.log(`\uD83D\uDD0D OUTPUT-${A+1}-TYPE: COMMIT_NOTIFICATION (frame + precommits)`);else if(D.precommits?.size)console.log(`\uD83D\uDD0D OUTPUT-${A+1}-TYPE: PRECOMMIT_VOTE (precommits only)`);else if(D.proposedFrame)console.log(`\uD83D\uDD0D OUTPUT-${A+1}-TYPE: PROPOSAL (frame only)`);else if(D.entityTxs?.length)console.log(`\uD83D\uDD0D OUTPUT-${A+1}-TYPE: TRANSACTION_FORWARD (txs only)`);else console.log(`\uD83D\uDD0D OUTPUT-${A+1}-TYPE: UNKNOWN (empty output)`)}),{newState:Q.state,outputs:H}},Nq=async($,Q,X)=>{console.log(`\uD83C\uDFAF APPLY-ENTITY-FRAME: Processing ${X.length} transactions`),X.forEach((T,F)=>{console.log(`\uD83C\uDFAF Transaction ${F}: type="${T.type}", data=`,T.data)});let Z=Q,Y=[],V=new Set;for(let T of X){let{newState:F,outputs:M}=await jq($,Z,T);if(Z=F,Y.push(...M),T.type==="accountInput"&&T.data){let I=T.data.fromEntityId,P=Z.accounts.get(I);if(P){let S=T.data.newAccountFrame,j=T.data.frameId&&T.data.prevSignatures,N=T.data.accountTx,w=P.mempool.length>0;if(S||w&&!P.pendingFrame||N)V.add(I),console.log(`\uD83D\uDD04 Added ${I.slice(0,10)} to proposable - NewFrame:${S}, AccTx:${N}, Pending:${w}`);else if(j)console.log(`✅ Received ACK from ${I.slice(0,10)}, no action needed (mempool empty)`)}}else if(T.type==="directPayment"&&T.data){console.log("\uD83D\uDD0D DIRECT-PAYMENT detected in applyEntityFrame"),console.log("\uD83D\uDD0D Payment data:",{targetEntityId:T.data.targetEntityId,route:T.data.route,amount:T.data.amount}),console.log(`\uD83D\uDD0D Current entity has ${Z.accounts.size} accounts`);for(let[I,P]of Z.accounts){let S=P.proofHeader.fromEntity<P.proofHeader.toEntity;if(console.log(`\uD83D\uDD0D Checking account ${I.slice(0,10)}: mempool=${P.mempool.length}, isLeft=${S}, pendingFrame=${!!P.pendingFrame}`),P.mempool.length>0)V.add(I),console.log(`\uD83D\uDD04 ✅ Added ${I.slice(0,10)} to proposableAccounts (has ${P.mempool.length} mempool items)`)}}else if(T.type==="openAccount"&&T.data){let I=T.data.targetEntityId,P=Z.accounts.get(I);if(P){if(P.proofHeader.fromEntity<P.proofHeader.toEntity)V.add(I),console.log(`\uD83D\uDD04 Added ${I.slice(0,10)} to proposable (new account opened)`)}}}console.log("\uD83D\uDE80 AUTO-PROPOSE: Starting bilateral consensus check"),console.log(`\uD83D\uDE80 Proposable accounts so far: ${Array.from(V).join(", ")||"none"}`);let{getAccountsToProposeFrames:G,proposeAccountFrame:H}=await Promise.resolve().then(() => (sO(),Rq)),D=G(Z);console.log(`\uD83D\uDE80 Additional accounts from getAccountsToProposeFrames: ${D.join(", ")||"none"}`),D.forEach((T)=>V.add(T));let A=Array.from(V);if(A.length>0){console.log(`\uD83D\uDD04 AUTO-PROPOSE: ${A.length} accounts need frame proposals`),console.log(`\uD83D\uDD04 AUTO-PROPOSE: Accounts to propose: ${A.map((T)=>T.slice(0,10)).join(", ")}`);for(let T of A){console.log(`\uD83D\uDD04 AUTO-PROPOSE: Processing account ${T.slice(0,10)}...`);let F=Z.accounts.get(T);if(F){console.log(`\uD83D\uDD04 AUTO-PROPOSE: Account details - mempool=${F.mempool.length}, pendingFrame=${!!F.pendingFrame}`);let M=await H(F);if(console.log(`\uD83D\uDD04 AUTO-PROPOSE: Proposal result - success=${M.success}, hasInput=${!!M.accountInput}, error=${M.error||"none"}`),M.success&&M.accountInput){let I="alice",P=Array.from($.replicas.keys()).filter((S)=>S.startsWith(M.accountInput.toEntityId+":"));if(P.length>0){let j=$.replicas.get(P[0])?.state.config.validators[0];if(j)I=j}Y.push({entityId:M.accountInput.toEntityId,signerId:I,entityTxs:[{type:"accountInput",data:M.accountInput}]}),Z.messages.push(...M.events)}}}}return{newState:Z,outputs:Y}},FU=($,Q)=>{return Q.reduce((X,Z)=>{let Y=$.shares[Z];if(Y===void 0)throw new Error(`CONSENSUS-SAFETY: Unknown validator ${Z} - cannot calculate quorum power`);return X+Y},0n)},t3=($,Q)=>{let X=Array.from($.entries()).sort(([Z],[Y])=>{let V=Q.validators.indexOf(Z),G=Q.validators.indexOf(Y);return V-G});return new Map(X)},_q=($)=>{let Q=new Map,X=0,Z=Date.now();console.log(`\uD83D\uDD0D MERGE-START: [${Z}] Processing ${$.length} entity inputs for merging`);let Y=$.map((G,H)=>{let D=G.entityId.slice(0,10),A=G.proposedFrame?.hash?.slice(0,10)||"none",T=G.precommits?.size||0,F=G.precommits?Array.from(G.precommits.keys()).join(","):"none";return`${H+1}:${D}:${G.signerId}(txs=${G.entityTxs?.length||0},pc=${T}[${F}],f=${A})`});console.log(`\uD83D\uDD0D MERGE-INPUTS: ${Y.join(" | ")}`);let V=$.filter((G)=>G.signerId.includes("carol"));if(V.length>1)console.log(`\uD83D\uDD0D MERGE-CAROL-ALERT: Found ${V.length} inputs from Carol - potential duplicate source!`),V.forEach((G,H)=>{let D=G.entityId.slice(0,10),A=G.precommits?Array.from(G.precommits.keys()).join(","):"none";console.log(`\uD83D\uDD0D MERGE-CAROL-${H+1}: ${D}:${G.signerId} - precommits: ${A}`)});for(let G of $){let H=`${G.entityId}:${G.signerId}`,D=G.entityId.slice(0,10);if(Q.has(H)){let A=Q.get(H);if(X++,console.log(`\uD83D\uDD0D DUPLICATE-FOUND: Merging duplicate input ${X} for ${D}:${G.signerId}`),G.entityTxs)A.entityTxs=[...A.entityTxs||[],...G.entityTxs],console.log(`\uD83D\uDD0D MERGE-TXS: Added ${G.entityTxs.length} transactions`);if(G.precommits){let T=A.precommits||new Map;console.log(`\uD83D\uDD0D MERGE-PRECOMMITS: Merging ${G.precommits.size} precommits into existing ${T.size} for ${D}:${G.signerId}`),G.precommits.forEach((F,M)=>{console.log(`\uD83D\uDD0D MERGE-DETAIL: Adding precommit from ${M} (sig: ${F.slice(0,20)}...)`),T.set(M,F)}),A.precommits=T,console.log(`\uD83D\uDD0D MERGE-RESULT: Total ${T.size} precommits after merge`)}if(G.proposedFrame)A.proposedFrame=G.proposedFrame;console.log(`    \uD83D\uDD04 Merging inputs for ${H}: txs=${G.entityTxs?.length||0}, precommits=${G.precommits?.size||0}, frame=${!!G.proposedFrame}`)}else Q.set(H,{...G})}if(X>0)console.log(`    ⚠️  CORNER CASE: Merged ${X} duplicate inputs (${$.length} → ${Q.size})`);return Array.from(Q.values())};VG();dW();function IG(){let $=new Map;return{profiles:$,announce:(Z)=>{let Y=$.get(Z.entityId),V=Z.metadata?.lastUpdated||0,G=Y?.metadata?.lastUpdated||0;if(!Y||V>G)$.set(Z.entityId,Z),console.log(`\uD83D\uDCE1 Gossip updated for ${Z.entityId} (timestamp: ${V})`);else console.log(`\uD83D\uDCE1 Gossip ignored older update for ${Z.entityId} (${V} <= ${G})`)},getProfiles:()=>{return Array.from($.values())}}}async function xq($,Q){try{let X=0,Z=$.iterator({gte:"profile:",lt:"profile:ÿ"});for await(let[Y,V]of Z)try{let G=JSON.parse(V);Q.announce({entityId:G.entityId,capabilities:G.capabilities||[],hubs:G.hubs||[],metadata:{name:G.name,avatar:G.avatar,bio:G.bio,website:G.website,lastUpdated:G.lastUpdated,hankoSignature:G.hankoSignature}}),X++}catch(G){console.warn(`⚠️ Failed to parse profile from key ${Y}:`,G)}return console.log(`\uD83D\uDCE1 Restored ${X} profiles from DB into gossip`),X}catch(X){return console.error("❌ Failed to load persisted profiles:",X),0}}pW();var FX=!1,JV=!1;class kq{provider;entityProviderContract;depositoryContract;signers=new Map;isWatching=!1;entityProviderABI=["event EntityRegistered(bytes32 indexed entityId, uint256 indexed entityNumber, bytes32 boardHash)","event ControlSharesReleased(bytes32 indexed entityId, address indexed depository, uint256 controlAmount, uint256 dividendAmount, string purpose)","event NameAssigned(string indexed name, uint256 indexed entityNumber)"];depositoryABI=["event ControlSharesReceived(address indexed entityProvider, address indexed fromEntity, uint256 indexed tokenId, uint256 amount, bytes data)","event ReserveUpdated(bytes32 indexed entity, uint256 indexed tokenId, uint256 newBalance)","event ReserveTransferred(bytes32 indexed from, bytes32 indexed to, uint256 indexed tokenId, uint256 amount)","event SettlementProcessed(bytes32 indexed leftEntity, bytes32 indexed rightEntity, uint256 indexed tokenId, uint256 leftReserve, uint256 rightReserve, uint256 collateral, int256 ondelta)"];constructor($){if(this.provider=new lQ.JsonRpcProvider($.rpcUrl),this.entityProviderContract=new lQ.Contract($.entityProviderAddress,this.entityProviderABI,this.provider),this.depositoryContract=new lQ.Contract($.depositoryAddress,this.depositoryABI,this.provider),FX)console.log(`\uD83D\uDD2D J-WATCHER: Initialized with RPC: ${$.rpcUrl}`),console.log(`\uD83D\uDD2D J-WATCHER: EntityProvider: ${$.entityProviderAddress}`),console.log(`\uD83D\uDD2D J-WATCHER: Depository: ${$.depositoryAddress}`)}addSigner($,Q,X){if(this.signers.set($,{signerId:$,privateKey:Q,entityIds:X}),FX)console.log(`\uD83D\uDD2D J-WATCHER: Added signer ${$} monitoring entities: ${X.join(", ")}`)}async startWatching($){if(this.isWatching){console.log("\uD83D\uDD2D J-WATCHER: Already watching");return}this.isWatching=!0,console.log("\uD83D\uDD2D J-WATCHER: Starting simple first-principles watcher...");try{let Q=await this.provider.getBlockNumber();console.log(`\uD83D\uDD2D J-WATCHER: Connected to blockchain at block ${Q}`)}catch(Q){console.log(`\uD83D\uDD2D⚠️  J-WATCHER: Blockchain not ready, will retry: ${Q instanceof Error?Q.message:String(Q)}`)}setInterval(async()=>{if(!this.isWatching)return;try{await this.syncAllProposerReplicas($)}catch(Q){if(FX&&!(Q instanceof Error&&Q.message.includes("ECONNREFUSED")))console.error("\uD83D\uDD2D❌ J-WATCHER: Sync error:",Q instanceof Error?Q.message:String(Q))}},1000),console.log("\uD83D\uDD2D J-WATCHER: Started with simple 1s polling")}stopWatching(){this.isWatching=!1,this.entityProviderContract.removeAllListeners(),this.depositoryContract.removeAllListeners(),console.log("\uD83D\uDD2D J-WATCHER: Stopped watching")}async syncAllProposerReplicas($){try{let Q=await this.provider.getBlockNumber();if(FX){console.log(`\uD83D\uDD2D\uD83D\uDD0D SYNC-START: Current blockchain block=${Q}, total replicas=${$.replicas.size}`),console.log(`\uD83D\uDD2D\uD83D\uDD0D SYNC-ENV-TIMESTAMP: env.timestamp=${$.timestamp}`);for(let[Z,Y]of $.replicas.entries())console.log(`\uD83D\uDD2D\uD83D\uDD0D REPLICA-STATE: ${Z} → jBlock=${Y.state.jBlock}, height=${Y.state.height}, isProposer=${Y.isProposer}`)}let X=[];for(let[Z,Y]of $.replicas.entries())if(Y.isProposer){let[V,G]=Z.split(":");if(!V||!G)continue;let H=Y.state.jBlock||0;if(FX)console.log(`\uD83D\uDD2D\uD83D\uDD0D REPLICA-CHECK: ${G} → Entity ${V.slice(0,10)}... jBlock=${H}, currentBlock=${Q}, isProposer=${Y.isProposer}`);if(H<Q){if(X.push({entityId:V,signerId:G,lastJBlock:H}),JV)console.log(`\uD83D\uDD2D\uD83D\uDD0D PROPOSER-SYNC: Found proposer ${G} for entity ${V.slice(0,10)}... at jBlock ${H}, needs sync to ${Q}`)}else if(FX)console.log(`\uD83D\uDD2D✅ REPLICA-SYNCED: ${G} → Entity ${V.slice(0,10)}... already synced (jBlock=${H} >= currentBlock=${Q})`)}if(X.length===0)return;if(FX){console.log(`\uD83D\uDD2D⚡ SYNC: ${X.length} proposer replicas need sync to block ${Q}`);for(let{entityId:Z,signerId:Y,lastJBlock:V}of X)console.log(`\uD83D\uDD2D\uD83D\uDCCB SYNC-QUEUE: ${Y} → Entity ${Z.slice(0,10)}... from j-block ${V+1} to ${Q}`)}for(let{entityId:Z,signerId:Y,lastJBlock:V}of X)await this.syncEntityFromJBlock(Z,Y,V+1,Q,$)}catch(Q){if(!(Q instanceof Error)||!Q.message.includes("ECONNREFUSED"))throw Q}}async syncEntityFromJBlock($,Q,X,Z,Y){if(X>Z)return;if(FX)console.log(`\uD83D\uDD2D\uD83D\uDCE1 ENTITY-SYNC: Entity ${$.slice(0,10)}... (${Q}) from j-block ${X} to ${Z}`);try{let V=await this.getEntityEventsInRange($,X,Z);if(V.length===0){if(JV)console.log(`\uD83D\uDD2D⚪ ENTITY-SYNC: No events found for entity ${$.slice(0,10)}... in blocks ${X}-${Z}`);return}console.log(`\uD83D\uDD2D\uD83D\uDCE6 ENTITY-SYNC: Found ${V.length} new events for entity ${$.slice(0,10)}... in blocks ${X}-${Z}`);for(let G of V)this.feedEventToProposer($,Q,G,Y);console.log(`\uD83D\uDD2D✅ ENTITY-SYNC: Queued ${V.length} events for entity ${$.slice(0,10)}... (${Q})`)}catch(V){console.error(`\uD83D\uDD2D❌ ENTITY-SYNC: Error syncing entity ${$.slice(0,10)}...`,V instanceof Error?V.message:String(V))}}async getEntityEventsInRange($,Q,X){if(JV)console.log(`\uD83D\uDD2D\uD83D\uDD0D EVENT-QUERY: Fetching events for entity ${$.slice(0,10)}... blocks ${Q}-${X}`);let Z=this.depositoryContract.filters.ReserveUpdated,Y=this.depositoryContract.filters.SettlementProcessed;if(!Z||!Y)throw new Error("Contract filters not available");let[V,G,H]=await Promise.all([this.depositoryContract.queryFilter(Z($),Q,X),this.depositoryContract.queryFilter(Y($,null,null),Q,X),this.depositoryContract.queryFilter(Y(null,$,null),Q,X)]);if(JV)console.log(`\uD83D\uDD2D\uD83D\uDD0D EVENT-QUERY: Entity ${$.slice(0,10)}... - Reserve: ${V.length}, SettlementLeft: ${G.length}, SettlementRight: ${H.length}`);let D=[...V.map((A)=>({...A,eventType:"ReserveUpdated"})),...G.map((A)=>({...A,eventType:"SettlementProcessed",side:"left"})),...H.map((A)=>({...A,eventType:"SettlementProcessed",side:"right"}))].sort((A,T)=>{if(A.blockNumber!==T.blockNumber)return A.blockNumber-T.blockNumber;return(A.transactionIndex||0)-(T.transactionIndex||0)});if(JV&&D.length>0)console.log(`\uD83D\uDD2D\uD83D\uDD0D EVENT-QUERY: Entity ${$.slice(0,10)}... total events: ${D.length}`),D.forEach((A,T)=>{console.log(`\uD83D\uDD2D\uD83D\uDD0D EVENT-${T}: ${A.eventType} at block ${A.blockNumber} tx ${A.transactionIndex}`)});return D}feedEventToProposer($,Q,X,Z){let Y;if(X.eventType==="ReserveUpdated"){if(Y={type:"j_event",data:{from:Q,event:{type:"ReserveUpdated",data:{entity:$,tokenId:Number(X.args.tokenId),newBalance:X.args.newBalance.toString(),symbol:`TKN${X.args.tokenId}`,decimals:18}},observedAt:Date.now(),blockNumber:X.blockNumber,transactionHash:X.transactionHash}},FX)console.log(`\uD83D\uDD2D\uD83D\uDCB0 R2R-EVENT: Entity ${$.slice(0,10)}... Token ${X.args.tokenId} Balance ${(Number(X.args.newBalance)/1000000000000000000).toFixed(4)} (block ${X.blockNumber})`)}else if(X.eventType==="SettlementProcessed"){let V=X.side==="left",G=V?X.args.rightEntity.toString():X.args.leftEntity.toString(),H=V?X.args.leftReserve:X.args.rightReserve,D=V?X.args.rightReserve:X.args.leftReserve,A=V?X.args.ondelta:-X.args.ondelta;if(Y={type:"j_event",data:{from:Q,event:{type:"SettlementProcessed",data:{leftEntity:X.args.leftEntity.toString(),rightEntity:X.args.rightEntity.toString(),counterpartyEntityId:G,tokenId:Number(X.args.tokenId),ownReserve:H.toString(),counterpartyReserve:D.toString(),collateral:X.args.collateral.toString(),ondelta:A.toString(),side:X.side}},observedAt:Date.now(),blockNumber:X.blockNumber,transactionHash:X.transactionHash}},FX)console.log(`\uD83D\uDD2D\uD83D\uDCB1 SETTLE-EVENT: Entity ${$.slice(0,10)}... vs ${G.slice(0,10)}... (${X.side} side, block ${X.blockNumber})`)}if(Y)console.log(`\uD83D\uDEA8 J-WATCHER-CREATING-EVENT: ${Q} creating j-event ${X.eventType} block=${X.blockNumber} for entity ${$.slice(0,10)}...`),Z.serverInput.entityInputs.push({entityId:$,signerId:Q,entityTxs:[Y]}),console.log(`\uD83D\uDD2D✅ J-WATCHER-QUEUED: ${Q} → Entity ${$.slice(0,10)}... (${X.eventType}) block=${X.blockNumber} - Queue length now: ${Z.serverInput.entityInputs.length}`)}async syncNewlyCreatedEntities($){if(FX)console.log("\uD83D\uDD2D⚠️  J-WATCHER: syncNewlyCreatedEntities called (legacy) - first-principles design handles this automatically");return!1}async getCurrentBlockNumber(){try{return await this.provider.getBlockNumber()}catch($){if(FX)console.log("\uD83D\uDD2D⚠️  J-WATCHER: Could not get current block, using 0:",$ instanceof Error?$.message:String($));return 0}}getStatus(){return{isWatching:this.isWatching,signerCount:this.signers.size}}}function e3($){return new kq($)}async function fq($,Q,X,Z){let Y=e3({rpcUrl:Q,entityProviderAddress:X,depositoryAddress:Z,startBlock:0});if(Y.addSigner("s1","s1-private-key",["1","2","3","4","5"]),Y.addSigner("s2","s2-private-key",["1","2","3","4","5"]),Y.addSigner("s3","s3-private-key",["1","2","3","4","5"]),await Y.startWatching($),FX)console.log("\uD83D\uDD2D✅ J-WATCHER: Setup complete with first-principles design");return Y}VG();dW();ZX();var tO=($,Q,X,Z="DEPOSIT")=>{let Y={entityId:$,signerId:Q,entityTxs:[{type:"j_event",data:{from:Q,event:{type:"ReserveUpdated",data:{entity:$,tokenId:X.tokenId,newBalance:X.amount,name:X.asset,symbol:X.asset,decimals:X.decimals}},observedAt:Date.now(),blockNumber:1,transactionHash:`0xDEMO_${Z}_${X.asset}_${$.slice(0,10)}`}}]};if(u0)console.log(`\uD83C\uDFAD Mock j_event created: ${Z} ${X.amount} ${X.asset} for entity ${$.slice(0,10)}...`);return Y},eO=async($)=>{if(u0)console.log("\uD83D\uDE80 Starting XLN Demo: First Principles");let Q=await uW("ethereum");if(!Q)throw new Error("❌ Ethereum jurisdiction not found");let X="s1",Z="s2";console.log(`
\uD83D\uDCCB Forming entities e1=[${X}] and e2=[${Z}]...`);let Y={mode:"proposer-based",threshold:BigInt(1),validators:[X],shares:{[X]:BigInt(1)},jurisdiction:Q},V=XY(1),G={mode:"proposer-based",threshold:BigInt(1),validators:[Z],shares:{[Z]:BigInt(1)},jurisdiction:Q},H=XY(2);await wZ($,{serverTxs:[{type:"importReplica",entityId:V,signerId:X,data:{config:Y,isProposer:!0}},{type:"importReplica",entityId:H,signerId:Z,data:{config:G,isProposer:!0}}],entityInputs:[]}),await PG($,[]);let D=$.replicas.get(`${V}:${X}`),A=$.replicas.get(`${H}:${Z}`);if(D)console.log(`\uD83E\uDDF9 Cleared ${D.mempool.length} leftover transactions from e1 mempool`),D.mempool.length=0;if(A)console.log(`\uD83E\uDDF9 Cleared ${A.mempool.length} leftover transactions from e2 mempool`),A.mempool.length=0;console.log(`✅ Entity ${H$(V)} and ${H$(H)} created.`),console.log(`
\uD83D\uDCB0 Prefunding entity ${H$(V)}...`);let F=[{asset:"ETH",amount:"100000000000000000000",decimals:18,tokenId:1},{asset:"USDT",amount:"5000000000",decimals:6,tokenId:2}].map((L)=>tO(V,X,L));await wZ($,{serverTxs:[],entityInputs:F}),await PG($,[]);let M=$.replicas.get(`${V}:${X}`);if(u0)if(console.log("\uD83D\uDCCA Debug - Reserves after funding:"),M?.state.reserves)for(let[L,W]of M.state.reserves.entries())console.log(`  Token ${L}: ${W.toString()}`);else console.log("  No reserves found");let I=M?.state.reserves.get("1"),P=100000000000000000000n;if(!M)throw new Error("❌ Verification failed: e1 replica not found after funding.");if(I===void 0)throw new Error("❌ Verification failed: e1 ETH reserve not found. Available reserves: "+Array.from(M.state.reserves.keys()).join(", "));if(I!==P)throw new Error(`❌ Verification failed: e1 ETH amount mismatch. Expected: ${P}, Got: ${I}`);console.log(`✅ ${H$(V)} funded successfully with ${I/10n**18n} ETH.`),console.log(`
\uD83D\uDCB8 Performing reserve transfer from ${H$(V)} to ${H$(H)}...`);let S=1000000000000000000n,j=1,N=$.replicas.get(`${V}:${X}`),w=$.replicas.get(`${H}:${Z}`);if(!N)throw new Error("❌ Entity 1 replica not found before transfer");let k=N.state.reserves.get("1")??0n,f=w?.state.reserves.get("1")??0n;console.log(`\uD83D\uDCCA Pre-transfer: e1=${k}, e2=${f}`);let v=k-S,c=f+S;console.log(`\uD83D\uDCCA Post-transfer: e1=${v}, e2=${c}`);let u=[tO(V,X,{asset:"ETH",amount:v.toString(),decimals:18,tokenId:j},"TRANSFER_OUT"),tO(H,Z,{asset:"ETH",amount:c.toString(),decimals:18,tokenId:j},"TRANSFER_IN")];console.log("\uD83D\uDCB8 Simulating jurisdiction events for reserve transfer..."),await wZ($,{serverTxs:[],entityInputs:u}),await PG($,[]),console.log("✅ Transfer transaction submitted.");let Z0=$.replicas.get(`${V}:${X}`),e=$.replicas.get(`${H}:${Z}`);if(u0){if(console.log("\uD83D\uDCCA Debug - Final reserves after transfer:"),console.log("Entity 1 reserves:"),Z0?.state.reserves)for(let[L,W]of Z0.state.reserves.entries())console.log(`  Token ${L}: ${W.toString()}`);if(console.log("Entity 2 reserves:"),e?.state.reserves)for(let[L,W]of e.state.reserves.entries())console.log(`  Token ${L}: ${W.toString()}`)}let p=Z0?.state.reserves.get("1"),s=e?.state.reserves.get("1"),E=99000000000000000000n,J=1000000000000000000n;if(p!==E)throw new Error(`❌ Verification failed: e1 has incorrect final ETH balance. Expected: ${E}, Got: ${p}`);if(s!==J)throw new Error(`❌ Verification failed: e2 did not receive ETH. Expected: ${J}, Got: ${s}`);console.log(`✅ State verified: e1 has ${p/10n**18n} ETH, e2 has ${s/10n**18n} ETH.`),console.log(`
\uD83D\uDCB3 Opening account between ${H$(V)} and ${H$(H)}...`),await wZ($,{serverTxs:[],entityInputs:[{entityId:V,signerId:X,entityTxs:[{type:"openAccount",data:{targetEntityId:H}}]}]}),await PG($,[]),console.log(`✅ Account opened between ${H$(V)} and ${H$(H)}`),console.log(`
\uD83D\uDCB8 ${H$(V)} sending direct payment to ${H$(H)}...`),await wZ($,{serverTxs:[],entityInputs:[{entityId:V,signerId:X,entityTxs:[{type:"accountInput",data:{fromEntityId:V,toEntityId:H,accountTx:{type:"direct_payment",data:{tokenId:3,amount:50000n,description:"Demo direct payment from e1 to e2"}},metadata:{purpose:"account_direct_payment",description:"Testing direct payment with global credit limits"}}}]}]}),await PG($,[]),console.log(`✅ Direct payment sent: $500 USD from ${H$(V)} to ${H$(H)}`);let U=$.replicas.get(`${V}:${X}`),z=$.replicas.get(`${H}:${Z}`);if(console.log(`
\uD83D\uDD0D BILATERAL BALANCE VERIFICATION:`),U?.state.accounts.has(H)&&z?.state.accounts.has(V)){let L=U.state.accounts.get(H),W=z.state.accounts.get(V),q=L.deltas.get(3),_=W.deltas.get(3);if(q&&_){let B=q.ondelta+q.offdelta,x=_.ondelta+_.offdelta,b=B+x;if(console.log(`\uD83D\uDCB0 E1 owes E2: ${B.toString()} cents ($${(Number(B)/100).toFixed(2)})`),console.log(`\uD83D\uDCB0 E2 owes E1: ${x.toString()} cents ($${(Number(x)/100).toFixed(2)})`),console.log(`\uD83D\uDCB0 Sum: ${b.toString()} cents (should be 0)`),b===0n)console.log("✅ CONSERVATION LAW VERIFIED: Bilateral balance maintained in rundemo!");else console.log("❌ CONSERVATION VIOLATED: Bilateral imbalance detected!");if(B===50000n&&x===-50000n)console.log("✅ PAYMENT VERIFIED: $500 correctly transferred from E1 to E2");else console.log(`❌ PAYMENT MISMATCH: Expected E1:+500, E2:-500, got E1:${B}, E2:${x}`)}else console.log("⚠️ Missing deltas for verification")}else console.log("⚠️ Account machines not found for verification");let C=$.replicas.get(`${V}:${X}`),R=$.replicas.get(`${H}:${Z}`);if(C?.state.accounts.has(H)){let L=C.state.accounts.get(H);console.log(`\uD83D\uDCB3 ${H$(V)} account with ${H$(H)}:`),console.log(`   Credit limits: own=${L.globalCreditLimits.ownLimit.toString()} USD, peer=${L.globalCreditLimits.peerLimit.toString()} USD`),console.log(`   Frame ${L.currentFrame.frameId}: tokens=[${L.currentFrame.tokenIds.join(",")}], deltas=[${L.currentFrame.deltas.map((W)=>W.toString()).join(",")}]`),console.log(`   Sent transitions: ${L.sentTransitions}, mempool: ${L.mempool.length}`)}if(R?.state.accounts.has(V)){let L=R.state.accounts.get(V);console.log(`\uD83D\uDCB3 ${H$(H)} account with ${H$(V)}:`),console.log(`   Credit limits: own=${L.globalCreditLimits.ownLimit.toString()} USD, peer=${L.globalCreditLimits.peerLimit.toString()} USD`),console.log(`   Frame ${L.currentFrame.frameId}: tokens=[${L.currentFrame.tokenIds.join(",")}], deltas=[${L.currentFrame.deltas.map((W)=>W.toString()).join(",")}]`),console.log(`   Sent transitions: ${L.sentTransitions}, mempool: ${L.mempool.length}`)}return console.log(`
\uD83C\uDFAF J-MOCKED Demo completed with Account System!`),console.log("\uD83D\uDCCA Check the dashboard to verify final reserve states and account states."),console.log("\uD83D\uDCB3 Account system: 1M USD credit limits, direct payment processed"),console.log('\uD83C\uDF10 For REAL blockchain integration, use the "Run Demo" button in the UI!'),$};TU();iJ();QV();RG();$V();ZX();VG();dW();async function $B($,Q){console.log("\uD83C\uDF10 Starting XLN Prepopulation"),console.log("================================"),console.log("Creating network topology:"),console.log("  • 3 Hubs (E1, E2, E3) - fully connected"),console.log("  • 7 Users (E4-E10) - connected to hubs"),console.log("    - E4, E5 → Hub E1"),console.log("    - E6, E7 → Hub E2"),console.log("    - E8, E9, E10 → Hub E3"),console.log(`================================
`);let Z=(await mW()).find((D)=>D.name.toLowerCase()==="ethereum");if(!Z)throw new Error("Ethereum jurisdiction not found in available jurisdictions");console.log(`\uD83D\uDCCB Using jurisdiction: ${Z.name}`),console.log(`  ├─ EntityProvider: ${Z.entityProviderAddress}`),console.log(`  └─ Depository: ${Z.depositoryAddress}`),console.log("\uD83D\uDCE6 Step 1: Creating 10 entities with blockchain-assigned IDs..."),console.log("  Each entity will get sequential ID from the blockchain");let Y=[],V=[];for(let D=1;D<=10;D++){let A=`s${D}`,T=D<=3,F=T?`Hub ${D}`:`User ${D}`;try{let{config:M,entityNumber:I,entityId:P}=await LO(F,[A],1n,Z);Y.push({id:P,signer:A,isHub:T}),console.log(`  ✓ Created ${F}: Entity #${I} (${P.slice(0,10)}...)`),V.push({type:"importReplica",entityId:P,signerId:A,data:{isProposer:!0,config:M}})}catch(M){console.error(`  ❌ Failed to create ${F}:`,M);let I=D,P="0x"+I.toString(16).padStart(64,"0");Y.push({id:P,signer:A,isHub:T}),V.push({type:"importReplica",entityId:P,signerId:A,data:{isProposer:!0,config:{mode:"proposer-based",threshold:1n,validators:[A],shares:{[A]:1n},jurisdiction:Z}}}),console.log(`  ⚠️ Using fallback ID for ${F}: Entity #${I}`)}}await wZ($,{serverTxs:V,entityInputs:[]}),console.log(`
  ✅ Imported ${Y.length} entities`),Y.forEach((D)=>{let A=parseInt(D.id.slice(2),16);console.log(`    • Entity #${A}: ${D.isHub?"HUB":"User"} (signer: ${D.signer})`)}),console.log(`
\uD83D\uDCE1 Step 2: Connecting hubs to each other...`);let G=Y.slice(0,3);for(let D=0;D<G.length;D++)for(let A=D+1;A<G.length;A++){let T=G[D],F=G[A];if(!T||!F)continue;await Q($,[{entityId:T.id,signerId:T.signer,entityTxs:[{type:"openAccount",data:{targetEntityId:F.id}}]}]);let M=parseInt(T.id.slice(2),16),I=parseInt(F.id.slice(2),16);console.log(`  \uD83D\uDD17 Hub E${M} ←→ Hub E${I} connected`)}console.log(`
\uD83D\uDC65 Step 3: Connecting users to hubs...`);let H=[{users:[3,4],hub:0},{users:[5,6],hub:1},{users:[7,8,9],hub:2}];for(let D of H)for(let A of D.users){let T=Y[A],F=Y[D.hub];if(!T||!F)continue;await Q($,[{entityId:T.id,signerId:T.signer,entityTxs:[{type:"openAccount",data:{targetEntityId:F.id}}]}]);let M=parseInt(T.id.slice(2),16),I=parseInt(F.id.slice(2),16);console.log(`  \uD83D\uDC64 User E${M} → Hub E${I} connected`)}console.log(`
\uD83C\uDFAF Step 4: Setting hub profiles with lower fees...`);for(let D=0;D<3;D++){let A=G[D];if(!A)continue;let T=parseInt(A.id.slice(2),16);await Q($,[{entityId:A.id,signerId:A.signer,entityTxs:[{type:"profile-update",data:{profile:{entityId:A.id,name:`Hub ${T}`,bio:"Professional routing hub with high capacity and low fees",isHub:!0,routingFeePPM:50,baseFee:0n}}}]}]),console.log(`  \uD83D\uDCB0 Hub E${T} - routing fee: 50 PPM (0.005%)`)}console.log(`
================================`),console.log("✅ Prepopulation Complete!"),console.log(`
Network topology created:`),console.log("  • 3 Hubs with full mesh connectivity"),console.log("  • 7 Users connected to hubs"),console.log("  • Total accounts: 9 (3 hub-to-hub + 6 user-to-hub)"),console.log(`
You can now:`),console.log("  1. Send payments between any entities"),console.log("  2. Payments will route through hubs automatically"),console.log("  3. View the network in the Network Directory"),console.log(`================================
`)}var NZ=new FK("db",{valueEncoding:"buffer",keyEncoding:"binary"}),$4=null,b$,Q4=null,vq=!1,op=($)=>{$4=$},gq=($)=>{if($4)$4($)},yq=async($)=>{try{let Q=await uW("ethereum");if(!Q){console.warn("⚠️ Ethereum jurisdiction not found, skipping j-watcher");return}Q4=await fq($,Q.address,Q.entityProviderAddress,Q.depositoryAddress),console.log("✅ J-Event Watcher started successfully"),console.log(`\uD83D\uDD2D Monitoring: ${Q.address}`),console.log(`\uD83D\uDCCD EntityProvider: ${Q.entityProviderAddress}`),console.log(`\uD83D\uDCCD Depository: ${Q.depositoryAddress}`),setInterval(async()=>{if($.serverInput.entityInputs.length>0){let X=$.serverInput.entityInputs.length;console.log(`\uD83D\uDD2D J-WATCHER: Processing ${X} J-machine events`),await wZ($,{serverTxs:[],entityInputs:[...$.serverInput.entityInputs]}),$.serverInput.entityInputs.length=0}},100)}catch(Q){console.error("❌ Failed to start J-Event Watcher:",Q)}},wZ=async($,Q)=>{let X=Date.now();try{if(!Q)return i0.error("❌ Null server input provided"),{entityOutbox:[],mergedInputs:[]};if(!Array.isArray(Q.serverTxs))return i0.error(`❌ Invalid serverTxs: expected array, got ${typeof Q.serverTxs}`),{entityOutbox:[],mergedInputs:[]};if(!Array.isArray(Q.entityInputs))return i0.error(`❌ Invalid entityInputs: expected array, got ${typeof Q.entityInputs}`),{entityOutbox:[],mergedInputs:[]};if(Q.serverTxs.length>1000)return i0.error(`❌ Too many server transactions: ${Q.serverTxs.length} > 1000`),{entityOutbox:[],mergedInputs:[]};if(Q.entityInputs.length>1e4)return i0.error(`❌ Too many entity inputs: ${Q.entityInputs.length} > 10000`),{entityOutbox:[],mergedInputs:[]};$.serverInput.serverTxs.push(...Q.serverTxs),$.serverInput.entityInputs.push(...Q.entityInputs);let Z=_q($.serverInput.entityInputs);Z.forEach((M,I)=>{try{pO(M)}catch(P){throw console.error(`\uD83D\uDEA8 CRITICAL FINANCIAL ERROR: Invalid merged EntityInput[${I}]!`,{error:P.message,input:M}),P}});let Y=[];if(u0){if(console.log(`
=== TICK ${$.height} ===`),console.log(`Server inputs: ${Q.serverTxs.length} new serverTxs, ${Q.entityInputs.length} new entityInputs`),console.log(`Total in env: ${$.serverInput.serverTxs.length} serverTxs, ${$.serverInput.entityInputs.length} entityInputs (merged to ${Z.length})`),Z.length>0)console.log("\uD83D\uDD04 Processing merged inputs:"),Z.forEach((M,I)=>{let P=[];if(M.entityTxs?.length)P.push(`${M.entityTxs.length} txs`);if(M.precommits?.size)P.push(`${M.precommits.size} precommits`);if(M.proposedFrame)P.push(`frame: ${M.proposedFrame.hash.slice(0,10)}...`);console.log(`  ${I+1}. ${M.entityId}:${M.signerId} (${P.join(", ")||"empty"})`)})}console.log(`\uD83D\uDD0D REPLICA-DEBUG: Processing ${$.serverInput.serverTxs.length} serverTxs, current replicas: ${$.replicas.size}`),$.serverInput.serverTxs.forEach((M)=>{if(M.type==="importReplica"){if(u0)console.log(`Importing replica Entity #${H$(M.entityId)}:${nJ(M.signerId)} (proposer: ${M.data.isProposer})`);let I=`${M.entityId}:${M.signerId}`;$.replicas.set(I,{entityId:M.entityId,signerId:M.signerId,state:{entityId:M.entityId,height:0,timestamp:$.timestamp,nonces:new Map,messages:[],proposals:new Map,config:M.data.config,reserves:new Map,accounts:new Map,jBlock:0},mempool:[],isProposer:M.data.isProposer});let P=$.replicas.get(I),S=P?.state.jBlock;if(console.log(`\uD83D\uDD0D REPLICA-DEBUG: Added replica ${I}, jBlock should be 0, actually is: ${S} (type: ${typeof S})`),$.gossip&&P){let j={entityId:M.entityId,capabilities:[],hubs:[],metadata:{lastUpdated:Date.now(),routingFeePPM:100,baseFee:0n},accounts:[]};$.gossip.announce(j),console.log(`\uD83D\uDCE1 Broadcast initial profile for Entity #${H$(M.entityId)}`)}if(typeof S!=="number"){if(console.error("\uD83D\uDCA5 ENTITY-CREATION-BUG: Just created entity with invalid jBlock!"),console.error(`\uD83D\uDCA5   Expected: 0 (number), Got: ${typeof S}, Value: ${S}`),P)P.state.jBlock=0,console.log(`\uD83D\uDCA5   FIXED: Set jBlock to 0 for replica ${I}`)}}}),console.log(`\uD83D\uDD0D REPLICA-DEBUG: After processing serverTxs, total replicas: ${$.replicas.size}`),console.log(`\uD83D\uDD0D SERVER-PROCESSING: About to process ${Z.length} merged entity inputs`);for(let M of Z){let I=M.entityTxs.filter((N)=>N.type==="j_event").length;if(I>0)console.log(`\uD83D\uDEA8 FOUND-J-EVENTS: Entity ${M.entityId.slice(0,10)}... has ${I} j-events from ${M.signerId}`),M.entityTxs.filter((N)=>N.type==="j_event").forEach((N,w)=>{console.log(`\uD83D\uDEA8   J-EVENT-${w}: type=${N.data.event.type}, block=${N.data.blockNumber}, observedAt=${new Date(N.data.observedAt).toLocaleTimeString()}`)});let P=M.signerId;if(!P||P===""){if(M.entityTxs.some((w)=>w.type==="accountInput")){let w=Array.from($.replicas.keys()).filter((k)=>k.startsWith(M.entityId+":"));if(w.length>0){let k=w[0];if(!k){console.error(`❌ Invalid replica key for entity ${M.entityId}`);continue}let f=$.replicas.get(k);if(f?.state.config.validators[0])P=f.state.config.validators[0],console.log(`\uD83D\uDD04 AUTO-ROUTE: Routing AccountInput to proposer ${P} for entity ${M.entityId.slice(0,10)}...`)}}if(!P||P===""){console.warn(`⚠️ No signerId and unable to determine proposer for entity ${M.entityId.slice(0,10)}...`);continue}}let S=`${M.entityId}:${P}`,j=$.replicas.get(S);if(console.log(`\uD83D\uDD0D REPLICA-LOOKUP: Key="${S}"`),console.log(`\uD83D\uDD0D REPLICA-LOOKUP: Found replica: ${!!j}`),console.log(`\uD83D\uDD0D REPLICA-LOOKUP: Input txs: ${M.entityTxs.length}`),M.entityTxs&&M.entityTxs.length>0)console.log("\uD83D\uDD0D REPLICA-LOOKUP: Tx types:",M.entityTxs.map((N)=>N.type));if(!j)console.log("\uD83D\uDD0D REPLICA-LOOKUP: Available replica keys:",Array.from($.replicas.keys()));if(j){if(u0){if(console.log(`Processing input for ${S}:`),M.entityTxs.length)console.log(`  → ${M.entityTxs.length} transactions`);if(M.proposedFrame)console.log(`  → Proposed frame: ${M.proposedFrame.hash}`);if(M.precommits?.size)console.log(`  → ${M.precommits.size} precommits`)}let{newState:N,outputs:w}=await wq($,j,M);$.replicas.set(S,{...j,state:N}),w.forEach((k,f)=>{try{Uq(k)}catch(v){throw console.error(`\uD83D\uDEA8 CRITICAL FINANCIAL ERROR: Invalid EntityOutput[${f}] from ${S}!`,{error:v.message,output:k}),v}}),Y.push(...w)}}let V=$.serverInput.serverTxs.length>0,G=Z.length>0,H=Y.length>0;if(V||G||H){$.height++,$.timestamp=Date.now();let M=`Tick ${$.height-1}: ${$.serverInput.serverTxs.length} serverTxs, ${Z.length} merged entityInputs → ${Y.length} outputs`,I={serverTxs:[...$.serverInput.serverTxs],entityInputs:[...Z]};$.serverInput.serverTxs.length=0,$.serverInput.entityInputs.length=0,await qq($,$.history,NZ,I,Y,M)}else console.log("⚪ SKIP-FRAME: No serverTxs, entityInputs, or outputs - not creating empty frame");if(console.log(`\uD83D\uDD0D REPLICA-DEBUG: Before notifyEnvChange, total replicas: ${$.replicas.size}`),console.log("\uD83D\uDD0D REPLICA-DEBUG: Replica keys:",Array.from($.replicas.keys())),console.log("\uD83D\uDD0D GOSSIP-DEBUG: Environment keys before notify:",Object.keys($)),console.log("\uD83D\uDD0D GOSSIP-DEBUG: Gossip layer exists:",!!$.gossip),console.log("\uD83D\uDD0D GOSSIP-DEBUG: Gossip layer type:",typeof $.gossip),console.log("\uD83D\uDD0D GOSSIP-DEBUG: Gossip announce method:",typeof $.gossip?.announce),!$.gossip)console.log("\uD83D\uDEA8 CRITICAL: gossip layer missing from environment, creating new one"),$.gossip=IG(),console.log("✅ Gossip layer created and added to environment");let D=Array.from($.replicas.keys()).filter((M)=>M.startsWith("0x0000000000000000000000000000000000000000000000000000000000000001:")||M.startsWith("0x0000000000000000000000000000000000000000000000000000000000000002:")),A=Array.from($.replicas.keys()).filter((M)=>!M.startsWith("0x0000000000000000000000000000000000000000000000000000000000000001:")&&!M.startsWith("0x0000000000000000000000000000000000000000000000000000000000000002:")&&!M.startsWith("0x57e360b00f393ea6d898d6119f71db49241be80aec0fbdecf6358b0103d43a31:"));if(console.log(`\uD83D\uDD0D OLD-ENTITY-DEBUG: ${D.length} old entities:`,D.slice(0,2)),console.log(`\uD83D\uDD0D NEW-ENTITY-DEBUG: ${A.length} new entities:`,A.slice(0,2)),D.length>0&&A.length>0){let M=D[0],I=A[0];if(!M||!I)console.error(`❌ Invalid replica keys: old=${M}, new=${I}`);else{let P=$.replicas.get(M),S=$.replicas.get(I);console.log("\uD83D\uDD0D OLD-REPLICA-STRUCTURE:",{hasState:!!P?.state,hasConfig:!!P?.state?.config,hasJurisdiction:!!P?.state?.config?.jurisdiction,jurisdictionName:P?.state?.config?.jurisdiction?.name}),console.log("\uD83D\uDD0D NEW-REPLICA-STRUCTURE:",{hasState:!!S?.state,hasConfig:!!S?.state?.config,hasJurisdiction:!!S?.state?.config?.jurisdiction,jurisdictionName:S?.state?.config?.jurisdiction?.name})}}if(gq($),u0&&Y.length>0)console.log(`\uD83D\uDCE4 Outputs: ${Y.length} messages`),Y.forEach((M,I)=>{console.log(`  ${I+1}. → ${M.signerId} (${M.entityTxs?`${M.entityTxs.length} txs`:""}${M.proposedFrame?` proposal: ${M.proposedFrame.hash.slice(0,10)}...`:""}${M.precommits?` ${M.precommits.size} precommits`:""})`)});else if(u0&&Y.length===0)console.log("\uD83D\uDCE4 No outputs generated");if(u0)console.log("Replica states:"),$.replicas.forEach((M,I)=>{let[P,S]=I.split(":");if(!P||!S)return;let j=H$(P),N=nJ(S);console.log(`  Entity #${j}:${N}: mempool=${M.mempool.length}, messages=${M.state.messages.length}, proposal=${M.proposal?"✓":"✗"}`)});if(!(Q.serverTxs.length===0&&Q.entityInputs.length>0)&&(Q.serverTxs.length>0||Z.length>0)){let M={replicas:new Map($.replicas),height:$.height,timestamp:$.timestamp,serverInput:{serverTxs:[],entityInputs:[]},serverOutputs:[],description:`Frame ${$.height} snapshot`,gossip:$.gossip};if(!$.history)$.history=[];$.history.push(M),console.log(`\uD83D\uDCF8 Frame ${$.height}: Snapshot added to history (${Q.serverTxs.length} serverTxs, ${Z.length} entityInputs)`)}gq($);let F=Date.now();if(u0)console.log(`⏱️  Tick ${$.height-1} completed in ${F-X}ms`);return{entityOutbox:Y,mergedInputs:Z}}catch(Z){return i0.error("❌ Error processing server input:",Z),{entityOutbox:[],mergedInputs:[]}}},QB=async()=>{if(!LQ)try{let{loadJurisdictions:Q}=await Promise.resolve().then(() => (zO(),lL)),X=Q();console.log("\uD83D\uDD0D STARTUP: Current jurisdictions content (from centralized loader):"),console.log("\uD83D\uDCCD Ethereum Depository:",X.jurisdictions.ethereum?.contracts?.depository),console.log("\uD83D\uDCCD Ethereum EntityProvider:",X.jurisdictions.ethereum?.contracts?.entityProvider),console.log("\uD83D\uDCCD Last updated:",X.lastUpdated),console.log("\uD83D\uDCCD Full Ethereum config:",JSON.stringify(X.jurisdictions.ethereum,null,2))}catch(Q){console.log("⚠️ Failed to load jurisdictions:",Q.message)}console.log("\uD83D\uDD78️ Initializing gossip layer...");let $=IG();console.log("✅ Gossip layer initialized"),console.log("\uD83D\uDCE1 Loading persisted profiles from database..."),await xq(NZ,$),b$={replicas:new Map,height:0,timestamp:Date.now(),serverInput:{serverTxs:[],entityInputs:[]},history:[],gossip:$};try{if(LQ)console.log("\uD83C\uDF10 BROWSER-DEBUG: Starting IndexedDB snapshot loading process...");else console.log("\uD83D\uDDA5️ Node.js environment: Attempting to load snapshots from filesystem...");console.log("\uD83D\uDD0D BROWSER-DEBUG: Querying latest_height from database...");let Q=await NZ.get(Buffer.from("latest_height")),X=parseInt(Q.toString(),10);console.log(`\uD83D\uDCCA BROWSER-DEBUG: Found latest height in DB: ${X}`),console.log(`\uD83D\uDCCA Found latest height: ${X}, loading ${X+1} snapshots...`),console.log(`\uD83D\uDCE5 Loading snapshots: 1 to ${X}...`);let Z=[];for(let Y=1;Y<=X;Y++)try{let V=await NZ.get(Buffer.from(`snapshot:${Y}`)),G=Dq(V);Z.push(G),console.log(`\uD83D\uDCE6 Snapshot ${Y}: loaded ${V.length} bytes`)}catch(V){console.error(`❌ Failed to load snapshot ${Y}:`,V),console.warn(`⚠️ Snapshot ${Y} missing, continuing with available data...`)}if(Z.length===0)throw console.log(`\uD83D\uDCE6 No snapshots found (latestHeight: ${X}), using fresh environment`),new Error("LEVEL_NOT_FOUND");if(console.log(`\uD83D\uDCCA Successfully loaded ${Z.length}/${X} snapshots (starting from height 1)`),b$.history=Z,Z.length>0){let Y=Z[Z.length-1],V=IG();if(Y.gossip?.profiles){for(let[G,H]of Object.entries(Y.gossip.profiles))V.profiles.set(G,H);console.log(`\uD83D\uDCE1 Restored gossip profiles: ${Object.keys(Y.gossip.profiles).length} entries`)}b$={replicas:new Map(Array.from(Y.replicas).map(([G,H])=>{return[G,uO(H)]})),height:Y.height,timestamp:Y.timestamp,serverInput:{serverTxs:[],entityInputs:[]},history:Z,gossip:V},console.log(`✅ History restored. Server is at height ${b$.height} with ${b$.history.length} snapshots.`),console.log("\uD83D\uDCC8 Snapshot details:",{height:b$.height,replicaCount:b$.replicas.size,timestamp:new Date(b$.timestamp).toISOString(),serverInputs:b$.serverInput.entityInputs.length})}}catch(Q){if(Q.code==="LEVEL_NOT_FOUND")if(console.log("\uD83D\uDCE6 BROWSER-DEBUG: No saved state found, using fresh environment"),LQ)console.log("\uD83D\uDCA1 BROWSER-DEBUG: This is normal for first-time use. IndexedDB will be created automatically."),console.log("\uD83D\uDD0D BROWSER-DEBUG: Fresh environment means entities will start with jBlock=0");else console.log("\uD83D\uDCA1 Node.js: No existing snapshots in db directory.");else throw console.error("❌ Failed to load state from LevelDB:",Q),console.error("\uD83D\uDD0D Error details:",{code:Q.code,message:Q.message,isBrowser:LQ,dbLocation:LQ?"IndexedDB: db":"db"}),Q}if(!LQ)console.log(`
\uD83D\uDE80 Hanko tests disabled during development - focusing on core functionality`);else console.log("\uD83C\uDF10 Browser environment: Demos available via UI buttons, not auto-running");if(i0.info(`\uD83C\uDFAF Server startup complete. Height: ${b$.height}, Entities: ${b$.replicas.size}`),LQ){console.log("\uD83D\uDD0D BROWSER-DEBUG: Final state before j-watcher start:"),console.log(`\uD83D\uDD0D   Environment height: ${b$.height}`),console.log(`\uD83D\uDD0D   Total replicas: ${b$.replicas.size}`);for(let[Q,X]of b$.replicas.entries()){let[Z,Y]=Q.split(":");if(Z&&Y)console.log(`\uD83D\uDD0D   Entity ${Z.slice(0,10)}... (${Y}): jBlock=${X.state.jBlock}, isProposer=${X.isProposer}`)}}if(!vq)try{console.log("\uD83D\uDD2D STARTING-JWATCHER: Snapshots loaded, starting j-watcher..."),await yq(b$),vq=!0,console.log("\uD83D\uDD2D JWATCHER-READY: J-watcher started successfully")}catch(Q){console.error("❌ Failed to start J-Event Watcher:",Q)}else console.log("\uD83D\uDD2D JWATCHER-SKIP: J-watcher already started, skipping");return b$},np=()=>b$.history||[],sp=($)=>{let Q=b$.history||[];return $>=0&&$<Q.length?Q[$]:null},ip=()=>(b$.history||[]).length-1,rp=async()=>{console.log("\uD83D\uDDD1️ Clearing database and resetting server history..."),await eD(NZ),b$={replicas:new Map,height:0,timestamp:Date.now(),serverInput:{serverTxs:[],entityInputs:[]},history:[],gossip:IG()},console.log("✅ Database and server history cleared")},ap=()=>{if(!Q4||!b$)return null;return{isWatching:Q4.getStatus().isWatching,proposers:Array.from(b$.replicas.entries()).filter(([,$])=>$.isProposer).map(([$,Q])=>{let[X,Z]=$.split(":");if(!X||!Z)throw new Error(`Invalid replica key format: ${$}`);return{entityId:X.slice(0,10)+"...",signerId:Z,jBlock:Q.state.jBlock}}),nextSyncIn:Math.floor((1000-Date.now()%1000)/100)/10}};if(!LQ)QB().then(async($)=>{if($)if(!(process.env.NO_DEMO==="1"||process.argv.includes("--no-demo")))console.log("✅ Node.js environment initialized. Running demo for local testing..."),console.log("\uD83D\uDCA1 To skip demo, use: NO_DEMO=1 bun run src/server.ts or --no-demo flag"),await eO($),await yq($),setTimeout(async()=>{await XB()},2000);else console.log("✅ Node.js environment initialized. Demo skipped (NO_DEMO=1 or --no-demo)"),console.log("\uD83D\uDCA1 Use XLN.runDemo(env) to run demo manually if needed")}).catch(($)=>{console.error("❌ An error occurred during Node.js auto-execution:",$)});var XB=async()=>{console.log(`
\uD83D\uDD0D === JURISDICTION VERIFICATION ===`),console.log(`\uD83D\uDCCB Verifying entity registrations across all jurisdictions...
`);let $=await mW();for(let Q of $)try{console.log(`\uD83C\uDFDB️ ${Q.name}:`),console.log(`   \uD83D\uDCE1 RPC: ${Q.address}`),console.log(`   \uD83D\uDCC4 Contract: ${Q.entityProviderAddress}`);let{entityProvider:X}=await yX(Q),Z=await X.nextNumber(),Y=Number(Z)-1;if(console.log(`   \uD83D\uDCCA Registered Entities: ${Y}`),Y>0){console.log("   \uD83D\uDCDD Entity Details:");for(let V=1;V<=Y;V++)try{let G=XY(V),H=await X.entities(G);console.log(`      #${V}: ${G.slice(0,10)}... (Block: ${H.registrationBlock})`)}catch(G){console.log(`      #${V}: Error reading entity data`)}}console.log("")}catch(X){console.error(`   ❌ Failed to verify ${Q.name}:`,X instanceof Error?X.message:X),console.log("")}console.log(`✅ Jurisdiction verification complete!
`)},tp=async()=>{try{if(typeof window!=="undefined"){console.log("\uD83C\uDFAF Browser environment detected - running simplified Hanko demo..."),console.log("✅ Basic signature verification available"),console.log("\uD83D\uDCA1 Full test suite available in Node.js environment"),console.log("✅ Hanko browser demo completed!");return}console.log("\uD83C\uDFAF Complete Hanko test suite disabled during strict TypeScript mode"),console.log("✅ Complete Hanko tests skipped!")}catch($){throw console.error("❌ Complete Hanko tests failed:",$),$}},ep=async($)=>{try{console.log("\uD83D\uDE80 Starting XLN Consensus Demo..."),console.log("\uD83D\uDCCA This will demonstrate entity creation, consensus, and message passing");let Q=await eO($);return console.log("✅ XLN Demo completed successfully!"),console.log("\uD83C\uDFAF Check the entity cards above to see the results"),console.log("\uD83D\uDD70️ Use the time machine to replay the consensus steps"),Q}catch(Q){throw console.error("❌ XLN Demo failed:",Q),Q}},$c=()=>{return{replicas:new Map,height:0,timestamp:Date.now(),serverInput:{serverTxs:[],entityInputs:[]},history:[],gossip:IG()}},PG=async($,Q)=>{let X=Q||[],Z=0,Y=10;if(X.length>0)console.log("\uD83D\uDD25 PROCESS-CASCADE: Starting with",X.length,"initial outputs"),console.log("\uD83D\uDD25 PROCESS-CASCADE: Initial outputs:",X.map((V)=>{try{pO(V)}catch(G){throw console.error("\uD83D\uDEA8 CRITICAL FINANCIAL ERROR: Invalid EntityInput detected!",{error:G.message,input:V}),G}return{entityId:V.entityId.slice(0,8)+"...",signerId:V.signerId,txs:V.entityTxs?.length||0,precommits:V.precommits?.size||0,hasFrame:!!V.proposedFrame}}));X.forEach((V,G)=>{if(V.entityTxs?.some((H)=>H.type==="vote"))console.log(`\uD83D\uDDF3️ VOTE-DEBUG: Input ${G+1} contains vote transactions:`,V.entityTxs.filter((H)=>H.type==="vote"))});while(X.length>0&&Z<Y)if(Z++,console.log(`\uD83D\uDD25 PROCESS-CASCADE: Iteration ${Z} - processing ${X.length} outputs`),X=(await wZ($,{serverTxs:[],entityInputs:X})).entityOutbox,console.log(`\uD83D\uDD25 PROCESS-CASCADE: Iteration ${Z} generated ${X.length} new outputs`),X.length>0)console.log("\uD83D\uDD25 PROCESS-CASCADE: New outputs:",X.map((G)=>({entityId:G.entityId.slice(0,8)+"...",signerId:G.signerId,txs:G.entityTxs?.length||0,precommits:G.precommits?.size||0,hasFrame:!!G.proposedFrame})));if(Z>0){let V={replicas:new Map($.replicas),height:$.height,timestamp:$.timestamp,serverInput:{serverTxs:[],entityInputs:[]},serverOutputs:[],description:`ProcessUntilEmpty frame ${$.height}`,gossip:$.gossip};if(!$.history)$.history=[];$.history.push(V),console.log(`\uD83D\uDCF8 Frame ${$.height}: ProcessUntilEmpty snapshot added (after ${Z} iterations)`)}if(Z>=Y)console.warn("⚠️ processUntilEmpty reached maximum iterations");else if(Z>0)console.log(`\uD83D\uDD25 PROCESS-CASCADE: Completed after ${Z} iterations`);return $};var Xc=($,Q)=>Xq(NZ,$,Q),Zc=($)=>Yq(NZ,$),Yc=($)=>Jq(NZ,$);export{sJ as validateDelta,w3 as validateAccountDeltas,QD as transferNameBetweenEntities,ZD as submitSettle,YD as submitReserveToReserve,rL as submitProcessBatch,iL as submitPrefundAccount,Xc as searchEntityNames,TX as safeStringify,ep as runDemoWrapper,eO as runDemo,Zc as resolveEntityName,vI as resolveEntityIdentifier,fI as requestNamedEntity,aL as registerNumberedEntityOnChain,op as registerEnvChangeCallback,PG as processUntilEmpty,$B as prepopulate,k3 as parseTokenAmount,QB as main,XV as isLeft,gI as isEntityRegistered,x3 as isDelta,WG as hashBoard,MG as getTokenInfo,sp as getSnapshot,E3 as getSignerDisplayInfo,$D as getNextEntityNumber,uW as getJurisdictionByAddress,ap as getJWatcherStatus,np as getHistory,m5 as getEntityNumber,eL as getEntityInfoFromChain,Yc as getEntityDisplayInfoFromProfile,R3 as getEntityDisplayInfo,jZ as getDefaultCreditLimit,ip as getCurrentHistoryIndex,mW as getAvailableJurisdictions,vO as generateSignerAvatar,XY as generateNumberedEntityId,xI as generateNamedEntityId,GD as generateLazyEntityId,qG as generateEntityAvatar,mO as formatTokenAmountEthers,mO as formatTokenAmount,nJ as formatSignerDisplay,H$ as formatEntityDisplay,Hq as formatAssetAmountEthers,YU as encodeBoard,CG as encode,lW as detectEntityType,ZV as deriveDelta,tp as demoCompleteHanko,Dq as decode,sL as debugFundReserves,NZ as db,B3 as createProfileUpdateTx,LO as createNumberedEntity,kI as createLazyEntity,$c as createEmptyEnv,AG as createDemoDelta,_3 as createDefaultDelta,f3 as convertTokenPrecision,yX as connectToEthereum,rp as clearDatabaseAndHistory,eD as clearDatabase,zq as calculatePercentageEthers,tL as assignNameOnChain,wZ as applyServerInput,g3 as FINANCIAL_CONSTANTS,v3 as BigIntMath};
